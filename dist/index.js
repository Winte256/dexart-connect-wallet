var xk=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var N1e=xk(no=>{function _k(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ek={id:56,name:"BNB Smart Chain",network:"bsc",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]},public:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}},L8={id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0},$8={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}},F2=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Mg=(t,e,r)=>(F2(t,e,"read from private field"),r?r.call(t):e.get(t)),Tg=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},a0=(t,e,r,n)=>(F2(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Sk=(t,e,r)=>(F2(t,e,"access private method"),r),ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ht(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Of={},Ak={get exports(){return Of},set exports(t){Of=t}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function s(c,l,u,h,b){if(typeof u!="function")throw new TypeError("The listener must be a function");var v=new i(u,h||c,b),E=r?r+l:l;return c._events[E]?c._events[E].fn?c._events[E]=[c._events[E],v]:c._events[E].push(v):(c._events[E]=v,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,h;if(this._eventsCount===0)return l;for(h in u=this._events)e.call(u,h)&&l.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=r?r+l:l,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var b=0,v=h.length,E=new Array(v);b<v;b++)E[b]=h[b].fn;return E},a.prototype.listenerCount=function(l){var u=r?r+l:l,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(l,u,h,b,v,E){var D=r?r+l:l;if(!this._events[D])return!1;var x=this._events[D],_=arguments.length,m,w;if(x.fn){switch(x.once&&this.removeListener(l,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,h),!0;case 4:return x.fn.call(x.context,u,h,b),!0;case 5:return x.fn.call(x.context,u,h,b,v),!0;case 6:return x.fn.call(x.context,u,h,b,v,E),!0}for(w=1,m=new Array(_-1);w<_;w++)m[w-1]=arguments[w];x.fn.apply(x.context,m)}else{var A=x.length,k;for(w=0;w<A;w++)switch(x[w].once&&this.removeListener(l,x[w].fn,void 0,!0),_){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,u);break;case 3:x[w].fn.call(x[w].context,u,h);break;case 4:x[w].fn.call(x[w].context,u,h,b);break;default:if(!m)for(k=1,m=new Array(_-1);k<_;k++)m[k-1]=arguments[k];x[w].fn.apply(x[w].context,m)}}return!0},a.prototype.on=function(l,u,h){return s(this,l,u,h,!1)},a.prototype.once=function(l,u,h){return s(this,l,u,h,!0)},a.prototype.removeListener=function(l,u,h,b){var v=r?r+l:l;if(!this._events[v])return this;if(!u)return o(this,v),this;var E=this._events[v];if(E.fn)E.fn===u&&(!b||E.once)&&(!h||E.context===h)&&o(this,v);else{for(var D=0,x=[],_=E.length;D<_;D++)(E[D].fn!==u||b&&!E[D].once||h&&E[D].context!==h)&&x.push(E[D]);x.length?this._events[v]=x.length===1?x[0]:x:o(this,v)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(Ak);var Ck=Object.defineProperty,Ik=(t,e,r)=>e in t?Ck(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,br=(t,e,r)=>(Ik(t,typeof e!="symbol"?e+"":e,r),r),U2=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Or=(t,e,r)=>(U2(t,e,"read from private field"),r?r.call(t):e.get(t)),Vn=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},qs=(t,e,r,n)=>(U2(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ts=(t,e,r)=>(U2(t,e,"access private method"),r),Tp=class extends Of{constructor({chains:e=[$8,L8],options:r}){super(),br(this,"chains"),br(this,"options"),this.chains=e,this.options=r}getBlockExplorerUrls(e){const{default:r,...n}=e.blockExplorers??{};if(r)return[r.url,...Object.values(n).map(i=>i.url)]}isChainUnsupported(e){return!this.chains.some(r=>r.id===e)}},$a={},Mk={get exports(){return $a},set exports(t){$a=t}};const Tk={},kk=Object.freeze(Object.defineProperty({__proto__:null,default:Tk},Symbol.toStringTag,{value:"Module"})),Ll=Ht(kk);(function(t){(function(e,r){function n(I,f){if(!I)throw new Error(f||"Assertion failed")}function i(I,f){I.super_=f;var p=function(){};p.prototype=f.prototype,I.prototype=new p,I.prototype.constructor=I}function s(I,f,p){if(s.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((f==="le"||f==="be")&&(p=f,f=10),this._init(I||0,f||10,p||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Ll.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,p){return f.cmp(p)>0?f:p},s.min=function(f,p){return f.cmp(p)<0?f:p},s.prototype._init=function(f,p,T){if(typeof f=="number")return this._initNumber(f,p,T);if(typeof f=="object")return this._initArray(f,p,T);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),f=f.toString().replace(/\s+/g,"");var M=0;f[0]==="-"&&(M++,this.negative=1),M<f.length&&(p===16?this._parseHex(f,M,T):(this._parseBase(f,p,M),T==="le"&&this._initArray(this.toArray(),p,T)))},s.prototype._initNumber=function(f,p,T){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),p,T)},s.prototype._initArray=function(f,p,T){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var C,d,B=0;if(T==="be")for(M=f.length-1,C=0;M>=0;M-=3)d=f[M]|f[M-1]<<8|f[M-2]<<16,this.words[C]|=d<<B&67108863,this.words[C+1]=d>>>26-B&67108863,B+=24,B>=26&&(B-=26,C++);else if(T==="le")for(M=0,C=0;M<f.length;M+=3)d=f[M]|f[M+1]<<8|f[M+2]<<16,this.words[C]|=d<<B&67108863,this.words[C+1]=d>>>26-B&67108863,B+=24,B>=26&&(B-=26,C++);return this._strip()};function a(I,f){var p=I.charCodeAt(f);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+I)}function c(I,f,p){var T=a(I,p);return p-1>=f&&(T|=a(I,p-1)<<4),T}s.prototype._parseHex=function(f,p,T){this.length=Math.ceil((f.length-p)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var C=0,d=0,B;if(T==="be")for(M=f.length-1;M>=p;M-=2)B=c(f,p,M)<<C,this.words[d]|=B&67108863,C>=18?(C-=18,d+=1,this.words[d]|=B>>>26):C+=8;else{var O=f.length-p;for(M=O%2===0?p+1:p;M<f.length;M+=2)B=c(f,p,M)<<C,this.words[d]|=B&67108863,C>=18?(C-=18,d+=1,this.words[d]|=B>>>26):C+=8}this._strip()};function l(I,f,p,T){for(var M=0,C=0,d=Math.min(I.length,p),B=f;B<d;B++){var O=I.charCodeAt(B)-48;M*=T,O>=49?C=O-49+10:O>=17?C=O-17+10:C=O,n(O>=0&&C<T,"Invalid character"),M+=C}return M}s.prototype._parseBase=function(f,p,T){this.words=[0],this.length=1;for(var M=0,C=1;C<=67108863;C*=p)M++;M--,C=C/p|0;for(var d=f.length-T,B=d%M,O=Math.min(d,d-B)+T,g=0,L=T;L<O;L+=M)g=l(f,L,L+M,p),this.imuln(C),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g);if(B!==0){var Q=1;for(g=l(f,L,f.length,p),L=0;L<B;L++)Q*=p;this.imuln(Q),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g)}this._strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var p=0;p<this.length;p++)f.words[p]=this.words[p];f.length=this.length,f.negative=this.negative,f.red=this.red};function u(I,f){I.words=f.words,I.length=f.length,I.negative=f.negative,I.red=f.red}if(s.prototype._move=function(f){u(f,this)},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,p){f=f||10,p=p|0||1;var T;if(f===16||f==="hex"){T="";for(var M=0,C=0,d=0;d<this.length;d++){var B=this.words[d],O=((B<<M|C)&16777215).toString(16);C=B>>>24-M&16777215,M+=2,M>=26&&(M-=26,d--),C!==0||d!==this.length-1?T=b[6-O.length]+O+T:T=O+T}for(C!==0&&(T=C.toString(16)+T);T.length%p!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(f===(f|0)&&f>=2&&f<=36){var g=v[f],L=E[f];T="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var P=Q.modrn(L).toString(f);Q=Q.idivn(L),Q.isZero()?T=P+T:T=b[g-P.length]+P+T}for(this.isZero()&&(T="0"+T);T.length%p!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(f,p){return this.toArrayLike(o,f,p)}),s.prototype.toArray=function(f,p){return this.toArrayLike(Array,f,p)};var D=function(f,p){return f.allocUnsafe?f.allocUnsafe(p):new f(p)};s.prototype.toArrayLike=function(f,p,T){this._strip();var M=this.byteLength(),C=T||Math.max(1,M);n(M<=C,"byte array longer than desired length"),n(C>0,"Requested array length <= 0");var d=D(f,C),B=p==="le"?"LE":"BE";return this["_toArrayLike"+B](d,M),d},s.prototype._toArrayLikeLE=function(f,p){for(var T=0,M=0,C=0,d=0;C<this.length;C++){var B=this.words[C]<<d|M;f[T++]=B&255,T<f.length&&(f[T++]=B>>8&255),T<f.length&&(f[T++]=B>>16&255),d===6?(T<f.length&&(f[T++]=B>>24&255),M=0,d=0):(M=B>>>24,d+=2)}if(T<f.length)for(f[T++]=M;T<f.length;)f[T++]=0},s.prototype._toArrayLikeBE=function(f,p){for(var T=f.length-1,M=0,C=0,d=0;C<this.length;C++){var B=this.words[C]<<d|M;f[T--]=B&255,T>=0&&(f[T--]=B>>8&255),T>=0&&(f[T--]=B>>16&255),d===6?(T>=0&&(f[T--]=B>>24&255),M=0,d=0):(M=B>>>24,d+=2)}if(T>=0)for(f[T--]=M;T>=0;)f[T--]=0},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var p=f,T=0;return p>=4096&&(T+=13,p>>>=13),p>=64&&(T+=7,p>>>=7),p>=8&&(T+=4,p>>>=4),p>=2&&(T+=2,p>>>=2),T+p},s.prototype._zeroBits=function(f){if(f===0)return 26;var p=f,T=0;return p&8191||(T+=13,p>>>=13),p&127||(T+=7,p>>>=7),p&15||(T+=4,p>>>=4),p&3||(T+=2,p>>>=2),p&1||T++,T},s.prototype.bitLength=function(){var f=this.words[this.length-1],p=this._countBits(f);return(this.length-1)*26+p};function x(I){for(var f=new Array(I.bitLength()),p=0;p<f.length;p++){var T=p/26|0,M=p%26;f[p]=I.words[T]>>>M&1}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,p=0;p<this.length;p++){var T=this._zeroBits(this.words[p]);if(f+=T,T!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]|f.words[p];return this._strip()},s.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var p;this.length>f.length?p=f:p=this;for(var T=0;T<p.length;T++)this.words[T]=this.words[T]&f.words[T];return this.length=p.length,this._strip()},s.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var p,T;this.length>f.length?(p=this,T=f):(p=f,T=this);for(var M=0;M<T.length;M++)this.words[M]=p.words[M]^T.words[M];if(this!==p)for(;M<p.length;M++)this.words[M]=p.words[M];return this.length=p.length,this._strip()},s.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var p=Math.ceil(f/26)|0,T=f%26;this._expand(p),T>0&&p--;for(var M=0;M<p;M++)this.words[M]=~this.words[M]&67108863;return T>0&&(this.words[M]=~this.words[M]&67108863>>26-T),this._strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,p){n(typeof f=="number"&&f>=0);var T=f/26|0,M=f%26;return this._expand(T+1),p?this.words[T]=this.words[T]|1<<M:this.words[T]=this.words[T]&~(1<<M),this._strip()},s.prototype.iadd=function(f){var p;if(this.negative!==0&&f.negative===0)return this.negative=0,p=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,p=this.isub(f),f.negative=1,p._normSign();var T,M;this.length>f.length?(T=this,M=f):(T=f,M=this);for(var C=0,d=0;d<M.length;d++)p=(T.words[d]|0)+(M.words[d]|0)+C,this.words[d]=p&67108863,C=p>>>26;for(;C!==0&&d<T.length;d++)p=(T.words[d]|0)+C,this.words[d]=p&67108863,C=p>>>26;if(this.length=T.length,C!==0)this.words[this.length]=C,this.length++;else if(T!==this)for(;d<T.length;d++)this.words[d]=T.words[d];return this},s.prototype.add=function(f){var p;return f.negative!==0&&this.negative===0?(f.negative=0,p=this.sub(f),f.negative^=1,p):f.negative===0&&this.negative!==0?(this.negative=0,p=f.sub(this),this.negative=1,p):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var p=this.iadd(f);return f.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var T=this.cmp(f);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,C;T>0?(M=this,C=f):(M=f,C=this);for(var d=0,B=0;B<C.length;B++)p=(M.words[B]|0)-(C.words[B]|0)+d,d=p>>26,this.words[B]=p&67108863;for(;d!==0&&B<M.length;B++)p=(M.words[B]|0)+d,d=p>>26,this.words[B]=p&67108863;if(d===0&&B<M.length&&M!==this)for(;B<M.length;B++)this.words[B]=M.words[B];return this.length=Math.max(this.length,B),M!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function _(I,f,p){p.negative=f.negative^I.negative;var T=I.length+f.length|0;p.length=T,T=T-1|0;var M=I.words[0]|0,C=f.words[0]|0,d=M*C,B=d&67108863,O=d/67108864|0;p.words[0]=B;for(var g=1;g<T;g++){for(var L=O>>>26,Q=O&67108863,P=Math.min(g,f.length-1),G=Math.max(0,g-I.length+1);G<=P;G++){var V=g-G|0;M=I.words[V]|0,C=f.words[G]|0,d=M*C+Q,L+=d/67108864|0,Q=d&67108863}p.words[g]=Q|0,O=L|0}return O!==0?p.words[g]=O|0:p.length--,p._strip()}var m=function(f,p,T){var M=f.words,C=p.words,d=T.words,B=0,O,g,L,Q=M[0]|0,P=Q&8191,G=Q>>>13,V=M[1]|0,K=V&8191,Y=V>>>13,N=M[2]|0,U=N&8191,Z=N>>>13,ae=M[3]|0,ce=ae&8191,pe=ae>>>13,ee=M[4]|0,j=ee&8191,q=ee>>>13,X=M[5]|0,ie=X&8191,fe=X>>>13,de=M[6]|0,ge=de&8191,be=de>>>13,Ae=M[7]|0,we=Ae&8191,J=Ae>>>13,$=M[8]|0,F=$&8191,te=$>>>13,se=M[9]|0,oe=se&8191,le=se>>>13,ke=C[0]|0,_e=ke&8191,Ce=ke>>>13,rt=C[1]|0,Ie=rt&8191,qe=rt>>>13,dr=C[2]|0,Je=dr&8191,Ze=dr>>>13,Tt=C[3]|0,Re=Tt&8191,De=Tt>>>13,kt=C[4]|0,Be=kt&8191,Pe=kt>>>13,Dt=C[5]|0,Fe=Dt&8191,Ue=Dt>>>13,Bt=C[6]|0,je=Bt&8191,$e=Bt>>>13,Ot=C[7]|0,Oe=Ot&8191,He=Ot>>>13,Lt=C[8]|0,Xe=Lt&8191,et=Lt>>>13,Kr=C[9]|0,ft=Kr&8191,Rt=Kr>>>13;T.negative=f.negative^p.negative,T.length=19,O=Math.imul(P,_e),g=Math.imul(P,Ce),g=g+Math.imul(G,_e)|0,L=Math.imul(G,Ce);var Dr=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,O=Math.imul(K,_e),g=Math.imul(K,Ce),g=g+Math.imul(Y,_e)|0,L=Math.imul(Y,Ce),O=O+Math.imul(P,Ie)|0,g=g+Math.imul(P,qe)|0,g=g+Math.imul(G,Ie)|0,L=L+Math.imul(G,qe)|0;var Br=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(Br>>>26)|0,Br&=67108863,O=Math.imul(U,_e),g=Math.imul(U,Ce),g=g+Math.imul(Z,_e)|0,L=Math.imul(Z,Ce),O=O+Math.imul(K,Ie)|0,g=g+Math.imul(K,qe)|0,g=g+Math.imul(Y,Ie)|0,L=L+Math.imul(Y,qe)|0,O=O+Math.imul(P,Je)|0,g=g+Math.imul(P,Ze)|0,g=g+Math.imul(G,Je)|0,L=L+Math.imul(G,Ze)|0;var Lr=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,O=Math.imul(ce,_e),g=Math.imul(ce,Ce),g=g+Math.imul(pe,_e)|0,L=Math.imul(pe,Ce),O=O+Math.imul(U,Ie)|0,g=g+Math.imul(U,qe)|0,g=g+Math.imul(Z,Ie)|0,L=L+Math.imul(Z,qe)|0,O=O+Math.imul(K,Je)|0,g=g+Math.imul(K,Ze)|0,g=g+Math.imul(Y,Je)|0,L=L+Math.imul(Y,Ze)|0,O=O+Math.imul(P,Re)|0,g=g+Math.imul(P,De)|0,g=g+Math.imul(G,Re)|0,L=L+Math.imul(G,De)|0;var $r=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+($r>>>26)|0,$r&=67108863,O=Math.imul(j,_e),g=Math.imul(j,Ce),g=g+Math.imul(q,_e)|0,L=Math.imul(q,Ce),O=O+Math.imul(ce,Ie)|0,g=g+Math.imul(ce,qe)|0,g=g+Math.imul(pe,Ie)|0,L=L+Math.imul(pe,qe)|0,O=O+Math.imul(U,Je)|0,g=g+Math.imul(U,Ze)|0,g=g+Math.imul(Z,Je)|0,L=L+Math.imul(Z,Ze)|0,O=O+Math.imul(K,Re)|0,g=g+Math.imul(K,De)|0,g=g+Math.imul(Y,Re)|0,L=L+Math.imul(Y,De)|0,O=O+Math.imul(P,Be)|0,g=g+Math.imul(P,Pe)|0,g=g+Math.imul(G,Be)|0,L=L+Math.imul(G,Pe)|0;var sr=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(sr>>>26)|0,sr&=67108863,O=Math.imul(ie,_e),g=Math.imul(ie,Ce),g=g+Math.imul(fe,_e)|0,L=Math.imul(fe,Ce),O=O+Math.imul(j,Ie)|0,g=g+Math.imul(j,qe)|0,g=g+Math.imul(q,Ie)|0,L=L+Math.imul(q,qe)|0,O=O+Math.imul(ce,Je)|0,g=g+Math.imul(ce,Ze)|0,g=g+Math.imul(pe,Je)|0,L=L+Math.imul(pe,Ze)|0,O=O+Math.imul(U,Re)|0,g=g+Math.imul(U,De)|0,g=g+Math.imul(Z,Re)|0,L=L+Math.imul(Z,De)|0,O=O+Math.imul(K,Be)|0,g=g+Math.imul(K,Pe)|0,g=g+Math.imul(Y,Be)|0,L=L+Math.imul(Y,Pe)|0,O=O+Math.imul(P,Fe)|0,g=g+Math.imul(P,Ue)|0,g=g+Math.imul(G,Fe)|0,L=L+Math.imul(G,Ue)|0;var Dn=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,O=Math.imul(ge,_e),g=Math.imul(ge,Ce),g=g+Math.imul(be,_e)|0,L=Math.imul(be,Ce),O=O+Math.imul(ie,Ie)|0,g=g+Math.imul(ie,qe)|0,g=g+Math.imul(fe,Ie)|0,L=L+Math.imul(fe,qe)|0,O=O+Math.imul(j,Je)|0,g=g+Math.imul(j,Ze)|0,g=g+Math.imul(q,Je)|0,L=L+Math.imul(q,Ze)|0,O=O+Math.imul(ce,Re)|0,g=g+Math.imul(ce,De)|0,g=g+Math.imul(pe,Re)|0,L=L+Math.imul(pe,De)|0,O=O+Math.imul(U,Be)|0,g=g+Math.imul(U,Pe)|0,g=g+Math.imul(Z,Be)|0,L=L+Math.imul(Z,Pe)|0,O=O+Math.imul(K,Fe)|0,g=g+Math.imul(K,Ue)|0,g=g+Math.imul(Y,Fe)|0,L=L+Math.imul(Y,Ue)|0,O=O+Math.imul(P,je)|0,g=g+Math.imul(P,$e)|0,g=g+Math.imul(G,je)|0,L=L+Math.imul(G,$e)|0;var Bn=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,O=Math.imul(we,_e),g=Math.imul(we,Ce),g=g+Math.imul(J,_e)|0,L=Math.imul(J,Ce),O=O+Math.imul(ge,Ie)|0,g=g+Math.imul(ge,qe)|0,g=g+Math.imul(be,Ie)|0,L=L+Math.imul(be,qe)|0,O=O+Math.imul(ie,Je)|0,g=g+Math.imul(ie,Ze)|0,g=g+Math.imul(fe,Je)|0,L=L+Math.imul(fe,Ze)|0,O=O+Math.imul(j,Re)|0,g=g+Math.imul(j,De)|0,g=g+Math.imul(q,Re)|0,L=L+Math.imul(q,De)|0,O=O+Math.imul(ce,Be)|0,g=g+Math.imul(ce,Pe)|0,g=g+Math.imul(pe,Be)|0,L=L+Math.imul(pe,Pe)|0,O=O+Math.imul(U,Fe)|0,g=g+Math.imul(U,Ue)|0,g=g+Math.imul(Z,Fe)|0,L=L+Math.imul(Z,Ue)|0,O=O+Math.imul(K,je)|0,g=g+Math.imul(K,$e)|0,g=g+Math.imul(Y,je)|0,L=L+Math.imul(Y,$e)|0,O=O+Math.imul(P,Oe)|0,g=g+Math.imul(P,He)|0,g=g+Math.imul(G,Oe)|0,L=L+Math.imul(G,He)|0;var Ln=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,O=Math.imul(F,_e),g=Math.imul(F,Ce),g=g+Math.imul(te,_e)|0,L=Math.imul(te,Ce),O=O+Math.imul(we,Ie)|0,g=g+Math.imul(we,qe)|0,g=g+Math.imul(J,Ie)|0,L=L+Math.imul(J,qe)|0,O=O+Math.imul(ge,Je)|0,g=g+Math.imul(ge,Ze)|0,g=g+Math.imul(be,Je)|0,L=L+Math.imul(be,Ze)|0,O=O+Math.imul(ie,Re)|0,g=g+Math.imul(ie,De)|0,g=g+Math.imul(fe,Re)|0,L=L+Math.imul(fe,De)|0,O=O+Math.imul(j,Be)|0,g=g+Math.imul(j,Pe)|0,g=g+Math.imul(q,Be)|0,L=L+Math.imul(q,Pe)|0,O=O+Math.imul(ce,Fe)|0,g=g+Math.imul(ce,Ue)|0,g=g+Math.imul(pe,Fe)|0,L=L+Math.imul(pe,Ue)|0,O=O+Math.imul(U,je)|0,g=g+Math.imul(U,$e)|0,g=g+Math.imul(Z,je)|0,L=L+Math.imul(Z,$e)|0,O=O+Math.imul(K,Oe)|0,g=g+Math.imul(K,He)|0,g=g+Math.imul(Y,Oe)|0,L=L+Math.imul(Y,He)|0,O=O+Math.imul(P,Xe)|0,g=g+Math.imul(P,et)|0,g=g+Math.imul(G,Xe)|0,L=L+Math.imul(G,et)|0;var $n=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+($n>>>26)|0,$n&=67108863,O=Math.imul(oe,_e),g=Math.imul(oe,Ce),g=g+Math.imul(le,_e)|0,L=Math.imul(le,Ce),O=O+Math.imul(F,Ie)|0,g=g+Math.imul(F,qe)|0,g=g+Math.imul(te,Ie)|0,L=L+Math.imul(te,qe)|0,O=O+Math.imul(we,Je)|0,g=g+Math.imul(we,Ze)|0,g=g+Math.imul(J,Je)|0,L=L+Math.imul(J,Ze)|0,O=O+Math.imul(ge,Re)|0,g=g+Math.imul(ge,De)|0,g=g+Math.imul(be,Re)|0,L=L+Math.imul(be,De)|0,O=O+Math.imul(ie,Be)|0,g=g+Math.imul(ie,Pe)|0,g=g+Math.imul(fe,Be)|0,L=L+Math.imul(fe,Pe)|0,O=O+Math.imul(j,Fe)|0,g=g+Math.imul(j,Ue)|0,g=g+Math.imul(q,Fe)|0,L=L+Math.imul(q,Ue)|0,O=O+Math.imul(ce,je)|0,g=g+Math.imul(ce,$e)|0,g=g+Math.imul(pe,je)|0,L=L+Math.imul(pe,$e)|0,O=O+Math.imul(U,Oe)|0,g=g+Math.imul(U,He)|0,g=g+Math.imul(Z,Oe)|0,L=L+Math.imul(Z,He)|0,O=O+Math.imul(K,Xe)|0,g=g+Math.imul(K,et)|0,g=g+Math.imul(Y,Xe)|0,L=L+Math.imul(Y,et)|0,O=O+Math.imul(P,ft)|0,g=g+Math.imul(P,Rt)|0,g=g+Math.imul(G,ft)|0,L=L+Math.imul(G,Rt)|0;var Fn=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,O=Math.imul(oe,Ie),g=Math.imul(oe,qe),g=g+Math.imul(le,Ie)|0,L=Math.imul(le,qe),O=O+Math.imul(F,Je)|0,g=g+Math.imul(F,Ze)|0,g=g+Math.imul(te,Je)|0,L=L+Math.imul(te,Ze)|0,O=O+Math.imul(we,Re)|0,g=g+Math.imul(we,De)|0,g=g+Math.imul(J,Re)|0,L=L+Math.imul(J,De)|0,O=O+Math.imul(ge,Be)|0,g=g+Math.imul(ge,Pe)|0,g=g+Math.imul(be,Be)|0,L=L+Math.imul(be,Pe)|0,O=O+Math.imul(ie,Fe)|0,g=g+Math.imul(ie,Ue)|0,g=g+Math.imul(fe,Fe)|0,L=L+Math.imul(fe,Ue)|0,O=O+Math.imul(j,je)|0,g=g+Math.imul(j,$e)|0,g=g+Math.imul(q,je)|0,L=L+Math.imul(q,$e)|0,O=O+Math.imul(ce,Oe)|0,g=g+Math.imul(ce,He)|0,g=g+Math.imul(pe,Oe)|0,L=L+Math.imul(pe,He)|0,O=O+Math.imul(U,Xe)|0,g=g+Math.imul(U,et)|0,g=g+Math.imul(Z,Xe)|0,L=L+Math.imul(Z,et)|0,O=O+Math.imul(K,ft)|0,g=g+Math.imul(K,Rt)|0,g=g+Math.imul(Y,ft)|0,L=L+Math.imul(Y,Rt)|0;var nn=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(nn>>>26)|0,nn&=67108863,O=Math.imul(oe,Je),g=Math.imul(oe,Ze),g=g+Math.imul(le,Je)|0,L=Math.imul(le,Ze),O=O+Math.imul(F,Re)|0,g=g+Math.imul(F,De)|0,g=g+Math.imul(te,Re)|0,L=L+Math.imul(te,De)|0,O=O+Math.imul(we,Be)|0,g=g+Math.imul(we,Pe)|0,g=g+Math.imul(J,Be)|0,L=L+Math.imul(J,Pe)|0,O=O+Math.imul(ge,Fe)|0,g=g+Math.imul(ge,Ue)|0,g=g+Math.imul(be,Fe)|0,L=L+Math.imul(be,Ue)|0,O=O+Math.imul(ie,je)|0,g=g+Math.imul(ie,$e)|0,g=g+Math.imul(fe,je)|0,L=L+Math.imul(fe,$e)|0,O=O+Math.imul(j,Oe)|0,g=g+Math.imul(j,He)|0,g=g+Math.imul(q,Oe)|0,L=L+Math.imul(q,He)|0,O=O+Math.imul(ce,Xe)|0,g=g+Math.imul(ce,et)|0,g=g+Math.imul(pe,Xe)|0,L=L+Math.imul(pe,et)|0,O=O+Math.imul(U,ft)|0,g=g+Math.imul(U,Rt)|0,g=g+Math.imul(Z,ft)|0,L=L+Math.imul(Z,Rt)|0;var Un=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(Un>>>26)|0,Un&=67108863,O=Math.imul(oe,Re),g=Math.imul(oe,De),g=g+Math.imul(le,Re)|0,L=Math.imul(le,De),O=O+Math.imul(F,Be)|0,g=g+Math.imul(F,Pe)|0,g=g+Math.imul(te,Be)|0,L=L+Math.imul(te,Pe)|0,O=O+Math.imul(we,Fe)|0,g=g+Math.imul(we,Ue)|0,g=g+Math.imul(J,Fe)|0,L=L+Math.imul(J,Ue)|0,O=O+Math.imul(ge,je)|0,g=g+Math.imul(ge,$e)|0,g=g+Math.imul(be,je)|0,L=L+Math.imul(be,$e)|0,O=O+Math.imul(ie,Oe)|0,g=g+Math.imul(ie,He)|0,g=g+Math.imul(fe,Oe)|0,L=L+Math.imul(fe,He)|0,O=O+Math.imul(j,Xe)|0,g=g+Math.imul(j,et)|0,g=g+Math.imul(q,Xe)|0,L=L+Math.imul(q,et)|0,O=O+Math.imul(ce,ft)|0,g=g+Math.imul(ce,Rt)|0,g=g+Math.imul(pe,ft)|0,L=L+Math.imul(pe,Rt)|0;var jn=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(jn>>>26)|0,jn&=67108863,O=Math.imul(oe,Be),g=Math.imul(oe,Pe),g=g+Math.imul(le,Be)|0,L=Math.imul(le,Pe),O=O+Math.imul(F,Fe)|0,g=g+Math.imul(F,Ue)|0,g=g+Math.imul(te,Fe)|0,L=L+Math.imul(te,Ue)|0,O=O+Math.imul(we,je)|0,g=g+Math.imul(we,$e)|0,g=g+Math.imul(J,je)|0,L=L+Math.imul(J,$e)|0,O=O+Math.imul(ge,Oe)|0,g=g+Math.imul(ge,He)|0,g=g+Math.imul(be,Oe)|0,L=L+Math.imul(be,He)|0,O=O+Math.imul(ie,Xe)|0,g=g+Math.imul(ie,et)|0,g=g+Math.imul(fe,Xe)|0,L=L+Math.imul(fe,et)|0,O=O+Math.imul(j,ft)|0,g=g+Math.imul(j,Rt)|0,g=g+Math.imul(q,ft)|0,L=L+Math.imul(q,Rt)|0;var Ir=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,O=Math.imul(oe,Fe),g=Math.imul(oe,Ue),g=g+Math.imul(le,Fe)|0,L=Math.imul(le,Ue),O=O+Math.imul(F,je)|0,g=g+Math.imul(F,$e)|0,g=g+Math.imul(te,je)|0,L=L+Math.imul(te,$e)|0,O=O+Math.imul(we,Oe)|0,g=g+Math.imul(we,He)|0,g=g+Math.imul(J,Oe)|0,L=L+Math.imul(J,He)|0,O=O+Math.imul(ge,Xe)|0,g=g+Math.imul(ge,et)|0,g=g+Math.imul(be,Xe)|0,L=L+Math.imul(be,et)|0,O=O+Math.imul(ie,ft)|0,g=g+Math.imul(ie,Rt)|0,g=g+Math.imul(fe,ft)|0,L=L+Math.imul(fe,Rt)|0;var Ts=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,O=Math.imul(oe,je),g=Math.imul(oe,$e),g=g+Math.imul(le,je)|0,L=Math.imul(le,$e),O=O+Math.imul(F,Oe)|0,g=g+Math.imul(F,He)|0,g=g+Math.imul(te,Oe)|0,L=L+Math.imul(te,He)|0,O=O+Math.imul(we,Xe)|0,g=g+Math.imul(we,et)|0,g=g+Math.imul(J,Xe)|0,L=L+Math.imul(J,et)|0,O=O+Math.imul(ge,ft)|0,g=g+Math.imul(ge,Rt)|0,g=g+Math.imul(be,ft)|0,L=L+Math.imul(be,Rt)|0;var ks=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(ks>>>26)|0,ks&=67108863,O=Math.imul(oe,Oe),g=Math.imul(oe,He),g=g+Math.imul(le,Oe)|0,L=Math.imul(le,He),O=O+Math.imul(F,Xe)|0,g=g+Math.imul(F,et)|0,g=g+Math.imul(te,Xe)|0,L=L+Math.imul(te,et)|0,O=O+Math.imul(we,ft)|0,g=g+Math.imul(we,Rt)|0,g=g+Math.imul(J,ft)|0,L=L+Math.imul(J,Rt)|0;var uu=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(uu>>>26)|0,uu&=67108863,O=Math.imul(oe,Xe),g=Math.imul(oe,et),g=g+Math.imul(le,Xe)|0,L=Math.imul(le,et),O=O+Math.imul(F,ft)|0,g=g+Math.imul(F,Rt)|0,g=g+Math.imul(te,ft)|0,L=L+Math.imul(te,Rt)|0;var fu=(B+O|0)+((g&8191)<<13)|0;B=(L+(g>>>13)|0)+(fu>>>26)|0,fu&=67108863,O=Math.imul(oe,ft),g=Math.imul(oe,Rt),g=g+Math.imul(le,ft)|0,L=Math.imul(le,Rt);var hu=(B+O|0)+((g&8191)<<13)|0;return B=(L+(g>>>13)|0)+(hu>>>26)|0,hu&=67108863,d[0]=Dr,d[1]=Br,d[2]=Lr,d[3]=$r,d[4]=sr,d[5]=Dn,d[6]=Bn,d[7]=Ln,d[8]=$n,d[9]=Fn,d[10]=nn,d[11]=Un,d[12]=jn,d[13]=Ir,d[14]=Ts,d[15]=ks,d[16]=uu,d[17]=fu,d[18]=hu,B!==0&&(d[19]=B,T.length++),T};Math.imul||(m=_);function w(I,f,p){p.negative=f.negative^I.negative,p.length=I.length+f.length;for(var T=0,M=0,C=0;C<p.length-1;C++){var d=M;M=0;for(var B=T&67108863,O=Math.min(C,f.length-1),g=Math.max(0,C-I.length+1);g<=O;g++){var L=C-g,Q=I.words[L]|0,P=f.words[g]|0,G=Q*P,V=G&67108863;d=d+(G/67108864|0)|0,V=V+B|0,B=V&67108863,d=d+(V>>>26)|0,M+=d>>>26,d&=67108863}p.words[C]=B,T=d,d=M}return T!==0?p.words[C]=T:p.length--,p._strip()}function A(I,f,p){return w(I,f,p)}s.prototype.mulTo=function(f,p){var T,M=this.length+f.length;return this.length===10&&f.length===10?T=m(this,f,p):M<63?T=_(this,f,p):M<1024?T=w(this,f,p):T=A(this,f,p),T},s.prototype.mul=function(f){var p=new s(null);return p.words=new Array(this.length+f.length),this.mulTo(f,p)},s.prototype.mulf=function(f){var p=new s(null);return p.words=new Array(this.length+f.length),A(this,f,p)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){var p=f<0;p&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var T=0,M=0;M<this.length;M++){var C=(this.words[M]|0)*f,d=(C&67108863)+(T&67108863);T>>=26,T+=C/67108864|0,T+=d>>>26,this.words[M]=d&67108863}return T!==0&&(this.words[M]=T,this.length++),p?this.ineg():this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var p=x(f);if(p.length===0)return new s(1);for(var T=this,M=0;M<p.length&&p[M]===0;M++,T=T.sqr());if(++M<p.length)for(var C=T.sqr();M<p.length;M++,C=C.sqr())p[M]!==0&&(T=T.mul(C));return T},s.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var p=f%26,T=(f-p)/26,M=67108863>>>26-p<<26-p,C;if(p!==0){var d=0;for(C=0;C<this.length;C++){var B=this.words[C]&M,O=(this.words[C]|0)-B<<p;this.words[C]=O|d,d=B>>>26-p}d&&(this.words[C]=d,this.length++)}if(T!==0){for(C=this.length-1;C>=0;C--)this.words[C+T]=this.words[C];for(C=0;C<T;C++)this.words[C]=0;this.length+=T}return this._strip()},s.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,p,T){n(typeof f=="number"&&f>=0);var M;p?M=(p-p%26)/26:M=0;var C=f%26,d=Math.min((f-C)/26,this.length),B=67108863^67108863>>>C<<C,O=T;if(M-=d,M=Math.max(0,M),O){for(var g=0;g<d;g++)O.words[g]=this.words[g];O.length=d}if(d!==0)if(this.length>d)for(this.length-=d,g=0;g<this.length;g++)this.words[g]=this.words[g+d];else this.words[0]=0,this.length=1;var L=0;for(g=this.length-1;g>=0&&(L!==0||g>=M);g--){var Q=this.words[g]|0;this.words[g]=L<<26-C|Q>>>C,L=Q&B}return O&&L!==0&&(O.words[O.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(f,p,T){return n(this.negative===0),this.iushrn(f,p,T)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var p=f%26,T=(f-p)/26,M=1<<p;if(this.length<=T)return!1;var C=this.words[T];return!!(C&M)},s.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var p=f%26,T=(f-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(p!==0&&T++,this.length=Math.min(T,this.length),p!==0){var M=67108863^67108863>>>p<<p;this.words[this.length-1]&=M}return this._strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,p,T){var M=f.length+T,C;this._expand(M);var d,B=0;for(C=0;C<f.length;C++){d=(this.words[C+T]|0)+B;var O=(f.words[C]|0)*p;d-=O&67108863,B=(d>>26)-(O/67108864|0),this.words[C+T]=d&67108863}for(;C<this.length-T;C++)d=(this.words[C+T]|0)+B,B=d>>26,this.words[C+T]=d&67108863;if(B===0)return this._strip();for(n(B===-1),B=0,C=0;C<this.length;C++)d=-(this.words[C]|0)+B,B=d>>26,this.words[C]=d&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(f,p){var T=this.length-f.length,M=this.clone(),C=f,d=C.words[C.length-1]|0,B=this._countBits(d);T=26-B,T!==0&&(C=C.ushln(T),M.iushln(T),d=C.words[C.length-1]|0);var O=M.length-C.length,g;if(p!=="mod"){g=new s(null),g.length=O+1,g.words=new Array(g.length);for(var L=0;L<g.length;L++)g.words[L]=0}var Q=M.clone()._ishlnsubmul(C,1,O);Q.negative===0&&(M=Q,g&&(g.words[O]=1));for(var P=O-1;P>=0;P--){var G=(M.words[C.length+P]|0)*67108864+(M.words[C.length+P-1]|0);for(G=Math.min(G/d|0,67108863),M._ishlnsubmul(C,G,P);M.negative!==0;)G--,M.negative=0,M._ishlnsubmul(C,1,P),M.isZero()||(M.negative^=1);g&&(g.words[P]=G)}return g&&g._strip(),M._strip(),p!=="div"&&T!==0&&M.iushrn(T),{div:g||null,mod:M}},s.prototype.divmod=function(f,p,T){if(n(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var M,C,d;return this.negative!==0&&f.negative===0?(d=this.neg().divmod(f,p),p!=="mod"&&(M=d.div.neg()),p!=="div"&&(C=d.mod.neg(),T&&C.negative!==0&&C.iadd(f)),{div:M,mod:C}):this.negative===0&&f.negative!==0?(d=this.divmod(f.neg(),p),p!=="mod"&&(M=d.div.neg()),{div:M,mod:d.mod}):this.negative&f.negative?(d=this.neg().divmod(f.neg(),p),p!=="div"&&(C=d.mod.neg(),T&&C.negative!==0&&C.isub(f)),{div:d.div,mod:C}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?p==="div"?{div:this.divn(f.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modrn(f.words[0]))}:this._wordDiv(f,p)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var p=this.divmod(f);if(p.mod.isZero())return p.div;var T=p.div.negative!==0?p.mod.isub(f):p.mod,M=f.ushrn(1),C=f.andln(1),d=T.cmp(M);return d<0||C===1&&d===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(f){var p=f<0;p&&(f=-f),n(f<=67108863);for(var T=(1<<26)%f,M=0,C=this.length-1;C>=0;C--)M=(T*M+(this.words[C]|0))%f;return p?-M:M},s.prototype.modn=function(f){return this.modrn(f)},s.prototype.idivn=function(f){var p=f<0;p&&(f=-f),n(f<=67108863);for(var T=0,M=this.length-1;M>=0;M--){var C=(this.words[M]|0)+T*67108864;this.words[M]=C/f|0,T=C%f}return this._strip(),p?this.ineg():this},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var p=this,T=f.clone();p.negative!==0?p=p.umod(f):p=p.clone();for(var M=new s(1),C=new s(0),d=new s(0),B=new s(1),O=0;p.isEven()&&T.isEven();)p.iushrn(1),T.iushrn(1),++O;for(var g=T.clone(),L=p.clone();!p.isZero();){for(var Q=0,P=1;!(p.words[0]&P)&&Q<26;++Q,P<<=1);if(Q>0)for(p.iushrn(Q);Q-- >0;)(M.isOdd()||C.isOdd())&&(M.iadd(g),C.isub(L)),M.iushrn(1),C.iushrn(1);for(var G=0,V=1;!(T.words[0]&V)&&G<26;++G,V<<=1);if(G>0)for(T.iushrn(G);G-- >0;)(d.isOdd()||B.isOdd())&&(d.iadd(g),B.isub(L)),d.iushrn(1),B.iushrn(1);p.cmp(T)>=0?(p.isub(T),M.isub(d),C.isub(B)):(T.isub(p),d.isub(M),B.isub(C))}return{a:d,b:B,gcd:T.iushln(O)}},s.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var p=this,T=f.clone();p.negative!==0?p=p.umod(f):p=p.clone();for(var M=new s(1),C=new s(0),d=T.clone();p.cmpn(1)>0&&T.cmpn(1)>0;){for(var B=0,O=1;!(p.words[0]&O)&&B<26;++B,O<<=1);if(B>0)for(p.iushrn(B);B-- >0;)M.isOdd()&&M.iadd(d),M.iushrn(1);for(var g=0,L=1;!(T.words[0]&L)&&g<26;++g,L<<=1);if(g>0)for(T.iushrn(g);g-- >0;)C.isOdd()&&C.iadd(d),C.iushrn(1);p.cmp(T)>=0?(p.isub(T),M.isub(C)):(T.isub(p),C.isub(M))}var Q;return p.cmpn(1)===0?Q=M:Q=C,Q.cmpn(0)<0&&Q.iadd(f),Q},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var p=this.clone(),T=f.clone();p.negative=0,T.negative=0;for(var M=0;p.isEven()&&T.isEven();M++)p.iushrn(1),T.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;T.isEven();)T.iushrn(1);var C=p.cmp(T);if(C<0){var d=p;p=T,T=d}else if(C===0||T.cmpn(1)===0)break;p.isub(T)}while(!0);return T.iushln(M)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){n(typeof f=="number");var p=f%26,T=(f-p)/26,M=1<<p;if(this.length<=T)return this._expand(T+1),this.words[T]|=M,this;for(var C=M,d=T;C!==0&&d<this.length;d++){var B=this.words[d]|0;B+=C,C=B>>>26,B&=67108863,this.words[d]=B}return C!==0&&(this.words[d]=C,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var p=f<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var T;if(this.length>1)T=1;else{p&&(f=-f),n(f<=67108863,"Number is too big");var M=this.words[0]|0;T=M===f?0:M<f?-1:1}return this.negative!==0?-T|0:T},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var p=this.ucmp(f);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var p=0,T=this.length-1;T>=0;T--){var M=this.words[T]|0,C=f.words[T]|0;if(M!==C){M<C?p=-1:M>C&&(p=1);break}}return p},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new y(f)},s.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var k={k256:null,p224:null,p192:null,p25519:null};function z(I,f){this.name=I,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},z.prototype.ireduce=function(f){var p=f,T;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),T=p.bitLength();while(T>this.n);var M=T<this.n?-1:p.ucmp(this.p);return M===0?(p.words[0]=0,p.length=1):M>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},z.prototype.split=function(f,p){f.iushrn(this.n,0,p)},z.prototype.imulK=function(f){return f.imul(this.k)};function S(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(S,z),S.prototype.split=function(f,p){for(var T=4194303,M=Math.min(f.length,9),C=0;C<M;C++)p.words[C]=f.words[C];if(p.length=M,f.length<=9){f.words[0]=0,f.length=1;return}var d=f.words[9];for(p.words[p.length++]=d&T,C=10;C<f.length;C++){var B=f.words[C]|0;f.words[C-10]=(B&T)<<4|d>>>22,d=B}d>>>=22,f.words[C-10]=d,d===0&&f.length>10?f.length-=10:f.length-=9},S.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var p=0,T=0;T<f.length;T++){var M=f.words[T]|0;p+=M*977,f.words[T]=p&67108863,p=M*64+(p/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function H(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(H,z);function re(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(re,z);function W(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(W,z),W.prototype.imulK=function(f){for(var p=0,T=0;T<f.length;T++){var M=(f.words[T]|0)*19+p,C=M&67108863;M>>>=26,f.words[T]=C,p=M}return p!==0&&(f.words[f.length++]=p),f},s._prime=function(f){if(k[f])return k[f];var p;if(f==="k256")p=new S;else if(f==="p224")p=new H;else if(f==="p192")p=new re;else if(f==="p25519")p=new W;else throw new Error("Unknown prime "+f);return k[f]=p,p};function y(I){if(typeof I=="string"){var f=s._prime(I);this.m=f.p,this.prime=f}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}y.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},y.prototype._verify2=function(f,p){n((f.negative|p.negative)===0,"red works only with positives"),n(f.red&&f.red===p.red,"red works only with red numbers")},y.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(u(f,f.umod(this.m)._forceRed(this)),f)},y.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},y.prototype.add=function(f,p){this._verify2(f,p);var T=f.add(p);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},y.prototype.iadd=function(f,p){this._verify2(f,p);var T=f.iadd(p);return T.cmp(this.m)>=0&&T.isub(this.m),T},y.prototype.sub=function(f,p){this._verify2(f,p);var T=f.sub(p);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},y.prototype.isub=function(f,p){this._verify2(f,p);var T=f.isub(p);return T.cmpn(0)<0&&T.iadd(this.m),T},y.prototype.shl=function(f,p){return this._verify1(f),this.imod(f.ushln(p))},y.prototype.imul=function(f,p){return this._verify2(f,p),this.imod(f.imul(p))},y.prototype.mul=function(f,p){return this._verify2(f,p),this.imod(f.mul(p))},y.prototype.isqr=function(f){return this.imul(f,f.clone())},y.prototype.sqr=function(f){return this.mul(f,f)},y.prototype.sqrt=function(f){if(f.isZero())return f.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var T=this.m.add(new s(1)).iushrn(2);return this.pow(f,T)}for(var M=this.m.subn(1),C=0;!M.isZero()&&M.andln(1)===0;)C++,M.iushrn(1);n(!M.isZero());var d=new s(1).toRed(this),B=d.redNeg(),O=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new s(2*g*g).toRed(this);this.pow(g,O).cmp(B)!==0;)g.redIAdd(B);for(var L=this.pow(g,M),Q=this.pow(f,M.addn(1).iushrn(1)),P=this.pow(f,M),G=C;P.cmp(d)!==0;){for(var V=P,K=0;V.cmp(d)!==0;K++)V=V.redSqr();n(K<G);var Y=this.pow(L,new s(1).iushln(G-K-1));Q=Q.redMul(Y),L=Y.redSqr(),P=P.redMul(L),G=K}return Q},y.prototype.invm=function(f){var p=f._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},y.prototype.pow=function(f,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return f.clone();var T=4,M=new Array(1<<T);M[0]=new s(1).toRed(this),M[1]=f;for(var C=2;C<M.length;C++)M[C]=this.mul(M[C-1],f);var d=M[0],B=0,O=0,g=p.bitLength()%26;for(g===0&&(g=26),C=p.length-1;C>=0;C--){for(var L=p.words[C],Q=g-1;Q>=0;Q--){var P=L>>Q&1;if(d!==M[0]&&(d=this.sqr(d)),P===0&&B===0){O=0;continue}B<<=1,B|=P,O++,!(O!==T&&(C!==0||Q!==0))&&(d=this.mul(d,M[B]),O=0,B=0)}g=26}return d},y.prototype.convertTo=function(f){var p=f.umod(this.m);return p===f?p.clone():p},y.prototype.convertFrom=function(f){var p=f.clone();return p.red=null,p},s.mont=function(f){return new R(f)};function R(I){y.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(R,y),R.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},R.prototype.convertFrom=function(f){var p=this.imod(f.mul(this.rinv));return p.red=null,p},R.prototype.imul=function(f,p){if(f.isZero()||p.isZero())return f.words[0]=0,f.length=1,f;var T=f.imul(p),M=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=T.isub(M).iushrn(this.shift),d=C;return C.cmp(this.m)>=0?d=C.isub(this.m):C.cmpn(0)<0&&(d=C.iadd(this.m)),d._forceRed(this)},R.prototype.mul=function(f,p){if(f.isZero()||p.isZero())return new s(0)._forceRed(this);var T=f.mul(p),M=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=T.isub(M).iushrn(this.shift),d=C;return C.cmp(this.m)>=0?d=C.isub(this.m):C.cmpn(0)<0&&(d=C.iadd(this.m)),d._forceRed(this)},R.prototype.invm=function(f){var p=this.imod(f._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,ze)})(Mk);const ht=$a,Ok="logger/5.7.0";let R3=!1,P3=!1;const td={debug:1,default:2,info:2,warning:3,error:4,off:5};let N3=td.default,kg=null;function Rk(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const D3=Rk();var Id;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Id||(Id={}));var di;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(di||(di={}));const B3="0123456789abcdef";class ue{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();td[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(N3>td[n])&&console.log.apply(console,r)}debug(...e){this._log(ue.levels.DEBUG,e)}info(...e){this._log(ue.levels.INFO,e)}warn(...e){this._log(ue.levels.WARNING,e)}makeError(e,r,n){if(P3)return this.makeError("censored error",r,{});r||(r=ue.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let h=0;h<l.length;h++)u+=B3[l[h]>>4],u+=B3[l[h]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case di.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case di.CALL_EXCEPTION:case di.INSUFFICIENT_FUNDS:case di.MISSING_NEW:case di.NONCE_EXPIRED:case di.REPLACEMENT_UNDERPRICED:case di.TRANSACTION_REPLACED:case di.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,ue.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){D3&&this.throwError("platform missing String.prototype.normalize",ue.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:D3})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,ue.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,ue.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,ue.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,ue.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",ue.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",ue.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",ue.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return kg||(kg=new ue(Ok)),kg}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",ue.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),R3){if(!e)return;this.globalLogger().throwError("error censorship permanent",ue.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}P3=!!e,R3=!!r}static setLogLevel(e){const r=td[e.toLowerCase()];if(r==null){ue.globalLogger().warn("invalid log level - "+e);return}N3=r}static from(e){return new ue(e)}}ue.errors=di;ue.levels=Id;const Pk=Object.freeze(Object.defineProperty({__proto__:null,get ErrorCode(){return di},get LogLevel(){return Id},Logger:ue},Symbol.toStringTag,{value:"Module"})),Nk="bytes/5.7.0",gr=new ue(Nk);function U8(t){return!!t.toHexString}function jc(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return jc(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function fh(t){return bt(t)&&!(t.length%2)||Ja(t)}function L3(t){return typeof t=="number"&&t==t&&t%1===0}function Ja(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!L3(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!L3(r)||r<0||r>=256)return!1}return!0}function Ee(t,e){if(e||(e={}),typeof t=="number"){gr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),jc(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),U8(t)&&(t=t.toHexString()),bt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":gr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return jc(new Uint8Array(n))}return Ja(t)?jc(new Uint8Array(t)):gr.throwArgumentError("invalid arrayify value","value",t)}function er(t){const e=t.map(i=>Ee(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),jc(n)}function ds(t){let e=Ee(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function uf(t,e){t=Ee(t),t.length>e&&gr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),jc(r)}function bt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Og="0123456789abcdef";function Me(t,e){if(e||(e={}),typeof t=="number"){gr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Og[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),U8(t))return t.toHexString();if(bt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":gr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Ja(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Og[(i&240)>>4]+Og[i&15]}return r}return gr.throwArgumentError("invalid hexlify value","value",t)}function ws(t){if(typeof t!="string")t=Me(t);else if(!bt(t)||t.length%2)return null;return(t.length-2)/2}function Er(t,e,r){return typeof t!="string"?t=Me(t):(!bt(t)||t.length%2)&&gr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function xn(t){let e="0x";return t.forEach(r=>{e+=Me(r).substring(2)}),e}function kp(t){const e=j8(Me(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function j8(t){typeof t!="string"&&(t=Me(t)),bt(t)||gr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Yt(t,e){for(typeof t!="string"?t=Me(t):bt(t)||gr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&gr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Za(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(fh(t)){let r=Ee(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Me(r.slice(0,32)),e.s=Me(r.slice(32,64))):r.length===65?(e.r=Me(r.slice(0,32)),e.s=Me(r.slice(32,64)),e.v=r[64]):gr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:gr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Me(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=uf(Ee(e._vs),32);e._vs=Me(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&gr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=Me(i);e.s==null?e.s=o:e.s!==o&&gr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?gr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&gr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!bt(e.r)?gr.throwArgumentError("signature missing or invalid r","signature",t):e.r=Yt(e.r,32),e.s==null||!bt(e.s)?gr.throwArgumentError("signature missing or invalid s","signature",t):e.s=Yt(e.s,32);const r=Ee(e.s);r[0]>=128&&gr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Me(r);e._vs&&(bt(e._vs)||gr.throwArgumentError("signature invalid _vs","signature",t),e._vs=Yt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&gr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function ry(t){return t=Za(t),Me(er([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const Dk=Object.freeze(Object.defineProperty({__proto__:null,arrayify:Ee,concat:er,hexConcat:xn,hexDataLength:ws,hexDataSlice:Er,hexStripZeros:j8,hexValue:kp,hexZeroPad:Yt,hexlify:Me,isBytes:Ja,isBytesLike:fh,isHexString:bt,joinSignature:ry,splitSignature:Za,stripZeros:ds,zeroPad:uf},Symbol.toStringTag,{value:"Module"})),H8="bignumber/5.7.0";var Rf=ht.BN;const Bs=new ue(H8),Rg={},$3=9007199254740991;function Bk(t){return t!=null&&(Se.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||bt(t)||typeof t=="bigint"||Ja(t))}let F3=!1;class Se{constructor(e,r){e!==Rg&&Bs.throwError("cannot call constructor directly; use BigNumber.from",ue.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return In(Et(this).fromTwos(e))}toTwos(e){return In(Et(this).toTwos(e))}abs(){return this._hex[0]==="-"?Se.from(this._hex.substring(1)):this}add(e){return In(Et(this).add(Et(e)))}sub(e){return In(Et(this).sub(Et(e)))}div(e){return Se.from(e).isZero()&&oi("division-by-zero","div"),In(Et(this).div(Et(e)))}mul(e){return In(Et(this).mul(Et(e)))}mod(e){const r=Et(e);return r.isNeg()&&oi("division-by-zero","mod"),In(Et(this).umod(r))}pow(e){const r=Et(e);return r.isNeg()&&oi("negative-power","pow"),In(Et(this).pow(r))}and(e){const r=Et(e);return(this.isNegative()||r.isNeg())&&oi("unbound-bitwise-result","and"),In(Et(this).and(r))}or(e){const r=Et(e);return(this.isNegative()||r.isNeg())&&oi("unbound-bitwise-result","or"),In(Et(this).or(r))}xor(e){const r=Et(e);return(this.isNegative()||r.isNeg())&&oi("unbound-bitwise-result","xor"),In(Et(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&oi("negative-width","mask"),In(Et(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&oi("negative-width","shl"),In(Et(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&oi("negative-width","shr"),In(Et(this).shrn(e))}eq(e){return Et(this).eq(Et(e))}lt(e){return Et(this).lt(Et(e))}lte(e){return Et(this).lte(Et(e))}gt(e){return Et(this).gt(Et(e))}gte(e){return Et(this).gte(Et(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Et(this).isZero()}toNumber(){try{return Et(this).toNumber()}catch{oi("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Bs.throwError("this platform does not support BigInt",ue.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?F3||(F3=!0,Bs.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Bs.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ue.errors.UNEXPECTED_ARGUMENT,{}):Bs.throwError("BigNumber.toString does not accept parameters",ue.errors.UNEXPECTED_ARGUMENT,{})),Et(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Se)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Se(Rg,Pf(e)):e.match(/^-?[0-9]+$/)?new Se(Rg,Pf(new Rf(e))):Bs.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&oi("underflow","BigNumber.from",e),(e>=$3||e<=-$3)&&oi("overflow","BigNumber.from",e),Se.from(String(e));const r=e;if(typeof r=="bigint")return Se.from(r.toString());if(Ja(r))return Se.from(Me(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Se.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(bt(n)||n[0]==="-"&&bt(n.substring(1))))return Se.from(n)}return Bs.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Pf(t){if(typeof t!="string")return Pf(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Bs.throwArgumentError("invalid hex","value",t),t=Pf(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function In(t){return Se.from(Pf(t))}function Et(t){const e=Se.from(t).toHexString();return e[0]==="-"?new Rf("-"+e.substring(3),16):new Rf(e.substring(2),16)}function oi(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Bs.throwError(t,ue.errors.NUMERIC_FAULT,n)}function Lk(t){return new Rf(t,36).toString(16)}function $k(t){return new Rf(t,16).toString(36)}const _n=new ue(H8),ff={},z8=Se.from(0),W8=Se.from(-1);function q8(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),_n.throwError(t,ue.errors.NUMERIC_FAULT,i)}let hf="0";for(;hf.length<256;)hf+=hf;function j2(t){if(typeof t!="number")try{t=Se.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+hf.substring(0,t):_n.throwArgumentError("invalid decimal size","decimals",t)}function rd(t,e){e==null&&(e=0);const r=j2(e);t=Se.from(t);const n=t.lt(z8);n&&(t=t.mul(W8));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function Zi(t,e){e==null&&(e=0);const r=j2(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&_n.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&_n.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&_n.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&q8("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=Se.from(s),c=Se.from(o);let l=a.mul(r).add(c);return n&&(l=l.mul(W8)),l}class Hc{constructor(e,r,n,i){e!==ff&&_n.throwError("cannot use FixedFormat constructor; use FixedFormat.from",ue.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=j2(i),Object.freeze(this)}static from(e){if(e instanceof Hc)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||_n.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&_n.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&_n.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&_n.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Hc(ff,r,n,i)}}class Zr{constructor(e,r,n,i){e!==ff&&_n.throwError("cannot use FixedNumber constructor; use FixedNumber.from",ue.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&_n.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=Zi(this._value,this.format.decimals),n=Zi(e._value,e.format.decimals);return Zr.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=Zi(this._value,this.format.decimals),n=Zi(e._value,e.format.decimals);return Zr.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=Zi(this._value,this.format.decimals),n=Zi(e._value,e.format.decimals);return Zr.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=Zi(this._value,this.format.decimals),n=Zi(e._value,e.format.decimals);return Zr.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Zr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(U3.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Zr.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(U3.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&_n.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=Zr.from("1"+hf.substring(0,e),this.format),i=Fk.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&_n.throwArgumentError("invalid byte width","width",e);const r=Se.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Yt(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Zr.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!Bk(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),Zr.fromString(rd(e,r),Hc.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=Hc.from(r),i=Zi(e,n.decimals);!n.signed&&i.lt(z8)&&q8("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Yt(s,n.width/8));const o=rd(i,n.decimals);return new Zr(ff,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=Hc.from(r);if(Ee(e).length>n.width/8)throw new Error("overflow");let i=Se.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=rd(i,n.decimals);return new Zr(ff,s,o,n)}static from(e,r){if(typeof e=="string")return Zr.fromString(e,r);if(Ja(e))return Zr.fromBytes(e,r);try{return Zr.fromValue(e,0,r)}catch(n){if(n.code!==ue.errors.INVALID_ARGUMENT)throw n}return _n.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const U3=Zr.from(1),Fk=Zr.from("0.5"),Uk="properties/5.7.0";var jk=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Md=new ue(Uk);function me(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Li(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function mr(t){return jk(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function H2(t,e){(!t||typeof t!="object")&&Md.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Md.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function ir(t){const e={};for(const r in t)e[r]=t[r];return e}const Hk={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function V8(t){if(t==null||Hk[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!V8(n))return!1}return!0}return Md.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function zk(t){if(V8(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Zn(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&me(e,r,Zn(n))}return e}return Md.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Zn(t){return zk(t)}class jo{constructor(e){for(const r in e)this[r]=Zn(e[r])}}const Wk=Object.freeze(Object.defineProperty({__proto__:null,Description:jo,checkProperties:H2,deepCopy:Zn,defineReadOnly:me,getStatic:Li,resolveProperties:mr,shallowCopy:ir},Symbol.toStringTag,{value:"Module"})),hh="abi/5.7.0",Nt=new ue(hh),Fa={};let j3={calldata:!0,memory:!0,storage:!0},qk={calldata:!0,memory:!0};function c0(t,e){if(t==="bytes"||t==="string"){if(j3[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&qk[e])return!0;return(j3[e]||e==="payable")&&Nt.throwArgumentError("invalid modifier","name",e),!1}function Vk(t,e){let r=t;function n(a){Nt.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=Ec(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),c0(o.type,o.name)&&(o.name=""),o.type=Ec(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),c0(o.type,o.name)&&(o.name=""),o.type=Ec(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=Ec(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):c0(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&Nt.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):c0(o.type,o.name)&&(o.name=""),s.type=Ec(s.type),s}function nd(t,e){for(let r in e)me(t,r,e[r])}const $t=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Gk=new RegExp(/^(.*)\[([0-9]*)\]$/);class Pr{constructor(e,r){e!==Fa&&Nt.throwError("use fromString",ue.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),nd(this,r);let n=this.type.match(Gk);n?nd(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Pr.fromObject({type:n[1],components:this.components}),baseType:"array"}):nd(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=$t.sighash),$t[e]||Nt.throwArgumentError("invalid format type","format",e),e===$t.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==$t.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===$t.full?", ":",")+")"):r+=this.type,e!==$t.sighash&&(this.indexed===!0&&(r+=" indexed"),e===$t.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Pr.fromString(e,r):Pr.fromObject(e)}static fromObject(e){return Pr.isParamType(e)?e:new Pr(Fa,{name:e.name||null,type:Ec(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Pr.fromObject):null})}static fromString(e,r){function n(i){return Pr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(Vk(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Nf(t,e){return Jk(t).map(r=>Pr.fromString(r,e))}class ls{constructor(e,r){e!==Fa&&Nt.throwError("use a static from method",ue.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),nd(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return ls.isFragment(e)?e:typeof e=="string"?ls.fromString(e):ls.fromObject(e)}static fromObject(e){if(ls.isFragment(e))return e;switch(e.type){case"function":return Bi.fromObject(e);case"event":return os.fromObject(e);case"constructor":return Di.fromObject(e);case"error":return Hs.fromObject(e);case"fallback":case"receive":return null}return Nt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?os.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Bi.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Di.fromString(e.trim()):e.split(" ")[0]==="error"?Hs.fromString(e.substring(5).trim()):Nt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class os extends ls{format(e){if(e||(e=$t.sighash),$t[e]||Nt.throwArgumentError("invalid format type","format",e),e===$t.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==$t.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===$t.full?", ":",")+") ",e!==$t.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?os.fromString(e):os.fromObject(e)}static fromObject(e){if(os.isEventFragment(e))return e;e.type!=="event"&&Nt.throwArgumentError("invalid event object","value",e);const r={name:Df(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Pr.fromObject):[],type:"event"};return new os(Fa,r)}static fromString(e){let r=e.match(Bf);r||Nt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Nt.warn("unknown modifier: "+i)}}),os.fromObject({name:r[1].trim(),anonymous:n,inputs:Nf(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function G8(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Nt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Nt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Se.from(r[1]),r[0]):t}function K8(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function J8(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Nt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Nt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Nt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Nt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Nt.throwArgumentError("unable to determine stateMutability","value",t),e}class Di extends ls{format(e){if(e||(e=$t.sighash),$t[e]||Nt.throwArgumentError("invalid format type","format",e),e===$t.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===$t.sighash&&Nt.throwError("cannot format a constructor for sighash",ue.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===$t.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Di.fromString(e):Di.fromObject(e)}static fromObject(e){if(Di.isConstructorFragment(e))return e;e.type!=="constructor"&&Nt.throwArgumentError("invalid constructor object","value",e);let r=J8(e);r.constant&&Nt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Pr.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Se.from(e.gas):null};return new Di(Fa,n)}static fromString(e){let r={type:"constructor"};e=G8(e,r);let n=e.match(Bf);return(!n||n[1].trim()!=="constructor")&&Nt.throwArgumentError("invalid constructor string","value",e),r.inputs=Nf(n[2].trim(),!1),K8(n[3].trim(),r),Di.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Bi extends Di{format(e){if(e||(e=$t.sighash),$t[e]||Nt.throwArgumentError("invalid format type","format",e),e===$t.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==$t.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===$t.full?", ":",")+") ",e!==$t.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Bi.fromString(e):Bi.fromObject(e)}static fromObject(e){if(Bi.isFunctionFragment(e))return e;e.type!=="function"&&Nt.throwArgumentError("invalid function object","value",e);let r=J8(e);const n={type:e.type,name:Df(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Pr.fromObject):[],outputs:e.outputs?e.outputs.map(Pr.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Se.from(e.gas):null};return new Bi(Fa,n)}static fromString(e){let r={type:"function"};e=G8(e,r);let n=e.split(" returns ");n.length>2&&Nt.throwArgumentError("invalid function string","value",e);let i=n[0].match(Bf);if(i||Nt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&Df(r.name),r.inputs=Nf(i[2],!1),K8(i[3].trim(),r),n.length>1){let s=n[1].match(Bf);(s[1].trim()!=""||s[3].trim()!="")&&Nt.throwArgumentError("unexpected tokens","value",e),r.outputs=Nf(s[2],!1)}else r.outputs=[];return Bi.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function H3(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Nt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Hs extends ls{format(e){if(e||(e=$t.sighash),$t[e]||Nt.throwArgumentError("invalid format type","format",e),e===$t.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==$t.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===$t.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Hs.fromString(e):Hs.fromObject(e)}static fromObject(e){if(Hs.isErrorFragment(e))return e;e.type!=="error"&&Nt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Df(e.name),inputs:e.inputs?e.inputs.map(Pr.fromObject):[]};return H3(new Hs(Fa,r))}static fromString(e){let r={type:"error"},n=e.match(Bf);return n||Nt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Df(r.name),r.inputs=Nf(n[2],!1),H3(Hs.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Ec(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Kk=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Df(t){return(!t||!t.match(Kk))&&Nt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Bf=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Jk(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Nt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const z2=new ue(hh);function Z8(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class to{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){z2.throwArgumentError(e,this.localName,r)}}class ny{constructor(e){me(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return xn(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(er(e._data))}writeBytes(e){let r=Ee(e);const n=r.length%this.wordSize;return n&&(r=er([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=Ee(Se.from(e));return r.length>this.wordSize&&z2.throwError("value out-of-bounds",ue.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=er([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class Td{constructor(e,r,n,i){me(this,"_data",Ee(e)),me(this,"wordSize",r||32),me(this,"_coerceFunc",n),me(this,"allowLoose",i),this._offset=0}get data(){return Me(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Td.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:z2.throwError("data out-of-bounds",ue.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Td(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Se.from(this.readBytes(this.wordSize))}}var kd={},Zk={get exports(){return kd},set exports(t){kd=t}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=ze:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],b=[1,256,65536,16777216],v=[6,1536,393216,100663296],E=[0,8,16,24],D=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],x=[224,256,384,512],_=[128,256],m=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(P){return Object.prototype.toString.call(P)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(P){return typeof P=="object"&&P.buffer&&P.buffer.constructor===ArrayBuffer});for(var A=function(P,G,V){return function(K){return new g(P,G,P).update(K)[V]()}},k=function(P,G,V){return function(K,Y){return new g(P,G,Y).update(K)[V]()}},z=function(P,G,V){return function(K,Y,N,U){return f["cshake"+P].update(K,Y,N,U)[V]()}},S=function(P,G,V){return function(K,Y,N,U){return f["kmac"+P].update(K,Y,N,U)[V]()}},H=function(P,G,V,K){for(var Y=0;Y<m.length;++Y){var N=m[Y];P[N]=G(V,K,N)}return P},re=function(P,G){var V=A(P,G,"hex");return V.create=function(){return new g(P,G,P)},V.update=function(K){return V.create().update(K)},H(V,A,P,G)},W=function(P,G){var V=k(P,G,"hex");return V.create=function(K){return new g(P,G,K)},V.update=function(K,Y){return V.create(Y).update(K)},H(V,k,P,G)},y=function(P,G){var V=w[P],K=z(P,G,"hex");return K.create=function(Y,N,U){return!N&&!U?f["shake"+P].create(Y):new g(P,G,Y).bytepad([N,U],V)},K.update=function(Y,N,U,Z){return K.create(N,U,Z).update(Y)},H(K,z,P,G)},R=function(P,G){var V=w[P],K=S(P,G,"hex");return K.create=function(Y,N,U){return new L(P,G,N).bytepad(["KMAC",U],V).bytepad([Y],V)},K.update=function(Y,N,U,Z){return K.create(Y,U,Z).update(N)},H(K,S,P,G)},I=[{name:"keccak",padding:b,bits:x,createMethod:re},{name:"sha3",padding:v,bits:x,createMethod:re},{name:"shake",padding:u,bits:_,createMethod:W},{name:"cshake",padding:h,bits:_,createMethod:y},{name:"kmac",padding:h,bits:_,createMethod:R}],f={},p=[],T=0;T<I.length;++T)for(var M=I[T],C=M.bits,d=0;d<C.length;++d){var B=M.name+"_"+C[d];if(p.push(B),f[B]=M.createMethod(C[d],M.padding),M.name!=="sha3"){var O=M.name+C[d];p.push(O),f[O]=f[B]}}function g(P,G,V){this.blocks=[],this.s=[],this.padding=G,this.outputBits=V,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(P<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=V>>5,this.extraBytes=(V&31)>>3;for(var K=0;K<50;++K)this.s[K]=0}g.prototype.update=function(P){if(this.finalized)throw new Error(r);var G,V=typeof P;if(V!=="string"){if(V==="object"){if(P===null)throw new Error(e);if(c&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!c||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);G=!0}for(var K=this.blocks,Y=this.byteCount,N=P.length,U=this.blockCount,Z=0,ae=this.s,ce,pe;Z<N;){if(this.reset)for(this.reset=!1,K[0]=this.block,ce=1;ce<U+1;++ce)K[ce]=0;if(G)for(ce=this.start;Z<N&&ce<Y;++Z)K[ce>>2]|=P[Z]<<E[ce++&3];else for(ce=this.start;Z<N&&ce<Y;++Z)pe=P.charCodeAt(Z),pe<128?K[ce>>2]|=pe<<E[ce++&3]:pe<2048?(K[ce>>2]|=(192|pe>>6)<<E[ce++&3],K[ce>>2]|=(128|pe&63)<<E[ce++&3]):pe<55296||pe>=57344?(K[ce>>2]|=(224|pe>>12)<<E[ce++&3],K[ce>>2]|=(128|pe>>6&63)<<E[ce++&3],K[ce>>2]|=(128|pe&63)<<E[ce++&3]):(pe=65536+((pe&1023)<<10|P.charCodeAt(++Z)&1023),K[ce>>2]|=(240|pe>>18)<<E[ce++&3],K[ce>>2]|=(128|pe>>12&63)<<E[ce++&3],K[ce>>2]|=(128|pe>>6&63)<<E[ce++&3],K[ce>>2]|=(128|pe&63)<<E[ce++&3]);if(this.lastByteIndex=ce,ce>=Y){for(this.start=ce-Y,this.block=K[U],ce=0;ce<U;++ce)ae[ce]^=K[ce];Q(ae),this.reset=!0}else this.start=ce}return this},g.prototype.encode=function(P,G){var V=P&255,K=1,Y=[V];for(P=P>>8,V=P&255;V>0;)Y.unshift(V),P=P>>8,V=P&255,++K;return G?Y.push(K):Y.unshift(K),this.update(Y),Y.length},g.prototype.encodeString=function(P){var G,V=typeof P;if(V!=="string"){if(V==="object"){if(P===null)throw new Error(e);if(c&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!c||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);G=!0}var K=0,Y=P.length;if(G)K=Y;else for(var N=0;N<P.length;++N){var U=P.charCodeAt(N);U<128?K+=1:U<2048?K+=2:U<55296||U>=57344?K+=3:(U=65536+((U&1023)<<10|P.charCodeAt(++N)&1023),K+=4)}return K+=this.encode(K*8),this.update(P),K},g.prototype.bytepad=function(P,G){for(var V=this.encode(G),K=0;K<P.length;++K)V+=this.encodeString(P[K]);var Y=G-V%G,N=[];return N.length=Y,this.update(N),this},g.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var P=this.blocks,G=this.lastByteIndex,V=this.blockCount,K=this.s;if(P[G>>2]|=this.padding[G&3],this.lastByteIndex===this.byteCount)for(P[0]=P[V],G=1;G<V+1;++G)P[G]=0;for(P[V-1]|=2147483648,G=0;G<V;++G)K[G]^=P[G];Q(K)}},g.prototype.toString=g.prototype.hex=function(){this.finalize();for(var P=this.blockCount,G=this.s,V=this.outputBlocks,K=this.extraBytes,Y=0,N=0,U="",Z;N<V;){for(Y=0;Y<P&&N<V;++Y,++N)Z=G[Y],U+=l[Z>>4&15]+l[Z&15]+l[Z>>12&15]+l[Z>>8&15]+l[Z>>20&15]+l[Z>>16&15]+l[Z>>28&15]+l[Z>>24&15];N%P===0&&(Q(G),Y=0)}return K&&(Z=G[Y],U+=l[Z>>4&15]+l[Z&15],K>1&&(U+=l[Z>>12&15]+l[Z>>8&15]),K>2&&(U+=l[Z>>20&15]+l[Z>>16&15])),U},g.prototype.arrayBuffer=function(){this.finalize();var P=this.blockCount,G=this.s,V=this.outputBlocks,K=this.extraBytes,Y=0,N=0,U=this.outputBits>>3,Z;K?Z=new ArrayBuffer(V+1<<2):Z=new ArrayBuffer(U);for(var ae=new Uint32Array(Z);N<V;){for(Y=0;Y<P&&N<V;++Y,++N)ae[N]=G[Y];N%P===0&&Q(G)}return K&&(ae[Y]=G[Y],Z=Z.slice(0,U)),Z},g.prototype.buffer=g.prototype.arrayBuffer,g.prototype.digest=g.prototype.array=function(){this.finalize();for(var P=this.blockCount,G=this.s,V=this.outputBlocks,K=this.extraBytes,Y=0,N=0,U=[],Z,ae;N<V;){for(Y=0;Y<P&&N<V;++Y,++N)Z=N<<2,ae=G[Y],U[Z]=ae&255,U[Z+1]=ae>>8&255,U[Z+2]=ae>>16&255,U[Z+3]=ae>>24&255;N%P===0&&Q(G)}return K&&(Z=N<<2,ae=G[Y],U[Z]=ae&255,K>1&&(U[Z+1]=ae>>8&255),K>2&&(U[Z+2]=ae>>16&255)),U};function L(P,G,V){g.call(this,P,G,V)}L.prototype=new g,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),g.prototype.finalize.call(this)};var Q=function(P){var G,V,K,Y,N,U,Z,ae,ce,pe,ee,j,q,X,ie,fe,de,ge,be,Ae,we,J,$,F,te,se,oe,le,ke,_e,Ce,rt,Ie,qe,dr,Je,Ze,Tt,Re,De,kt,Be,Pe,Dt,Fe,Ue,Bt,je,$e,Ot,Oe,He,Lt,Xe,et,Kr,ft,Rt,Dr,Br,Lr,$r,sr;for(K=0;K<48;K+=2)Y=P[0]^P[10]^P[20]^P[30]^P[40],N=P[1]^P[11]^P[21]^P[31]^P[41],U=P[2]^P[12]^P[22]^P[32]^P[42],Z=P[3]^P[13]^P[23]^P[33]^P[43],ae=P[4]^P[14]^P[24]^P[34]^P[44],ce=P[5]^P[15]^P[25]^P[35]^P[45],pe=P[6]^P[16]^P[26]^P[36]^P[46],ee=P[7]^P[17]^P[27]^P[37]^P[47],j=P[8]^P[18]^P[28]^P[38]^P[48],q=P[9]^P[19]^P[29]^P[39]^P[49],G=j^(U<<1|Z>>>31),V=q^(Z<<1|U>>>31),P[0]^=G,P[1]^=V,P[10]^=G,P[11]^=V,P[20]^=G,P[21]^=V,P[30]^=G,P[31]^=V,P[40]^=G,P[41]^=V,G=Y^(ae<<1|ce>>>31),V=N^(ce<<1|ae>>>31),P[2]^=G,P[3]^=V,P[12]^=G,P[13]^=V,P[22]^=G,P[23]^=V,P[32]^=G,P[33]^=V,P[42]^=G,P[43]^=V,G=U^(pe<<1|ee>>>31),V=Z^(ee<<1|pe>>>31),P[4]^=G,P[5]^=V,P[14]^=G,P[15]^=V,P[24]^=G,P[25]^=V,P[34]^=G,P[35]^=V,P[44]^=G,P[45]^=V,G=ae^(j<<1|q>>>31),V=ce^(q<<1|j>>>31),P[6]^=G,P[7]^=V,P[16]^=G,P[17]^=V,P[26]^=G,P[27]^=V,P[36]^=G,P[37]^=V,P[46]^=G,P[47]^=V,G=pe^(Y<<1|N>>>31),V=ee^(N<<1|Y>>>31),P[8]^=G,P[9]^=V,P[18]^=G,P[19]^=V,P[28]^=G,P[29]^=V,P[38]^=G,P[39]^=V,P[48]^=G,P[49]^=V,X=P[0],ie=P[1],Ue=P[11]<<4|P[10]>>>28,Bt=P[10]<<4|P[11]>>>28,le=P[20]<<3|P[21]>>>29,ke=P[21]<<3|P[20]>>>29,Br=P[31]<<9|P[30]>>>23,Lr=P[30]<<9|P[31]>>>23,Be=P[40]<<18|P[41]>>>14,Pe=P[41]<<18|P[40]>>>14,qe=P[2]<<1|P[3]>>>31,dr=P[3]<<1|P[2]>>>31,fe=P[13]<<12|P[12]>>>20,de=P[12]<<12|P[13]>>>20,je=P[22]<<10|P[23]>>>22,$e=P[23]<<10|P[22]>>>22,_e=P[33]<<13|P[32]>>>19,Ce=P[32]<<13|P[33]>>>19,$r=P[42]<<2|P[43]>>>30,sr=P[43]<<2|P[42]>>>30,Xe=P[5]<<30|P[4]>>>2,et=P[4]<<30|P[5]>>>2,Je=P[14]<<6|P[15]>>>26,Ze=P[15]<<6|P[14]>>>26,ge=P[25]<<11|P[24]>>>21,be=P[24]<<11|P[25]>>>21,Ot=P[34]<<15|P[35]>>>17,Oe=P[35]<<15|P[34]>>>17,rt=P[45]<<29|P[44]>>>3,Ie=P[44]<<29|P[45]>>>3,F=P[6]<<28|P[7]>>>4,te=P[7]<<28|P[6]>>>4,Kr=P[17]<<23|P[16]>>>9,ft=P[16]<<23|P[17]>>>9,Tt=P[26]<<25|P[27]>>>7,Re=P[27]<<25|P[26]>>>7,Ae=P[36]<<21|P[37]>>>11,we=P[37]<<21|P[36]>>>11,He=P[47]<<24|P[46]>>>8,Lt=P[46]<<24|P[47]>>>8,Dt=P[8]<<27|P[9]>>>5,Fe=P[9]<<27|P[8]>>>5,se=P[18]<<20|P[19]>>>12,oe=P[19]<<20|P[18]>>>12,Rt=P[29]<<7|P[28]>>>25,Dr=P[28]<<7|P[29]>>>25,De=P[38]<<8|P[39]>>>24,kt=P[39]<<8|P[38]>>>24,J=P[48]<<14|P[49]>>>18,$=P[49]<<14|P[48]>>>18,P[0]=X^~fe&ge,P[1]=ie^~de&be,P[10]=F^~se&le,P[11]=te^~oe&ke,P[20]=qe^~Je&Tt,P[21]=dr^~Ze&Re,P[30]=Dt^~Ue&je,P[31]=Fe^~Bt&$e,P[40]=Xe^~Kr&Rt,P[41]=et^~ft&Dr,P[2]=fe^~ge&Ae,P[3]=de^~be&we,P[12]=se^~le&_e,P[13]=oe^~ke&Ce,P[22]=Je^~Tt&De,P[23]=Ze^~Re&kt,P[32]=Ue^~je&Ot,P[33]=Bt^~$e&Oe,P[42]=Kr^~Rt&Br,P[43]=ft^~Dr&Lr,P[4]=ge^~Ae&J,P[5]=be^~we&$,P[14]=le^~_e&rt,P[15]=ke^~Ce&Ie,P[24]=Tt^~De&Be,P[25]=Re^~kt&Pe,P[34]=je^~Ot&He,P[35]=$e^~Oe&Lt,P[44]=Rt^~Br&$r,P[45]=Dr^~Lr&sr,P[6]=Ae^~J&X,P[7]=we^~$&ie,P[16]=_e^~rt&F,P[17]=Ce^~Ie&te,P[26]=De^~Be&qe,P[27]=kt^~Pe&dr,P[36]=Ot^~He&Dt,P[37]=Oe^~Lt&Fe,P[46]=Br^~$r&Xe,P[47]=Lr^~sr&et,P[8]=J^~X&fe,P[9]=$^~ie&de,P[18]=rt^~F&se,P[19]=Ie^~te&oe,P[28]=Be^~qe&Je,P[29]=Pe^~dr&Ze,P[38]=He^~Dt&Ue,P[39]=Lt^~Fe&Bt,P[48]=$r^~Xe&Kr,P[49]=sr^~et&ft,P[0]^=D[K],P[1]^=D[K+1]};if(a)t.exports=f;else for(T=0;T<p.length;++T)i[p[T]]=f[p[T]]})()})(Zk);const Yk=kd;function Jt(t){return"0x"+Yk.keccak_256(Ee(t))}const Qk=Object.freeze(Object.defineProperty({__proto__:null,keccak256:Jt},Symbol.toStringTag,{value:"Module"})),Xk="rlp/5.7.0",rs=new ue(Xk);function z3(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function W3(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function Y8(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(Y8(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=z3(n.length);return i.unshift(247+i.length),i.concat(n)}fh(t)||rs.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Ee(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=z3(e.length);return r.unshift(183+r.length),r.concat(e)}function Ua(t){return Me(Y8(t))}function q3(t,e,r,n){const i=[];for(;r<e+1+n;){const s=Q8(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&rs.throwError("child data too short",ue.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Q8(t,e){if(t.length===0&&rs.throwError("data too short",ue.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&rs.throwError("data short segment too short",ue.errors.BUFFER_OVERRUN,{});const n=W3(t,e+1,r);return e+1+r+n>t.length&&rs.throwError("data long segment too short",ue.errors.BUFFER_OVERRUN,{}),q3(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&rs.throwError("data array too short",ue.errors.BUFFER_OVERRUN,{}),q3(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&rs.throwError("data array too short",ue.errors.BUFFER_OVERRUN,{});const n=W3(t,e+1,r);e+1+r+n>t.length&&rs.throwError("data array too short",ue.errors.BUFFER_OVERRUN,{});const i=Me(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&rs.throwError("data too short",ue.errors.BUFFER_OVERRUN,{});const n=Me(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:Me(t[e])}}function Op(t){const e=Ee(t),r=Q8(e,0);return r.consumed!==e.length&&rs.throwArgumentError("invalid rlp data","data",t),r.result}const eO=Object.freeze(Object.defineProperty({__proto__:null,decode:Op,encode:Ua},Symbol.toStringTag,{value:"Module"})),tO="address/5.7.0",wo=new ue(tO);function V3(t){bt(t,20)||wo.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Ee(Jt(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const rO=9007199254740991;function nO(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const W2={};for(let t=0;t<10;t++)W2[String(t)]=String(t);for(let t=0;t<26;t++)W2[String.fromCharCode(65+t)]=String(10+t);const G3=Math.floor(nO(rO));function X8(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>W2[n]).join("");for(;e.length>=G3;){let n=e.substring(0,G3);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Gt(t){let e=null;if(typeof t!="string"&&wo.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=V3(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&wo.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==X8(t)&&wo.throwArgumentError("bad icap checksum","address",t),e=Lk(t.substring(4));e.length<40;)e="0"+e;e=V3("0x"+e)}else wo.throwArgumentError("invalid address","address",t);return e}function iO(t){try{return Gt(t),!0}catch{}return!1}function sO(t){let e=$k(Gt(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+X8("XE00"+e)+e}function q2(t){let e=null;try{e=Gt(t.from)}catch{wo.throwArgumentError("missing from address","transaction",t)}const r=ds(Ee(Se.from(t.nonce).toHexString()));return Gt(Er(Jt(Ua([e,r])),12))}function oO(t,e,r){return ws(e)!==32&&wo.throwArgumentError("salt must be 32 bytes","salt",e),ws(r)!==32&&wo.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),Gt(Er(Jt(er(["0xff",Gt(t),e,r])),12))}const aO=Object.freeze(Object.defineProperty({__proto__:null,getAddress:Gt,getContractAddress:q2,getCreate2Address:oO,getIcapAddress:sO,isAddress:iO},Symbol.toStringTag,{value:"Module"}));class cO extends to{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Gt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Gt(Yt(e.readValue().toHexString(),20))}}class lO extends to{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const Rc=new ue(hh);function eE(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||Rc.throwError("cannot encode object for signature with missing names",ue.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]&&Rc.throwError("cannot encode object for signature with duplicate names",ue.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]=!0,r[u]})}else Rc.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Rc.throwArgumentError("types/value length mismatch","tuple",r);let i=new ny(t.wordSize),s=new ny(t.wordSize),o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let h=s.length;c.encode(s,u);let b=i.writeUpdatableValue();o.push(v=>{b(v+h)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function tE(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===ue.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===ue.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class uO extends to{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Rc.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return eE(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Rc.throwError("insufficient data length",ue.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new lO(this.coder));return e.coerce(this.name,tE(e,n))}}class fO extends to{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class rE extends to{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Ee(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class hO extends rE{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Me(super.decode(e)))}}class dO extends to{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Ee(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,Me(e.readBytes(this.size)))}}class pO extends to{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const gO="0x0000000000000000000000000000000000000000",mO=Se.from(-1),nE=Se.from(0),bO=Se.from(1),yO=Se.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),iE="0x0000000000000000000000000000000000000000000000000000000000000000";class vO extends to{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Se.from(r),i=yO.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(bO).mul(mO)))&&this._throwError("value out-of-bounds",r)}else(n.lt(nE)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const wO="strings/5.7.0",sE=new ue(wO);var xs;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(xs||(xs={}));var Mn;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Mn||(Mn={}));function xO(t,e,r,n,i){return sE.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function oE(t,e,r,n,i){if(t===Mn.BAD_PREFIX||t===Mn.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Mn.OVERRUN?r.length-e-1:0}function _O(t,e,r,n,i){return t===Mn.OVERLONG?(n.push(i),0):(n.push(65533),oE(t,e,r))}const aE=Object.freeze({error:xO,ignore:oE,replace:_O});function V2(t,e){e==null&&(e=aE.error),t=Ee(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Mn.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Mn.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Mn.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Mn.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Mn.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Mn.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Mn.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Sr(t,e=xs.current){e!=xs.current&&(sE.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Ee(r)}function Pg(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function EO(t,e){return'"'+V2(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?Pg(r):(r-=65536,Pg((r>>10&1023)+55296)+Pg((r&1023)+56320))}).join("")+'"'}function iy(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Ho(t,e){return iy(V2(t,e))}function Od(t,e=xs.current){return V2(Sr(t,e))}function SO(t){const e=Sr(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Me(er([e,iE]).slice(0,32))}function AO(t){const e=Ee(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return Ho(e.slice(0,r))}function CO(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function G2(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=e(s[1])}),n}function cE(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function K2(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&i.e.indexOf(t-r)!==-1)continue;return i}}return null}const IO=cE("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),MO="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),TO=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],kO=G2("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),OO=G2("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),RO=G2("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",CO),PO=cE("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function NO(t){return t.reduce((e,r)=>(r.forEach(n=>{e.push(n)}),e),[])}function DO(t){return!!K2(t,IO)}function BO(t){let e=K2(t,TO);if(e)return[t+e.s];let r=kO[t];if(r)return r;let n=OO[t];if(n)return[t+n[0]];let i=RO[t];return i||null}function LO(t){return!!K2(t,PO)}function $O(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=Od(t);e=NO(e.map(n=>{if(MO.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=BO(n);return i||[n]})),e=Od(iy(e),xs.NFKC),e.forEach(n=>{if(LO(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(DO(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=iy(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");return r}const FO=Object.freeze(Object.defineProperty({__proto__:null,get UnicodeNormalizationForm(){return xs},Utf8ErrorFuncs:aE,get Utf8ErrorReason(){return Mn},_toEscapedUtf8String:EO,formatBytes32String:SO,nameprep:$O,parseBytes32String:AO,toUtf8Bytes:Sr,toUtf8CodePoints:Od,toUtf8String:Ho},Symbol.toStringTag,{value:"Module"}));class UO extends rE{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Sr(r))}decode(e){return Ho(super.decode(e))}}class l0 extends to{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return eE(e,this.coders,r)}decode(e){return e.coerce(this.name,tE(e,this.coders))}}const u0=new ue(hh),jO=new RegExp(/^bytes([0-9]*)$/),HO=new RegExp(/^(u?int)([0-9]*)$/);class lE{constructor(e){me(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new cO(e.name);case"bool":return new fO(e.name);case"string":return new UO(e.name);case"bytes":return new hO(e.name);case"array":return new uO(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new l0((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new pO(e.name)}let r=e.type.match(HO);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&u0.throwArgumentError("invalid "+r[1]+" bit length","param",e),new vO(n/8,r[1]==="int",e.name)}if(r=e.type.match(jO),r){let n=parseInt(r[1]);return(n===0||n>32)&&u0.throwArgumentError("invalid bytes length","param",e),new dO(n,e.name)}return u0.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Td(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new ny(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Pr.from(i)));return new l0(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&u0.throwError("types/values length mismatch",ue.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(Pr.from(o))),i=new l0(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(Pr.from(o)));return new l0(i,"_").decode(this._getReader(Ee(r),n))}}const uE=new lE;function xo(t){return Jt(Sr(t))}const fE="hash/5.7.0";function J2(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Ee(e)}function Z2(t){t=Ee(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}const zO=Object.freeze(Object.defineProperty({__proto__:null,decode:J2,encode:Z2},Symbol.toStringTag,{value:"Module"}));function hE(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function WO(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function qO(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let k=1;k<n;k++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const h=31,b=Math.pow(2,h),v=b>>>1,E=v>>1,D=b-1;let x=0;for(let k=0;k<h;k++)x=x<<1|u();let _=[],m=0,w=b;for(;;){let k=Math.floor(((x-m+1)*i-1)/w),z=0,S=n;for(;S-z>1;){let W=z+S>>>1;k<s[W]?S=W:z=W}if(z==0)break;_.push(z);let H=m+Math.floor(w*s[z]/i),re=m+Math.floor(w*s[z+1]/i)-1;for(;!((H^re)&v);)x=x<<1&D|u(),H=H<<1&D,re=re<<1&D|1;for(;H&~re&E;)x=x&v|x<<1&D>>>1|u(),H=H<<1^v,re=(re^v)<<1|v|1;m=H,w=1+re-H}let A=n-4;return _.map(k=>{switch(k-A){case 3:return A+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return A+256+(t[a++]<<8|t[a++]);case 1:return A+t[a++];default:return k-1}})}function VO(t){let e=0;return()=>t[e++]}function GO(t){return VO(qO(t))}function KO(t){return t&1?~t>>1:t>>1}function JO(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function K3(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function ZO(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=KO(e());return r}function Rd(t,e){let r=K3(t(),t),n=t(),i=K3(n,t),s=JO(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function YO(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(XO(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(eR(r,t))}return WO(hE(e))}function QO(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function dE(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)ZO(t,r).forEach((s,o)=>n[o].push(s));return n}function XO(t,e){let r=1+e(),n=e(),i=QO(e),s=dE(i.length,1+t,e);return hE(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,h)=>{let b=h*n;return[c+h*r,l.map(v=>v+b)]})}))}function eR(t,e){let r=1+e();return dE(r,1+t,e).map(i=>[i[0],i.slice(1)])}function tR(t){let e=Rd(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=Rd(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function rR(){return GO(J2("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Rp=rR(),nR=new Set(Rd(Rp)),iR=new Set(Rd(Rp)),sR=YO(Rp),oR=tR(Rp),J3=45,Z3=95;function pE(t){return Od(t)}function aR(t){return t.filter(e=>e!=65039)}function gE(t){for(let e of t.split(".")){let r=pE(e);try{for(let n=r.lastIndexOf(Z3)-1;n>=0;n--)if(r[n]!==Z3)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===J3&&r[3]===J3)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function cR(t){return gE(lR(t,aR))}function lR(t,e){let r=pE(t).reverse(),n=[];for(;r.length;){let i=fR(r);if(i){n.push(...e(i));continue}let s=r.pop();if(nR.has(s)){n.push(s);continue}if(iR.has(s))continue;let o=sR[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return gE(uR(String.fromCodePoint(...n)))}function uR(t){return t.normalize("NFC")}function fR(t,e){var r;let n=oR,i,s,o=[],a=t.length;for(e&&(e.length=0);a;){let c=t[--a];if(n=(r=n.branches.find(l=>l.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return i}const hR=new ue(fE),mE=new Uint8Array(32);mE.fill(0);function Y3(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Pp(t){const e=Sr(cR(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Y3(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(Y3(e.slice(n))),r}function dR(t){return Pp(t).map(e=>Ho(e)).join(".")}function pR(t){try{return Pp(t).length!==0}catch{}return!1}function df(t){typeof t!="string"&&hR.throwArgumentError("invalid ENS name; not a string","name",t);let e=mE;const r=Pp(t);for(;r.length;)e=Jt(er([e,Jt(r.pop())]));return Me(e)}function bE(t){return Me(er(Pp(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const yE=`Ethereum Signed Message:
`;function Y2(t){return typeof t=="string"&&(t=Sr(t)),Jt(er([Sr(yE),Sr(String(t.length)),t]))}var gR=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const fr=new ue(fE),vE=new Uint8Array(32);vE.fill(0);const mR=Se.from(-1),wE=Se.from(0),xE=Se.from(1),bR=Se.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function yR(t){const e=Ee(t),r=e.length%32;return r?xn([e,vE.slice(r)]):Me(e)}const vR=Yt(xE.toHexString(),32),wR=Yt(wE.toHexString(),32),Q3={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ng=["name","version","chainId","verifyingContract","salt"];function X3(t){return function(e){return typeof e!="string"&&fr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const xR={name:X3("name"),version:X3("version"),chainId:function(t){try{return Se.from(t).toString()}catch{}return fr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Gt(t).toLowerCase()}catch{}return fr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Ee(t);if(e.length!==32)throw new Error("bad length");return Me(e)}catch{}return fr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Dg(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&fr.throwArgumentError("invalid numeric width","type",t);const i=bR.mask(r?n-1:n),s=r?i.add(xE).mul(mR):wE;return function(o){const a=Se.from(o);return(a.lt(s)||a.gt(i))&&fr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),Yt(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&fr.throwArgumentError("invalid bytes width","type",t),function(n){return Ee(n).length!==r&&fr.throwArgumentError(`invalid length for ${t}`,"value",n),yR(n)}}}switch(t){case"address":return function(e){return Yt(Gt(e),32)};case"bool":return function(e){return e?vR:wR};case"bytes":return function(e){return Jt(e)};case"string":return function(e){return xo(e)}}return null}function ex(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Qr{constructor(e){me(this,"types",Object.freeze(Zn(e))),me(this,"_encoderCache",{}),me(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&fr.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&fr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!Dg(u)&&(n[u]||fr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?fr.throwArgumentError("missing primary type","types",e):s.length>1&&fr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),me(this,"primaryType",s[0]);function o(a,c){c[a]&&fr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(l=>{n[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=ex(a,e[a])+c.map(l=>ex(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=Dg(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&fr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(Jt)),Jt(xn(c))}}const n=this.types[e];if(n){const i=xo(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?Jt(l):l});return o.unshift(i),xn(o)}}return fr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||fr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Jt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Dg(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&fr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):fr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Qr(e)}static getPrimaryType(e){return Qr.from(e).primaryType}static hashStruct(e,r,n){return Qr.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=Q3[n];i||fr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>Ng.indexOf(n.name)-Ng.indexOf(i.name)),Qr.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return xn(["0x1901",Qr.hashDomain(e),Qr.from(r).hash(n)])}static hash(e,r,n){return Jt(Qr.encode(e,r,n))}static resolveNames(e,r,n,i){return gR(this,void 0,void 0,function*(){e=ir(e);const s={};e.verifyingContract&&!bt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Qr.from(r);o.visit(n,(a,c)=>(a==="address"&&!bt(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){Qr.hashDomain(e);const i={},s=[];Ng.forEach(c=>{const l=e[c];l!=null&&(i[c]=xR[c](l),s.push({name:c,type:Q3[c]}))});const o=Qr.from(r),a=ir(r);return a.EIP712Domain?fr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return Me(Ee(l));if(c.match(/^u?int/))return Se.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&fr.throwArgumentError("invalid string","value",l),l}return fr.throwArgumentError("unsupported type","type",c)})}}}const _R=Object.freeze(Object.defineProperty({__proto__:null,_TypedDataEncoder:Qr,dnsEncode:bE,ensNormalize:dR,hashMessage:Y2,id:xo,isValidName:pR,messagePrefix:yE,namehash:df},Symbol.toStringTag,{value:"Module"})),lr=new ue(hh);class _E extends jo{}class EE extends jo{}class ER extends jo{}class Pd extends jo{static isIndexed(e){return!!(e&&e._isIndexed)}}const SR={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function tx(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class sy{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,me(this,"fragments",r.map(n=>ls.from(n)).filter(n=>n!=null)),me(this,"_abiCoder",Li(new.target,"getAbiCoder")()),me(this,"functions",{}),me(this,"errors",{}),me(this,"events",{}),me(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){lr.warn("duplicate definition - constructor");return}me(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){lr.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||me(this,"deploy",Di.from({payable:!1,type:"constructor"})),me(this,"_isInterface",!0)}format(e){e||(e=$t.full),e===$t.sighash&&lr.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===$t.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return uE}static getAddress(e){return Gt(e)}static getSighash(e){return Er(xo(e.format()),0,4)}static getEventTopic(e){return xo(e.format())}getFunction(e){if(bt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];lr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?lr.throwArgumentError("no matching function","name",n):i.length>1&&lr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[Bi.fromString(e).format()];return r||lr.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(bt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];lr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?lr.throwArgumentError("no matching event","name",n):i.length>1&&lr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[os.fromString(e).format()];return r||lr.throwArgumentError("no matching event","signature",e),r}getError(e){if(bt(e)){const n=Li(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}lr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?lr.throwArgumentError("no matching error","name",n):i.length>1&&lr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[Bi.fromString(e).format()];return r||lr.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Li(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Li(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=Ee(r);return Me(n.slice(0,4))!==this.getSighash(e)&&lr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Me(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),Me(er([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=Ee(r);return Me(n.slice(0,4))!==this.getSighash(e)&&lr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Me(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Me(er([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=Ee(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=Me(n.slice(0,4)),u=SR[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const h=this.getError(l);o=this._abiCoder.decode(h.inputs,n.slice(4)),a=h.name,c=h.format()}catch{}break}}return lr.throwError("call revert exception"+s,ue.errors.CALL_EXCEPTION,{method:e.format(),data:Me(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Me(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&lr.throwError("too many arguments for "+e.format(),ue.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?xo(o):s.type==="bytes"?Jt(Me(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=Se.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Yt(Me(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&lr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?lr.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&lr.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(xo(c));else if(o.type==="bytes")n.push(Jt(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let b=this.getEventTopic(e);(!bt(n[0],32)||n[0].toLowerCase()!==b)&&lr.throwError("fragment/topic mismatch",ue.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:b,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((b,v)=>{b.indexed?b.type==="string"||b.type==="bytes"||b.baseType==="tuple"||b.baseType==="array"?(i.push(Pr.fromObject({type:"bytes32",name:b.name})),o.push(!0)):(i.push(b),o.push(!1)):(s.push(b),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,er(n)):null,c=this._abiCoder.decode(s,r,!0),l=[],u=0,h=0;e.inputs.forEach((b,v)=>{if(b.indexed)if(a==null)l[v]=new Pd({_isIndexed:!0,hash:null});else if(o[v])l[v]=new Pd({_isIndexed:!0,hash:a[h++]});else try{l[v]=a[h++]}catch(E){l[v]=E}else try{l[v]=c[u++]}catch(E){l[v]=E}if(b.name&&l[b.name]==null){const E=l[v];E instanceof Error?Object.defineProperty(l,b.name,{enumerable:!0,get:()=>{throw tx(`property ${JSON.stringify(b.name)}`,E)}}):l[b.name]=E}});for(let b=0;b<l.length;b++){const v=l[b];v instanceof Error&&Object.defineProperty(l,b,{enumerable:!0,get:()=>{throw tx(`index ${b}`,v)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new EE({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Se.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new _E({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=Me(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new ER({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const AR=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:lE,ConstructorFragment:Di,ErrorFragment:Hs,EventFragment:os,FormatTypes:$t,Fragment:ls,FunctionFragment:Bi,Indexed:Pd,Interface:sy,LogDescription:_E,ParamType:Pr,TransactionDescription:EE,checkResultErrors:Z8,defaultAbiCoder:uE},Symbol.toStringTag,{value:"Module"})),CR="abstract-provider/5.7.0";var IR=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const MR=new ue(CR);class TR extends jo{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class $l{constructor(){MR.checkAbstract(new.target,$l),me(this,"_isProvider",!0)}getFeeData(){return IR(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield mr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=Se.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const kR="abstract-signer/5.7.0";var Ci=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const ui=new ue(kR),OR=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],RR=[ue.errors.INSUFFICIENT_FUNDS,ue.errors.NONCE_EXPIRED,ue.errors.REPLACEMENT_UNDERPRICED];class Fl{constructor(){ui.checkAbstract(new.target,Fl),me(this,"_isSigner",!0)}getBalance(e){return Ci(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Ci(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Ci(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield mr(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Ci(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield mr(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Ci(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Ci(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Ci(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Ci(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Ci(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)OR.indexOf(n)===-1&&ui.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=ir(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&ui.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Ci(this,void 0,void 0,function*(){const r=yield mr(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Ci(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&ui.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?ui.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&ui.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&ui.throwError("network does not support EIP-1559",ue.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):ui.throwError("failed to get consistent fee data",ue.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(RR.indexOf(i.code)>=0)throw i;return ui.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ue.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&ui.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield mr(r)})}_checkProvider(e){this.provider||ui.throwError("missing provider",ue.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Q2 extends Fl{constructor(e,r){super(),me(this,"address",e),me(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{ui.throwError(e,ue.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Q2(this.address,e)}}var vn={},Mt={},dh=SE;function SE(t,e){if(!t)throw new Error(e||"Assertion failed")}SE.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Sn={},rx={get exports(){return Sn},set exports(t){Sn=t}};typeof Object.create=="function"?rx.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:rx.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var PR=dh,NR=Sn;Mt.inherits=NR;function DR(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function BR(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):DR(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Mt.toArray=BR;function LR(t){for(var e="",r=0;r<t.length;r++)e+=CE(t[r].toString(16));return e}Mt.toHex=LR;function AE(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Mt.htonl=AE;function $R(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=AE(i)),r+=IE(i.toString(16))}return r}Mt.toHex32=$R;function CE(t){return t.length===1?"0"+t:t}Mt.zero2=CE;function IE(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Mt.zero8=IE;function FR(t,e,r,n){var i=r-e;PR(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;n==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=c>>>0}return s}Mt.join32=FR;function UR(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Mt.split32=UR;function jR(t,e){return t>>>e|t<<32-e}Mt.rotr32=jR;function HR(t,e){return t<<e|t>>>32-e}Mt.rotl32=HR;function zR(t,e){return t+e>>>0}Mt.sum32=zR;function WR(t,e,r){return t+e+r>>>0}Mt.sum32_3=WR;function qR(t,e,r,n){return t+e+r+n>>>0}Mt.sum32_4=qR;function VR(t,e,r,n,i){return t+e+r+n+i>>>0}Mt.sum32_5=VR;function GR(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}Mt.sum64=GR;function KR(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}Mt.sum64_hi=KR;function JR(t,e,r,n){var i=e+n;return i>>>0}Mt.sum64_lo=JR;function ZR(t,e,r,n,i,s,o,a){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+s>>>0,c+=l<s?1:0,l=l+a>>>0,c+=l<a?1:0;var u=t+r+i+o+c;return u>>>0}Mt.sum64_4_hi=ZR;function YR(t,e,r,n,i,s,o,a){var c=e+n+s+a;return c>>>0}Mt.sum64_4_lo=YR;function QR(t,e,r,n,i,s,o,a,c,l){var u=0,h=e;h=h+n>>>0,u+=h<e?1:0,h=h+s>>>0,u+=h<s?1:0,h=h+a>>>0,u+=h<a?1:0,h=h+l>>>0,u+=h<l?1:0;var b=t+r+i+o+c+u;return b>>>0}Mt.sum64_5_hi=QR;function XR(t,e,r,n,i,s,o,a,c,l){var u=e+n+s+a+l;return u>>>0}Mt.sum64_5_lo=XR;function eP(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Mt.rotr64_hi=eP;function tP(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Mt.rotr64_lo=tP;function rP(t,e,r){return t>>>r}Mt.shr64_hi=rP;function nP(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Mt.shr64_lo=nP;var Ul={},nx=Mt,iP=dh;function Np(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Ul.BlockHash=Np;Np.prototype.update=function(e,r){if(e=nx.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=nx.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Np.prototype.digest=function(e){return this.update(this._pad()),iP(this.pending===null),this._digest(e)};Np.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var jl={},As={},sP=Mt,ps=sP.rotr32;function oP(t,e,r,n){if(t===0)return ME(e,r,n);if(t===1||t===3)return kE(e,r,n);if(t===2)return TE(e,r,n)}As.ft_1=oP;function ME(t,e,r){return t&e^~t&r}As.ch32=ME;function TE(t,e,r){return t&e^t&r^e&r}As.maj32=TE;function kE(t,e,r){return t^e^r}As.p32=kE;function aP(t){return ps(t,2)^ps(t,13)^ps(t,22)}As.s0_256=aP;function cP(t){return ps(t,6)^ps(t,11)^ps(t,25)}As.s1_256=cP;function lP(t){return ps(t,7)^ps(t,18)^t>>>3}As.g0_256=lP;function uP(t){return ps(t,17)^ps(t,19)^t>>>10}As.g1_256=uP;var tl=Mt,fP=Ul,hP=As,Bg=tl.rotl32,gu=tl.sum32,dP=tl.sum32_5,pP=hP.ft_1,OE=fP.BlockHash,gP=[1518500249,1859775393,2400959708,3395469782];function _s(){if(!(this instanceof _s))return new _s;OE.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}tl.inherits(_s,OE);var mP=_s;_s.blockSize=512;_s.outSize=160;_s.hmacStrength=80;_s.padLength=64;_s.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Bg(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),h=dP(Bg(s,5),pP(u,o,a,c),l,n[i],gP[u]);l=c,c=a,a=Bg(o,30),o=s,s=h}this.h[0]=gu(this.h[0],s),this.h[1]=gu(this.h[1],o),this.h[2]=gu(this.h[2],a),this.h[3]=gu(this.h[3],c),this.h[4]=gu(this.h[4],l)};_s.prototype._digest=function(e){return e==="hex"?tl.toHex32(this.h,"big"):tl.split32(this.h,"big")};var rl=Mt,bP=Ul,Hl=As,yP=dh,Ii=rl.sum32,vP=rl.sum32_4,wP=rl.sum32_5,xP=Hl.ch32,_P=Hl.maj32,EP=Hl.s0_256,SP=Hl.s1_256,AP=Hl.g0_256,CP=Hl.g1_256,RE=bP.BlockHash,IP=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Es(){if(!(this instanceof Es))return new Es;RE.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=IP,this.W=new Array(64)}rl.inherits(Es,RE);var PE=Es;Es.blockSize=512;Es.outSize=256;Es.hmacStrength=192;Es.padLength=64;Es.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=vP(CP(n[i-2]),n[i-7],AP(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4],u=this.h[5],h=this.h[6],b=this.h[7];for(yP(this.k.length===n.length),i=0;i<n.length;i++){var v=wP(b,SP(l),xP(l,u,h),this.k[i],n[i]),E=Ii(EP(s),_P(s,o,a));b=h,h=u,u=l,l=Ii(c,v),c=a,a=o,o=s,s=Ii(v,E)}this.h[0]=Ii(this.h[0],s),this.h[1]=Ii(this.h[1],o),this.h[2]=Ii(this.h[2],a),this.h[3]=Ii(this.h[3],c),this.h[4]=Ii(this.h[4],l),this.h[5]=Ii(this.h[5],u),this.h[6]=Ii(this.h[6],h),this.h[7]=Ii(this.h[7],b)};Es.prototype._digest=function(e){return e==="hex"?rl.toHex32(this.h,"big"):rl.split32(this.h,"big")};var oy=Mt,NE=PE;function Zs(){if(!(this instanceof Zs))return new Zs;NE.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}oy.inherits(Zs,NE);var MP=Zs;Zs.blockSize=512;Zs.outSize=224;Zs.hmacStrength=192;Zs.padLength=64;Zs.prototype._digest=function(e){return e==="hex"?oy.toHex32(this.h.slice(0,7),"big"):oy.split32(this.h.slice(0,7),"big")};var Pn=Mt,TP=Ul,kP=dh,gs=Pn.rotr64_hi,ms=Pn.rotr64_lo,DE=Pn.shr64_hi,BE=Pn.shr64_lo,ao=Pn.sum64,Lg=Pn.sum64_hi,$g=Pn.sum64_lo,OP=Pn.sum64_4_hi,RP=Pn.sum64_4_lo,PP=Pn.sum64_5_hi,NP=Pn.sum64_5_lo,LE=TP.BlockHash,DP=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Hi(){if(!(this instanceof Hi))return new Hi;LE.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=DP,this.W=new Array(160)}Pn.inherits(Hi,LE);var $E=Hi;Hi.blockSize=1024;Hi.outSize=512;Hi.hmacStrength=192;Hi.padLength=128;Hi.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=VP(n[i-4],n[i-3]),o=GP(n[i-4],n[i-3]),a=n[i-14],c=n[i-13],l=WP(n[i-30],n[i-29]),u=qP(n[i-30],n[i-29]),h=n[i-32],b=n[i-31];n[i]=OP(s,o,a,c,l,u,h,b),n[i+1]=RP(s,o,a,c,l,u,h,b)}};Hi.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],h=this.h[7],b=this.h[8],v=this.h[9],E=this.h[10],D=this.h[11],x=this.h[12],_=this.h[13],m=this.h[14],w=this.h[15];kP(this.k.length===n.length);for(var A=0;A<n.length;A+=2){var k=m,z=w,S=HP(b,v),H=zP(b,v),re=BP(b,v,E,D,x),W=LP(b,v,E,D,x,_),y=this.k[A],R=this.k[A+1],I=n[A],f=n[A+1],p=PP(k,z,S,H,re,W,y,R,I,f),T=NP(k,z,S,H,re,W,y,R,I,f);k=UP(i,s),z=jP(i,s),S=$P(i,s,o,a,c),H=FP(i,s,o,a,c,l);var M=Lg(k,z,S,H),C=$g(k,z,S,H);m=x,w=_,x=E,_=D,E=b,D=v,b=Lg(u,h,p,T),v=$g(h,h,p,T),u=c,h=l,c=o,l=a,o=i,a=s,i=Lg(p,T,M,C),s=$g(p,T,M,C)}ao(this.h,0,i,s),ao(this.h,2,o,a),ao(this.h,4,c,l),ao(this.h,6,u,h),ao(this.h,8,b,v),ao(this.h,10,E,D),ao(this.h,12,x,_),ao(this.h,14,m,w)};Hi.prototype._digest=function(e){return e==="hex"?Pn.toHex32(this.h,"big"):Pn.split32(this.h,"big")};function BP(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function LP(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function $P(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function FP(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function UP(t,e){var r=gs(t,e,28),n=gs(e,t,2),i=gs(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function jP(t,e){var r=ms(t,e,28),n=ms(e,t,2),i=ms(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function HP(t,e){var r=gs(t,e,14),n=gs(t,e,18),i=gs(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function zP(t,e){var r=ms(t,e,14),n=ms(t,e,18),i=ms(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function WP(t,e){var r=gs(t,e,1),n=gs(t,e,8),i=DE(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function qP(t,e){var r=ms(t,e,1),n=ms(t,e,8),i=BE(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function VP(t,e){var r=gs(t,e,19),n=gs(e,t,29),i=DE(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function GP(t,e){var r=ms(t,e,19),n=ms(e,t,29),i=BE(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var ay=Mt,FE=$E;function Ys(){if(!(this instanceof Ys))return new Ys;FE.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ay.inherits(Ys,FE);var KP=Ys;Ys.blockSize=1024;Ys.outSize=384;Ys.hmacStrength=192;Ys.padLength=128;Ys.prototype._digest=function(e){return e==="hex"?ay.toHex32(this.h.slice(0,12),"big"):ay.split32(this.h.slice(0,12),"big")};jl.sha1=mP;jl.sha224=MP;jl.sha256=PE;jl.sha384=KP;jl.sha512=$E;var UE={},ja=Mt,JP=Ul,f0=ja.rotl32,ix=ja.sum32,mu=ja.sum32_3,sx=ja.sum32_4,jE=JP.BlockHash;function Ss(){if(!(this instanceof Ss))return new Ss;jE.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ja.inherits(Ss,jE);UE.ripemd160=Ss;Ss.blockSize=512;Ss.outSize=160;Ss.hmacStrength=192;Ss.padLength=64;Ss.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=n,l=i,u=s,h=o,b=a,v=0;v<80;v++){var E=ix(f0(sx(n,ox(v,i,s,o),e[QP[v]+r],ZP(v)),eN[v]),a);n=a,a=o,o=f0(s,10),s=i,i=E,E=ix(f0(sx(c,ox(79-v,l,u,h),e[XP[v]+r],YP(v)),tN[v]),b),c=b,b=h,h=f0(u,10),u=l,l=E}E=mu(this.h[1],s,h),this.h[1]=mu(this.h[2],o,b),this.h[2]=mu(this.h[3],a,c),this.h[3]=mu(this.h[4],n,l),this.h[4]=mu(this.h[0],i,u),this.h[0]=E};Ss.prototype._digest=function(e){return e==="hex"?ja.toHex32(this.h,"little"):ja.split32(this.h,"little")};function ox(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function ZP(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function YP(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var QP=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],XP=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],eN=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],tN=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],rN=Mt,nN=dh;function nl(t,e,r){if(!(this instanceof nl))return new nl(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(rN.toArray(e,r))}var iN=nl;nl.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),nN(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};nl.prototype.update=function(e,r){return this.inner.update(e,r),this};nl.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Mt,e.common=Ul,e.sha=jl,e.ripemd=UE,e.hmac=iN,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(vn);function zl(t,e,r){return r={path:e,exports:{},require:function(n,i){return sN(n,i??r.path)}},t(r,r.exports),r.exports}function sN(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var X2=HE;function HE(t,e){if(!t)throw new Error(e||"Assertion failed")}HE.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var $i=zl(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),h=u>>8,b=u&255;h?c.push(h,b):c.push(b)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),Xn=zl(function(t,e){var r=e;r.assert=X2,r.toArray=$i.toArray,r.zero2=$i.zero2,r.toHex=$i.toHex,r.encode=$i.encode;function n(c,l,u){var h=new Array(Math.max(c.bitLength(),u)+1);h.fill(0);for(var b=1<<l+1,v=c.clone(),E=0;E<h.length;E++){var D,x=v.andln(b-1);v.isOdd()?(x>(b>>1)-1?D=(b>>1)-x:D=x,v.isubn(D)):D=0,h[E]=D,v.iushrn(1)}return h}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var h=0,b=0,v;c.cmpn(-h)>0||l.cmpn(-b)>0;){var E=c.andln(3)+h&3,D=l.andln(3)+b&3;E===3&&(E=-1),D===3&&(D=-1);var x;E&1?(v=c.andln(7)+h&7,(v===3||v===5)&&D===2?x=-E:x=E):x=0,u[0].push(x);var _;D&1?(v=l.andln(7)+b&7,(v===3||v===5)&&E===2?_=-D:_=D):_=0,u[1].push(_),2*h===x+1&&(h=1-h),2*b===_+1&&(b=1-b),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var h="_"+l;c.prototype[l]=function(){return this[h]!==void 0?this[h]:this[h]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new ht(c,"hex","le")}r.intFromLE=a}),Nd=Xn.getNAF,oN=Xn.getJSF,Dd=Xn.assert;function zo(t,e){this.type=t,this.p=new ht(e.p,16),this.red=e.prime?ht.red(e.prime):ht.mont(this.p),this.zero=new ht(0).toRed(this.red),this.one=new ht(1).toRed(this.red),this.two=new ht(2).toRed(this.red),this.n=e.n&&new ht(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ya=zo;zo.prototype.point=function(){throw new Error("Not implemented")};zo.prototype.validate=function(){throw new Error("Not implemented")};zo.prototype._fixedNafMul=function(e,r){Dd(e.precomputed);var n=e._getDoubles(),i=Nd(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),b=s;b>0;b--){for(a=0;a<o.length;a++)c=o[a],c===b?h=h.mixedAdd(n.points[a]):c===-b&&(h=h.mixedAdd(n.points[a].neg()));u=u.add(h)}return u.toP()};zo.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Nd(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];Dd(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};zo.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,h,b;for(u=0;u<i;u++){b=r[u];var v=b._getNAFPoints(e);o[u]=v.wnd,a[u]=v.points}for(u=i-1;u>=1;u-=2){var E=u-1,D=u;if(o[E]!==1||o[D]!==1){c[E]=Nd(n[E],o[E],this._bitLength),c[D]=Nd(n[D],o[D],this._bitLength),l=Math.max(c[E].length,l),l=Math.max(c[D].length,l);continue}var x=[r[E],null,null,r[D]];r[E].y.cmp(r[D].y)===0?(x[1]=r[E].add(r[D]),x[2]=r[E].toJ().mixedAdd(r[D].neg())):r[E].y.cmp(r[D].y.redNeg())===0?(x[1]=r[E].toJ().mixedAdd(r[D]),x[2]=r[E].add(r[D].neg())):(x[1]=r[E].toJ().mixedAdd(r[D]),x[2]=r[E].toJ().mixedAdd(r[D].neg()));var _=[-3,-1,-5,-7,0,7,5,1,3],m=oN(n[E],n[D]);for(l=Math.max(m[0].length,l),c[E]=new Array(l),c[D]=new Array(l),h=0;h<l;h++){var w=m[0][h]|0,A=m[1][h]|0;c[E][h]=_[(w+1)*3+(A+1)],c[D][h]=0,a[E]=x}}var k=this.jpoint(null,null,null),z=this._wnafT4;for(u=l;u>=0;u--){for(var S=0;u>=0;){var H=!0;for(h=0;h<i;h++)z[h]=c[h][u]|0,z[h]!==0&&(H=!1);if(!H)break;S++,u--}if(u>=0&&S++,k=k.dblp(S),u<0)break;for(h=0;h<i;h++){var re=z[h];re!==0&&(re>0?b=a[h][re-1>>1]:re<0&&(b=a[h][-re-1>>1].neg()),b.type==="affine"?k=k.mixedAdd(b):k=k.add(b))}}for(u=0;u<i;u++)a[u]=null;return s?k:k.toP()};function xi(t,e){this.curve=t,this.type=e,this.precomputed=null}zo.BasePoint=xi;xi.prototype.eq=function(){throw new Error("Not implemented")};xi.prototype.validate=function(){return this.curve.validate(this)};zo.prototype.decodePoint=function(e,r){e=Xn.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Dd(e[e.length-1]%2===0):e[0]===7&&Dd(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};xi.prototype.encodeCompressed=function(e){return this.encode(e,!0)};xi.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};xi.prototype.encode=function(e,r){return Xn.encode(this._encode(r),e)};xi.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};xi.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};xi.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};xi.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};xi.prototype._getBeta=function(){return null};xi.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var ev=zl(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),aN=Xn.assert;function _i(t){Ya.call(this,"short",t),this.a=new ht(t.a,16).toRed(this.red),this.b=new ht(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ev(_i,Ya);var cN=_i;_i.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new ht(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new ht(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],aN(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new ht(a.a,16),b:new ht(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};_i.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:ht.mont(e),n=new ht(2).toRed(r).redInvm(),i=n.redNeg(),s=new ht(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};_i.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new ht(1),o=new ht(0),a=new ht(0),c=new ht(1),l,u,h,b,v,E,D,x=0,_,m;n.cmpn(0)!==0;){var w=i.div(n);_=i.sub(w.mul(n)),m=a.sub(w.mul(s));var A=c.sub(w.mul(o));if(!h&&_.cmp(r)<0)l=D.neg(),u=s,h=_.neg(),b=m;else if(h&&++x===2)break;D=_,i=n,n=_,a=s,s=m,c=o,o=A}v=_.neg(),E=m;var k=h.sqr().add(b.sqr()),z=v.sqr().add(E.sqr());return z.cmp(k)>=0&&(v=l,E=u),h.negative&&(h=h.neg(),b=b.neg()),v.negative&&(v=v.neg(),E=E.neg()),[{a:h,b},{a:v,b:E}]};_i.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),h=e.sub(a).sub(c),b=l.add(u).neg();return{k1:h,k2:b}};_i.prototype.pointFromX=function(e,r){e=new ht(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};_i.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};_i.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),h=0;h<o*2;h++)i[h]=null,s[h]=null;return u};function Vr(t,e,r,n){Ya.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ht(e,16),this.y=new ht(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ev(Vr,Ya.BasePoint);_i.prototype.point=function(e,r,n){return new Vr(this,e,r,n)};_i.prototype.pointFromJSON=function(e,r){return Vr.fromJSON(this,e,r)};Vr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Vr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Vr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Vr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Vr.prototype.isInfinity=function(){return this.inf};Vr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Vr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Vr.prototype.getX=function(){return this.x.fromRed()};Vr.prototype.getY=function(){return this.y.fromRed()};Vr.prototype.mul=function(e){return e=new ht(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Vr.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Vr.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Vr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Vr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Vr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function en(t,e,r,n){Ya.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ht(0)):(this.x=new ht(e,16),this.y=new ht(r,16),this.z=new ht(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ev(en,Ya.BasePoint);_i.prototype.jpoint=function(e,r,n){return new en(this,e,r,n)};en.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};en.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};en.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),h=u.redMul(c),b=i.redMul(u),v=l.redSqr().redIAdd(h).redISub(b).redISub(b),E=l.redMul(b.redISub(v)).redISub(o.redMul(h)),D=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(v,E,D)};en.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),h=n.redMul(l),b=c.redSqr().redIAdd(u).redISub(h).redISub(h),v=c.redMul(h.redISub(b)).redISub(s.redMul(u)),E=this.z.redMul(a);return this.curve.jpoint(b,v,E)};en.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var h=o.redSqr(),b=u.redSqr(),v=b.redSqr(),E=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(l)),D=o.redMul(b),x=E.redSqr().redISub(D.redAdd(D)),_=D.redISub(x),m=E.redMul(_);m=m.redIAdd(m).redISub(v);var w=u.redMul(c);r+1<e&&(l=l.redMul(v)),o=x,c=w,u=m}return this.curve.jpoint(o,u.redMul(s),c)};en.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};en.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),b=this.y.redSqr(),v=b.redSqr(),E=this.x.redAdd(b).redSqr().redISub(h).redISub(v);E=E.redIAdd(E);var D=h.redAdd(h).redIAdd(h),x=D.redSqr(),_=v.redIAdd(v);_=_.redIAdd(_),_=_.redIAdd(_),e=x.redISub(E).redISub(E),r=D.redMul(E.redISub(e)).redISub(_),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};en.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),b=this.y.redSqr(),v=this.x.redMul(b),E=this.x.redSub(h).redMul(this.x.redAdd(h));E=E.redAdd(E).redIAdd(E);var D=v.redIAdd(v);D=D.redIAdd(D);var x=D.redAdd(D);e=E.redSqr().redISub(x),n=this.y.redAdd(this.z).redSqr().redISub(b).redISub(h);var _=b.redSqr();_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_),r=E.redMul(D.redISub(e)).redISub(_)}return this.curve.jpoint(e,r,n)};en.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),h=c.redSqr().redISub(u.redAdd(u)),b=u.redISub(h),v=a.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var E=c.redMul(b).redISub(v),D=n.redAdd(n).redMul(i);return this.curve.jpoint(h,E,D)};en.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),h=r.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var b=this.x.redMul(c).redISub(h);b=b.redIAdd(b),b=b.redIAdd(b);var v=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var E=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(b,v,E)};en.prototype.mul=function(e,r){return e=new ht(e,r),this.curve._wnafMul(this,e)};en.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};en.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};en.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};en.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var id=zl(function(t,e){var r=e;r.base=Ya,r.short=cN,r.mont=null,r.edwards=null}),sd=zl(function(t,e){var r=e,n=Xn.assert;function i(a){a.type==="short"?this.curve=new id.short(a):a.type==="edwards"?this.curve=new id.edwards(a):this.curve=new id.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:vn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:vn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:vn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:vn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:vn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:vn.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:vn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:vn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function To(t){if(!(this instanceof To))return new To(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=$i.toArray(t.entropy,t.entropyEnc||"hex"),r=$i.toArray(t.nonce,t.nonceEnc||"hex"),n=$i.toArray(t.pers,t.persEnc||"hex");X2(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var zE=To;To.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};To.prototype._hmac=function(){return new vn.hmac(this.hash,this.K)};To.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};To.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=$i.toArray(e,r),n=$i.toArray(n,i),X2(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};To.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=$i.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,$i.encode(o,r)};var cy=Xn.assert;function pn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var tv=pn;pn.fromPublic=function(e,r,n){return r instanceof pn?r:new pn(e,{pub:r,pubEnc:n})};pn.fromPrivate=function(e,r,n){return r instanceof pn?r:new pn(e,{priv:r,privEnc:n})};pn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};pn.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};pn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};pn.prototype._importPrivate=function(e,r){this.priv=new ht(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};pn.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?cy(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&cy(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};pn.prototype.derive=function(e){return e.validate()||cy(e.validate(),"public point not validated"),e.mul(this.priv).getX()};pn.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};pn.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};pn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var lN=Xn.assert;function Dp(t,e){if(t instanceof Dp)return t;this._importDER(t,e)||(lN(t.r&&t.s,"Signature without r or s"),this.r=new ht(t.r,16),this.s=new ht(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Bp=Dp;function uN(){this.place=0}function Fg(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function ax(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Dp.prototype._importDER=function(e,r){e=Xn.toArray(e,r);var n=new uN;if(e[n.place++]!==48)return!1;var i=Fg(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Fg(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Fg(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new ht(o),this.s=new ht(c),this.recoveryParam=null,!0};function Ug(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Dp.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=ax(r),n=ax(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Ug(i,r.length),i=i.concat(r),i.push(2),Ug(i,n.length);var s=i.concat(n),o=[48];return Ug(o,s.length),o=o.concat(s),Xn.encode(o,e)};var fN=function(){throw new Error("unsupported")},WE=Xn.assert;function wi(t){if(!(this instanceof wi))return new wi(t);typeof t=="string"&&(WE(Object.prototype.hasOwnProperty.call(sd,t),"Unknown curve "+t),t=sd[t]),t instanceof sd.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var hN=wi;wi.prototype.keyPair=function(e){return new tv(this,e)};wi.prototype.keyFromPrivate=function(e,r){return tv.fromPrivate(this,e,r)};wi.prototype.keyFromPublic=function(e,r){return tv.fromPublic(this,e,r)};wi.prototype.genKeyPair=function(e){e||(e={});for(var r=new zE({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||fN(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new ht(2));;){var s=new ht(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};wi.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};wi.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new ht(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new zE({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new ht(1)),u=0;;u++){var h=i.k?i.k(u):new ht(c.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(l)>=0)){var b=this.g.mul(h);if(!b.isInfinity()){var v=b.getX(),E=v.umod(this.n);if(E.cmpn(0)!==0){var D=h.invm(this.n).mul(E.mul(r.getPrivate()).iadd(e));if(D=D.umod(this.n),D.cmpn(0)!==0){var x=(b.getY().isOdd()?1:0)|(v.cmp(E)!==0?2:0);return i.canonical&&D.cmp(this.nh)>0&&(D=this.n.sub(D),x^=1),new Bp({r:E,s:D,recoveryParam:x})}}}}}};wi.prototype.verify=function(e,r,n,i){e=this._truncateToN(new ht(e,16)),n=this.keyFromPublic(n,i),r=new Bp(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(s)):(u=this.g.mulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(s)===0)};wi.prototype.recoverPubKey=function(t,e,r,n){WE((3&r)===r,"The recovery param is more than two bits"),e=new Bp(e,n);var i=this.n,s=new ht(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),h=i.sub(s).mul(u).umod(i),b=a.mul(u).umod(i);return this.g.mulAdd(h,o,b)};wi.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Bp(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var dN=zl(function(t,e){var r=e;r.version="6.5.4",r.utils=Xn,r.rand=function(){throw new Error("unsupported")},r.curve=id,r.curves=sd,r.ec=hN,r.eddsa=null}),pN=dN.ec;const gN="signing-key/5.7.0",ly=new ue(gN);let jg=null;function ns(){return jg||(jg=new pN("secp256k1")),jg}class Pa{constructor(e){me(this,"curve","secp256k1"),me(this,"privateKey",Me(e)),ws(this.privateKey)!==32&&ly.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=ns().keyFromPrivate(Ee(this.privateKey));me(this,"publicKey","0x"+r.getPublic(!1,"hex")),me(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),me(this,"_isSigningKey",!0)}_addPoint(e){const r=ns().keyFromPublic(Ee(this.publicKey)),n=ns().keyFromPublic(Ee(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=ns().keyFromPrivate(Ee(this.privateKey)),n=Ee(e);n.length!==32&&ly.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Za({recoveryParam:i.recoveryParam,r:Yt("0x"+i.r.toString(16),32),s:Yt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=ns().keyFromPrivate(Ee(this.privateKey)),n=ns().keyFromPublic(Ee(rv(e)));return Yt("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function qE(t,e){const r=Za(e),n={r:Ee(r.r),s:Ee(r.s)};return"0x"+ns().recoverPubKey(Ee(t),n,r.recoveryParam).encode("hex",!1)}function rv(t,e){const r=Ee(t);if(r.length===32){const n=new Pa(r);return e?"0x"+ns().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?Me(r):"0x"+ns().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+ns().keyFromPublic(r).getPublic(!0,"hex"):Me(r)}return ly.throwArgumentError("invalid public or private key","key","[REDACTED]")}const mN=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:Pa,computePublicKey:rv,recoverPublicKey:qE},Symbol.toStringTag,{value:"Module"})),bN="transactions/5.7.0",dn=new ue(bN);var uy;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(uy||(uy={}));function nv(t){return t==="0x"?null:Gt(t)}function hn(t){return t==="0x"?nE:Se.from(t)}const yN=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],vN={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Io(t){const e=rv(t);return Gt(Er(Jt(Er(e,1)),12))}function ph(t,e){return Io(qE(Ee(t),e))}function Gn(t,e){const r=ds(Se.from(t).toHexString());return r.length>32&&dn.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Hg(t,e){return{address:Gt(t),storageKeys:(e||[]).map((r,n)=>(ws(r)!==32&&dn.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Qa(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&dn.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Hg(r[0],r[1])):Hg(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return Hg(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function VE(t){return Qa(t).map(e=>[e.address,e.storageKeys])}function GE(t,e){if(t.gasPrice!=null){const n=Se.from(t.gasPrice),i=Se.from(t.maxFeePerGas||0);n.eq(i)||dn.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Gn(t.chainId||0,"chainId"),Gn(t.nonce||0,"nonce"),Gn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Gn(t.maxFeePerGas||0,"maxFeePerGas"),Gn(t.gasLimit||0,"gasLimit"),t.to!=null?Gt(t.to):"0x",Gn(t.value||0,"value"),t.data||"0x",VE(t.accessList||[])];if(e){const n=Za(e);r.push(Gn(n.recoveryParam,"recoveryParam")),r.push(ds(n.r)),r.push(ds(n.s))}return xn(["0x02",Ua(r)])}function KE(t,e){const r=[Gn(t.chainId||0,"chainId"),Gn(t.nonce||0,"nonce"),Gn(t.gasPrice||0,"gasPrice"),Gn(t.gasLimit||0,"gasLimit"),t.to!=null?Gt(t.to):"0x",Gn(t.value||0,"value"),t.data||"0x",VE(t.accessList||[])];if(e){const n=Za(e);r.push(Gn(n.recoveryParam,"recoveryParam")),r.push(ds(n.r)),r.push(ds(n.s))}return xn(["0x01",Ua(r)])}function wN(t,e){H2(t,vN);const r=[];yN.forEach(function(o){let a=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=Ee(Me(a,c)),o.length&&a.length!==o.length&&a.length>0&&dn.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=ds(a),a.length>o.maxLength&&dn.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(Me(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&dn.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!fh(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(Me(n)),r.push("0x"),r.push("0x")),!e)return Ua(r);const i=Za(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&dn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&dn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(Me(s)),r.push(ds(Ee(i.r))),r.push(ds(Ee(i.s))),Ua(r)}function fy(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&dn.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),wN(t,e);switch(t.type){case 1:return KE(t,e);case 2:return GE(t,e)}return dn.throwError(`unsupported transaction type: ${t.type}`,ue.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function JE(t,e,r){try{const n=hn(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{dn.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Yt(e[1],32),t.s=Yt(e[2],32);try{const n=Jt(r(t));t.from=ph(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function xN(t){const e=Op(t.slice(1));e.length!==9&&e.length!==12&&dn.throwArgumentError("invalid component count for transaction type: 2","payload",Me(t));const r=hn(e[2]),n=hn(e[3]),i={type:2,chainId:hn(e[0]).toNumber(),nonce:hn(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:hn(e[4]),to:nv(e[5]),value:hn(e[6]),data:e[7],accessList:Qa(e[8])};return e.length===9||(i.hash=Jt(t),JE(i,e.slice(9),GE)),i}function _N(t){const e=Op(t.slice(1));e.length!==8&&e.length!==11&&dn.throwArgumentError("invalid component count for transaction type: 1","payload",Me(t));const r={type:1,chainId:hn(e[0]).toNumber(),nonce:hn(e[1]).toNumber(),gasPrice:hn(e[2]),gasLimit:hn(e[3]),to:nv(e[4]),value:hn(e[5]),data:e[6],accessList:Qa(e[7])};return e.length===8||(r.hash=Jt(t),JE(r,e.slice(8),KE)),r}function EN(t){const e=Op(t);e.length!==9&&e.length!==6&&dn.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:hn(e[0]).toNumber(),gasPrice:hn(e[1]),gasLimit:hn(e[2]),to:nv(e[3]),value:hn(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Se.from(e[6]).toNumber()}catch{return r}if(r.r=Yt(e[7],32),r.s=Yt(e[8],32),Se.from(r.r).isZero()&&Se.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(Me(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=Jt(Ua(i));try{r.from=ph(s,{r:Me(r.r),s:Me(r.s),recoveryParam:n})}catch{}r.hash=Jt(t)}return r.type=null,r}function ZE(t){const e=Ee(t);if(e[0]>127)return EN(e);switch(e[0]){case 1:return _N(e);case 2:return xN(e)}return dn.throwError(`unsupported transaction type: ${e[0]}`,ue.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const SN=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return uy},accessListify:Qa,computeAddress:Io,parse:ZE,recoverAddress:ph,serialize:fy},Symbol.toStringTag,{value:"Module"})),AN="contracts/5.7.0";var Ha=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const xr=new ue(AN);function Bd(t,e){return Ha(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&xr.throwArgumentError("invalid address or ENS name","name",r);try{return Gt(r)}catch{}t||xr.throwError("a provider or signer is needed to resolve ENS names",ue.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&xr.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function od(t,e,r){return Ha(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>od(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield Bd(t,e):r.type==="tuple"?yield od(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>od(t,n,r.arrayChildren))):Promise.reject(xr.makeError("invalid value for array",ue.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Lp(t,e,r){return Ha(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=ir(r.pop())),xr.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=mr({override:Bd(t.signer,n.from),signer:t.signer.getAddress()}).then(l=>Ha(this,void 0,void 0,function*(){return Gt(l.signer)!==l.override&&xr.throwError("Contract with a Signer cannot override from",ue.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):n.from=t.signer.getAddress():n.from&&(n.from=Bd(t.provider,n.from));const i=yield mr({args:od(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:mr(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=Se.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=Se.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=Se.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=Se.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=Se.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=Qa(a.accessList)),o.gasLimit==null&&e.gas!=null){let l=21e3;const u=Ee(s);for(let h=0;h<u.length;h++)l+=4,u[h]&&(l+=64);o.gasLimit=Se.from(e.gas).add(l)}if(a.value){const l=Se.from(a.value);!l.isZero()&&!e.payable&&xr.throwError("non-payable method cannot override value",ue.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=l}a.customData&&(o.customData=ir(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(l=>n[l]!=null);return c.length&&xr.throwError(`cannot override ${c.map(l=>JSON.stringify(l)).join(",")}`,ue.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function CN(t,e){return function(...r){return Lp(t,e,r)}}function IN(t,e){const r=t.signer||t.provider;return function(...n){return Ha(this,void 0,void 0,function*(){r||xr.throwError("estimate require a provider or signer",ue.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Lp(t,e,n);return yield r.estimateGas(i)})}}function MN(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=Zn(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,l)=>t.interface.decodeEventLog(a.eventFragment,c,l),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function YE(t,e,r){const n=t.signer||t.provider;return function(...i){return Ha(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=ir(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield Lp(t,e,i),a=yield n.call(o,s);try{let c=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===ue.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=o),c}})}}function TN(t,e){return function(...r){return Ha(this,void 0,void 0,function*(){t.signer||xr.throwError("sending a transaction requires a signer",ue.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Lp(t,e,r),i=yield t.signer.sendTransaction(n);return MN(t,i),i})}}function cx(t,e,r){return e.constant?YE(t,e,r):TN(t,e)}function QE(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Lf{constructor(e,r){me(this,"tag",e),me(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class kN extends Lf{constructor(){super("error",null)}}class lx extends Lf{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&xr.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(QE(s),s),me(this,"address",e),me(this,"interface",r),me(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=Z8(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class ux extends Lf{constructor(e,r){super("*",{address:e}),me(this,"address",e),me(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class ON{constructor(e,r,n){me(this,"interface",Li(new.target,"getInterface")(r)),n==null?(me(this,"provider",null),me(this,"signer",null)):Fl.isSigner(n)?(me(this,"provider",n.provider||null),me(this,"signer",n)):$l.isProvider(n)?(me(this,"provider",n),me(this,"signer",null)):xr.throwArgumentError("invalid signer or provider","signerOrProvider",n),me(this,"callStatic",{}),me(this,"estimateGas",{}),me(this,"functions",{}),me(this,"populateTransaction",{}),me(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];me(this.filters,a,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,l)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?me(this.filters,a,this.filters[c[0]]):xr.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(me(this,"_runningEvents",{}),me(this,"_wrappedEmits",{}),e==null&&xr.throwArgumentError("invalid contract address or ENS name","addressOrName",e),me(this,"address",e),this.provider)me(this,"resolvedAddress",Bd(this.provider,e));else try{me(this,"resolvedAddress",Promise.resolve(Gt(e)))}catch{xr.throwError("provider is required to use ENS name as contract address",ue.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){xr.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&me(this,o,cx(this,a,!0)),this.functions[o]==null&&me(this.functions,o,cx(this,a,!1)),this.callStatic[o]==null&&me(this.callStatic,o,YE(this,a,!0)),this.populateTransaction[o]==null&&me(this.populateTransaction,o,CN(this,a)),this.estimateGas[o]==null&&me(this.estimateGas,o,IN(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&me(this,o,this[c])}catch{}this.functions[o]==null&&me(this.functions,o,this.functions[c]),this.callStatic[o]==null&&me(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&me(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&me(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return q2(e)}static getInterface(e){return sy.isInterface(e)?e:new sy(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&xr.throwError("contract not deployed",ue.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||xr.throwError("sending a transactions require a signer",ue.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=ir(e||{});return["from","to"].forEach(function(n){r[n]!=null&&xr.throwError("cannot override "+n,ue.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new Q2(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&me(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Pd.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new kN);if(e==="event")return this._normalizeRunningEvent(new Lf("event",null));if(e==="*")return this._normalizeRunningEvent(new ux(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new lx(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new lx(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Lf(QE(r),r))}return this._normalizeRunningEvent(new ux(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Zn(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||xr.throwError("events require a provider or a signer with a provider",ue.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=ir(i.filter);return typeof r=="string"&&bt(r,32)?(n!=null&&xr.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class iv extends ON{}class sv{constructor(e){me(this,"alphabet",e),me(this,"base",e.length),me(this,"_alphabetMap",{}),me(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Ee(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Ee(new Uint8Array(r.reverse()))}}const RN=new sv("abcdefghijklmnopqrstuvwxyz234567"),il=new sv("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),PN=Object.freeze(Object.defineProperty({__proto__:null,Base32:RN,Base58:il,BaseX:sv},Symbol.toStringTag,{value:"Module"}));var sl;(function(t){t.sha256="sha256",t.sha512="sha512"})(sl||(sl={}));const NN="sha2/5.7.0",DN=new ue(NN);function XE(t){return"0x"+vn.ripemd160().update(Ee(t)).digest("hex")}function Qs(t){return"0x"+vn.sha256().update(Ee(t)).digest("hex")}function BN(t){return"0x"+vn.sha512().update(Ee(t)).digest("hex")}function $f(t,e,r){return sl[t]||DN.throwError("unsupported algorithm "+t,ue.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+vn.hmac(vn[t],Ee(e)).update(Ee(r)).digest("hex")}const LN=Object.freeze(Object.defineProperty({__proto__:null,get SupportedAlgorithm(){return sl},computeHmac:$f,ripemd160:XE,sha256:Qs,sha512:BN},Symbol.toStringTag,{value:"Module"}));function ov(t,e,r,n,i){t=Ee(t),e=Ee(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let h=1;h<=o;h++){c[e.length]=h>>24&255,c[e.length+1]=h>>16&255,c[e.length+2]=h>>8&255,c[e.length+3]=h&255;let b=Ee($f(i,t,c));s||(s=b.length,u=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),u.set(b);for(let D=1;D<r;D++){b=Ee($f(i,t,b));for(let x=0;x<s;x++)u[x]^=b[x]}const v=(h-1)*s,E=h===o?l:s;a.set(Ee(u).slice(0,E),v)}return Me(a)}const $N="wordlists/5.7.0",FN=new ue($N);class gh{constructor(e){FN.checkAbstract(new.target,gh),me(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return xo(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const UN="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let pf=null;function fx(t){if(pf==null&&(pf=UN.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),gh.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw pf=null,new Error("BIP39 Wordlist for en (English) FAILED")}class jN extends gh{constructor(){super("en")}getWord(e){return fx(this),pf[e]}getWordIndex(e){return fx(this),pf.indexOf(e)}}const e7=new jN;gh.register(e7);const hx={en:e7},HN="hdnode/5.7.0",Ff=new ue(HN),zN=Se.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),WN=Sr("Bitcoin seed"),Sc=2147483648;function t7(t){return(1<<t)-1<<8-t}function qN(t){return(1<<t)-1}function h0(t){return Yt(Me(t),32)}function dx(t){return il.encode(er([t,Er(Qs(Qs(t)),0,4)]))}function av(t){if(t==null)return hx.en;if(typeof t=="string"){const e=hx[t];return e==null&&Ff.throwArgumentError("unknown locale","wordlist",t),e}return t}const cc={},ol="m/44'/60'/0'/0/0";class Kn{constructor(e,r,n,i,s,o,a,c){if(e!==cc)throw new Error("HDNode constructor cannot be called directly");if(r){const l=new Pa(r);me(this,"privateKey",l.privateKey),me(this,"publicKey",l.compressedPublicKey)}else me(this,"privateKey",null),me(this,"publicKey",Me(n));me(this,"parentFingerprint",i),me(this,"fingerprint",Er(XE(Qs(this.publicKey)),0,4)),me(this,"address",Io(this.publicKey)),me(this,"chainCode",s),me(this,"index",o),me(this,"depth",a),c==null?(me(this,"mnemonic",null),me(this,"path",null)):typeof c=="string"?(me(this,"mnemonic",null),me(this,"path",c)):(me(this,"mnemonic",c),me(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return dx(er([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",Me(this.depth),this.parentFingerprint,Yt(Me(this.index),4),this.chainCode,this.privateKey!=null?er(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Kn(cc,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~Sc));const n=new Uint8Array(37);if(e&Sc){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(Ee(this.privateKey),1),r&&(r+="'")}else n.set(Ee(this.publicKey));for(let h=24;h>=0;h-=8)n[33+(h>>3)]=e>>24-h&255;const i=Ee($f(sl.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=h0(Se.from(s).add(this.privateKey).mod(zN)):c=new Pa(Me(s))._addPoint(this.publicKey);let l=r;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:r,locale:u.locale||"en"})),new Kn(cc,a,c,this.fingerprint,h0(o),e,this.depth+1,l)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=Sc)throw new Error("invalid path index - "+s);n=n._derive(Sc+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=Sc)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=Ee(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=Ee($f(sl.sha512,WN,n));return new Kn(cc,h0(i.slice(0,32)),null,"0x00000000",h0(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=av(n),e=Fp($p(e,n),n),Kn._fromSeed(r7(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Kn._fromSeed(e,null)}static fromExtendedKey(e){const r=il.decode(e);(r.length!==82||dx(r.slice(0,78))!==e)&&Ff.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=Me(r.slice(5,9)),s=parseInt(Me(r.slice(9,13)).substring(2),16),o=Me(r.slice(13,45)),a=r.slice(45,78);switch(Me(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Kn(cc,null,Me(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new Kn(cc,Me(a.slice(1)),null,i,o,s,n,null)}return Ff.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function r7(t,e){e||(e="");const r=Sr("mnemonic"+e,xs.NFKD);return ov(Sr(t,xs.NFKD),r,2048,64,"sha512")}function $p(t,e){e=av(e),Ff.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=Ee(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let h=0;h<11;h++)u&1<<10-h&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=t7(o);if((Ee(Qs(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return Me(n.slice(0,s/8))}function Fp(t,e){if(e=av(e),t=Ee(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&qN(8-n)),n+=3);const i=t.length/4,s=Ee(Qs(t))[0]&t7(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}function VN(t,e){try{return $p(t,e),!0}catch{}return!1}function GN(t){return(typeof t!="number"||t<0||t>=Sc||t%1)&&Ff.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}const KN=Object.freeze(Object.defineProperty({__proto__:null,HDNode:Kn,defaultPath:ol,entropyToMnemonic:Fp,getAccountPath:GN,isValidMnemonic:VN,mnemonicToEntropy:$p,mnemonicToSeed:r7},Symbol.toStringTag,{value:"Module"})),JN="random/5.7.0",hy=new ue(JN);function ZN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const px=ZN();let ad=px.crypto||px.msCrypto;(!ad||!ad.getRandomValues)&&(hy.warn("WARNING: Missing strong random number source"),ad={getRandomValues:function(t){return hy.throwError("no secure random source avaialble",ue.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Pc(t){(t<=0||t>1024||t%1||t!=t)&&hy.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return ad.getRandomValues(e),Ee(e)}function n7(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const YN=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:Pc,shuffled:n7},Symbol.toStringTag,{value:"Module"}));var dy={},QN={get exports(){return dy},set exports(t){dy=t}};(function(t,e){(function(r){function n(O){return parseInt(O)===O}function i(O){if(!n(O.length))return!1;for(var g=0;g<O.length;g++)if(!n(O[g])||O[g]<0||O[g]>255)return!1;return!0}function s(O,g){if(O.buffer&&ArrayBuffer.isView(O)&&O.name==="Uint8Array")return g&&(O.slice?O=O.slice():O=Array.prototype.slice.call(O)),O;if(Array.isArray(O)){if(!i(O))throw new Error("Array contains invalid value: "+O);return new Uint8Array(O)}if(n(O.length)&&i(O))return new Uint8Array(O);throw new Error("unsupported array-like object")}function o(O){return new Uint8Array(O)}function a(O,g,L,Q,P){(Q!=null||P!=null)&&(O.slice?O=O.slice(Q,P):O=Array.prototype.slice.call(O,Q,P)),g.set(O,L)}var c=function(){function O(L){var Q=[],P=0;for(L=encodeURI(L);P<L.length;){var G=L.charCodeAt(P++);G===37?(Q.push(parseInt(L.substr(P,2),16)),P+=2):Q.push(G)}return s(Q)}function g(L){for(var Q=[],P=0;P<L.length;){var G=L[P];G<128?(Q.push(String.fromCharCode(G)),P++):G>191&&G<224?(Q.push(String.fromCharCode((G&31)<<6|L[P+1]&63)),P+=2):(Q.push(String.fromCharCode((G&15)<<12|(L[P+1]&63)<<6|L[P+2]&63)),P+=3)}return Q.join("")}return{toBytes:O,fromBytes:g}}(),l=function(){function O(Q){for(var P=[],G=0;G<Q.length;G+=2)P.push(parseInt(Q.substr(G,2),16));return P}var g="0123456789abcdef";function L(Q){for(var P=[],G=0;G<Q.length;G++){var V=Q[G];P.push(g[(V&240)>>4]+g[V&15])}return P.join("")}return{toBytes:O,fromBytes:L}}(),u={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],b=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],v=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],E=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],D=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],x=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],_=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],m=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],w=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],A=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],k=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],z=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],H=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],re=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function W(O){for(var g=[],L=0;L<O.length;L+=4)g.push(O[L]<<24|O[L+1]<<16|O[L+2]<<8|O[L+3]);return g}var y=function(O){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(O,!0)}),this._prepare()};y.prototype._prepare=function(){var O=u[this.key.length];if(O==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var g=0;g<=O;g++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var L=(O+1)*4,Q=this.key.length/4,P=W(this.key),G,g=0;g<Q;g++)G=g>>2,this._Ke[G][g%4]=P[g],this._Kd[O-G][g%4]=P[g];for(var V=0,K=Q,Y;K<L;){if(Y=P[Q-1],P[0]^=b[Y>>16&255]<<24^b[Y>>8&255]<<16^b[Y&255]<<8^b[Y>>24&255]^h[V]<<24,V+=1,Q!=8)for(var g=1;g<Q;g++)P[g]^=P[g-1];else{for(var g=1;g<Q/2;g++)P[g]^=P[g-1];Y=P[Q/2-1],P[Q/2]^=b[Y&255]^b[Y>>8&255]<<8^b[Y>>16&255]<<16^b[Y>>24&255]<<24;for(var g=Q/2+1;g<Q;g++)P[g]^=P[g-1]}for(var g=0,N,U;g<Q&&K<L;)N=K>>2,U=K%4,this._Ke[N][U]=P[g],this._Kd[O-N][U]=P[g++],K++}for(var N=1;N<O;N++)for(var U=0;U<4;U++)Y=this._Kd[N][U],this._Kd[N][U]=z[Y>>24&255]^S[Y>>16&255]^H[Y>>8&255]^re[Y&255]},y.prototype.encrypt=function(O){if(O.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var g=this._Ke.length-1,L=[0,0,0,0],Q=W(O),P=0;P<4;P++)Q[P]^=this._Ke[0][P];for(var G=1;G<g;G++){for(var P=0;P<4;P++)L[P]=E[Q[P]>>24&255]^D[Q[(P+1)%4]>>16&255]^x[Q[(P+2)%4]>>8&255]^_[Q[(P+3)%4]&255]^this._Ke[G][P];Q=L.slice()}for(var V=o(16),K,P=0;P<4;P++)K=this._Ke[g][P],V[4*P]=(b[Q[P]>>24&255]^K>>24)&255,V[4*P+1]=(b[Q[(P+1)%4]>>16&255]^K>>16)&255,V[4*P+2]=(b[Q[(P+2)%4]>>8&255]^K>>8)&255,V[4*P+3]=(b[Q[(P+3)%4]&255]^K)&255;return V},y.prototype.decrypt=function(O){if(O.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var g=this._Kd.length-1,L=[0,0,0,0],Q=W(O),P=0;P<4;P++)Q[P]^=this._Kd[0][P];for(var G=1;G<g;G++){for(var P=0;P<4;P++)L[P]=m[Q[P]>>24&255]^w[Q[(P+3)%4]>>16&255]^A[Q[(P+2)%4]>>8&255]^k[Q[(P+1)%4]&255]^this._Kd[G][P];Q=L.slice()}for(var V=o(16),K,P=0;P<4;P++)K=this._Kd[g][P],V[4*P]=(v[Q[P]>>24&255]^K>>24)&255,V[4*P+1]=(v[Q[(P+3)%4]>>16&255]^K>>16)&255,V[4*P+2]=(v[Q[(P+2)%4]>>8&255]^K>>8)&255,V[4*P+3]=(v[Q[(P+1)%4]&255]^K)&255;return V};var R=function(O){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new y(O)};R.prototype.encrypt=function(O){if(O=s(O),O.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var g=o(O.length),L=o(16),Q=0;Q<O.length;Q+=16)a(O,L,0,Q,Q+16),L=this._aes.encrypt(L),a(L,g,Q);return g},R.prototype.decrypt=function(O){if(O=s(O),O.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var g=o(O.length),L=o(16),Q=0;Q<O.length;Q+=16)a(O,L,0,Q,Q+16),L=this._aes.decrypt(L),a(L,g,Q);return g};var I=function(O,g){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!g)g=o(16);else if(g.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(g,!0),this._aes=new y(O)};I.prototype.encrypt=function(O){if(O=s(O),O.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var g=o(O.length),L=o(16),Q=0;Q<O.length;Q+=16){a(O,L,0,Q,Q+16);for(var P=0;P<16;P++)L[P]^=this._lastCipherblock[P];this._lastCipherblock=this._aes.encrypt(L),a(this._lastCipherblock,g,Q)}return g},I.prototype.decrypt=function(O){if(O=s(O),O.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var g=o(O.length),L=o(16),Q=0;Q<O.length;Q+=16){a(O,L,0,Q,Q+16),L=this._aes.decrypt(L);for(var P=0;P<16;P++)g[Q+P]=L[P]^this._lastCipherblock[P];a(O,this._lastCipherblock,0,Q,Q+16)}return g};var f=function(O,g,L){if(!(this instanceof f))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!g)g=o(16);else if(g.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");L||(L=1),this.segmentSize=L,this._shiftRegister=s(g,!0),this._aes=new y(O)};f.prototype.encrypt=function(O){if(O.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var g=s(O,!0),L,Q=0;Q<g.length;Q+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var P=0;P<this.segmentSize;P++)g[Q+P]^=L[P];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(g,this._shiftRegister,16-this.segmentSize,Q,Q+this.segmentSize)}return g},f.prototype.decrypt=function(O){if(O.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var g=s(O,!0),L,Q=0;Q<g.length;Q+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var P=0;P<this.segmentSize;P++)g[Q+P]^=L[P];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(O,this._shiftRegister,16-this.segmentSize,Q,Q+this.segmentSize)}return g};var p=function(O,g){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!g)g=o(16);else if(g.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(g,!0),this._lastPrecipherIndex=16,this._aes=new y(O)};p.prototype.encrypt=function(O){for(var g=s(O,!0),L=0;L<g.length;L++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),g[L]^=this._lastPrecipher[this._lastPrecipherIndex++];return g},p.prototype.decrypt=p.prototype.encrypt;var T=function(O){if(!(this instanceof T))throw Error("Counter must be instanitated with `new`");O!==0&&!O&&(O=1),typeof O=="number"?(this._counter=o(16),this.setValue(O)):this.setBytes(O)};T.prototype.setValue=function(O){if(typeof O!="number"||parseInt(O)!=O)throw new Error("invalid counter value (must be an integer)");for(var g=15;g>=0;--g)this._counter[g]=O%256,O=O>>8},T.prototype.setBytes=function(O){if(O=s(O,!0),O.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=O},T.prototype.increment=function(){for(var O=15;O>=0;O--)if(this._counter[O]===255)this._counter[O]=0;else{this._counter[O]++;break}};var M=function(O,g){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",g instanceof T||(g=new T(g)),this._counter=g,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new y(O)};M.prototype.encrypt=function(O){for(var g=s(O,!0),L=0;L<g.length;L++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),g[L]^=this._remainingCounter[this._remainingCounterIndex++];return g},M.prototype.decrypt=M.prototype.encrypt;function C(O){O=s(O,!0);var g=16-O.length%16,L=o(O.length+g);a(O,L);for(var Q=O.length;Q<L.length;Q++)L[Q]=g;return L}function d(O){if(O=s(O,!0),O.length<16)throw new Error("PKCS#7 invalid length");var g=O[O.length-1];if(g>16)throw new Error("PKCS#7 padding byte out of range");for(var L=O.length-g,Q=0;Q<g;Q++)if(O[L+Q]!==g)throw new Error("PKCS#7 invalid padding byte");var P=o(L);return a(O,P,0,0,L),P}var B={AES:y,Counter:T,ModeOfOperation:{ecb:R,cbc:I,cfb:f,ofb:p,ctr:M},utils:{hex:l,utf8:c},padding:{pkcs7:{pad:C,strip:d}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};t.exports=B})()})(QN);const us=dy,i7="json-wallets/5.7.0";function Na(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Ee(t)}function bu(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function cv(t){return typeof t=="string"?Sr(t,xs.NFKC):Ee(t)}function _r(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function XN(t){const e=Ee(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=Me(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const eD=new ue(i7);class tD extends jo{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function lv(t,e){const r=JSON.parse(t);e=cv(e);const n=Gt(_r(r,"ethaddr")),i=Na(_r(r,"encseed"));(!i||i.length%16!==0)&&eD.throwArgumentError("invalid encseed","json",t);const s=Ee(ov(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new us.ModeOfOperation.cbc(s,o),l=us.padding.pkcs7.strip(Ee(c.decrypt(a)));let u="";for(let v=0;v<l.length;v++)u+=String.fromCharCode(l[v]);const h=Sr(u),b=Jt(h);return new tD({_isCrowdsaleAccount:!0,address:n,privateKey:b})}function Up(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function jp(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function rD(t){if(Up(t))try{return Gt(JSON.parse(t).ethaddr)}catch{return null}if(jp(t))try{return Gt(JSON.parse(t).address)}catch{return null}return null}var py={},nD={get exports(){return py},set exports(t){py=t}};(function(t,e){(function(r){function i(D){const x=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let _=1779033703,m=3144134277,w=1013904242,A=2773480762,k=1359893119,z=2600822924,S=528734635,H=1541459225;const re=new Uint32Array(64);function W(M){let C=0,d=M.length;for(;d>=64;){let B=_,O=m,g=w,L=A,Q=k,P=z,G=S,V=H,K,Y,N,U,Z;for(Y=0;Y<16;Y++)N=C+Y*4,re[Y]=(M[N]&255)<<24|(M[N+1]&255)<<16|(M[N+2]&255)<<8|M[N+3]&255;for(Y=16;Y<64;Y++)K=re[Y-2],U=(K>>>17|K<<32-17)^(K>>>19|K<<32-19)^K>>>10,K=re[Y-15],Z=(K>>>7|K<<32-7)^(K>>>18|K<<32-18)^K>>>3,re[Y]=(U+re[Y-7]|0)+(Z+re[Y-16]|0)|0;for(Y=0;Y<64;Y++)U=(((Q>>>6|Q<<32-6)^(Q>>>11|Q<<32-11)^(Q>>>25|Q<<32-25))+(Q&P^~Q&G)|0)+(V+(x[Y]+re[Y]|0)|0)|0,Z=((B>>>2|B<<32-2)^(B>>>13|B<<32-13)^(B>>>22|B<<32-22))+(B&O^B&g^O&g)|0,V=G,G=P,P=Q,Q=L+U|0,L=g,g=O,O=B,B=U+Z|0;_=_+B|0,m=m+O|0,w=w+g|0,A=A+L|0,k=k+Q|0,z=z+P|0,S=S+G|0,H=H+V|0,C+=64,d-=64}}W(D);let y,R=D.length%64,I=D.length/536870912|0,f=D.length<<3,p=R<56?56:120,T=D.slice(D.length-R,D.length);for(T.push(128),y=R+1;y<p;y++)T.push(0);return T.push(I>>>24&255),T.push(I>>>16&255),T.push(I>>>8&255),T.push(I>>>0&255),T.push(f>>>24&255),T.push(f>>>16&255),T.push(f>>>8&255),T.push(f>>>0&255),W(T),[_>>>24&255,_>>>16&255,_>>>8&255,_>>>0&255,m>>>24&255,m>>>16&255,m>>>8&255,m>>>0&255,w>>>24&255,w>>>16&255,w>>>8&255,w>>>0&255,A>>>24&255,A>>>16&255,A>>>8&255,A>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,z>>>24&255,z>>>16&255,z>>>8&255,z>>>0&255,S>>>24&255,S>>>16&255,S>>>8&255,S>>>0&255,H>>>24&255,H>>>16&255,H>>>8&255,H>>>0&255]}function s(D,x,_){D=D.length<=64?D:i(D);const m=64+x.length+4,w=new Array(m),A=new Array(64);let k,z=[];for(k=0;k<64;k++)w[k]=54;for(k=0;k<D.length;k++)w[k]^=D[k];for(k=0;k<x.length;k++)w[64+k]=x[k];for(k=m-4;k<m;k++)w[k]=0;for(k=0;k<64;k++)A[k]=92;for(k=0;k<D.length;k++)A[k]^=D[k];function S(){for(let H=m-1;H>=m-4;H--){if(w[H]++,w[H]<=255)return;w[H]=0}}for(;_>=32;)S(),z=z.concat(i(A.concat(i(w)))),_-=32;return _>0&&(S(),z=z.concat(i(A.concat(i(w))).slice(0,_))),z}function o(D,x,_,m,w){let A;for(u(D,(2*_-1)*16,w,0,16),A=0;A<2*_;A++)l(D,A*16,w,16),c(w,m),u(w,0,D,x+A*16,16);for(A=0;A<_;A++)u(D,x+A*2*16,D,A*16,16);for(A=0;A<_;A++)u(D,x+(A*2+1)*16,D,(A+_)*16,16)}function a(D,x){return D<<x|D>>>32-x}function c(D,x){u(D,0,x,0,16);for(let _=8;_>0;_-=2)x[4]^=a(x[0]+x[12],7),x[8]^=a(x[4]+x[0],9),x[12]^=a(x[8]+x[4],13),x[0]^=a(x[12]+x[8],18),x[9]^=a(x[5]+x[1],7),x[13]^=a(x[9]+x[5],9),x[1]^=a(x[13]+x[9],13),x[5]^=a(x[1]+x[13],18),x[14]^=a(x[10]+x[6],7),x[2]^=a(x[14]+x[10],9),x[6]^=a(x[2]+x[14],13),x[10]^=a(x[6]+x[2],18),x[3]^=a(x[15]+x[11],7),x[7]^=a(x[3]+x[15],9),x[11]^=a(x[7]+x[3],13),x[15]^=a(x[11]+x[7],18),x[1]^=a(x[0]+x[3],7),x[2]^=a(x[1]+x[0],9),x[3]^=a(x[2]+x[1],13),x[0]^=a(x[3]+x[2],18),x[6]^=a(x[5]+x[4],7),x[7]^=a(x[6]+x[5],9),x[4]^=a(x[7]+x[6],13),x[5]^=a(x[4]+x[7],18),x[11]^=a(x[10]+x[9],7),x[8]^=a(x[11]+x[10],9),x[9]^=a(x[8]+x[11],13),x[10]^=a(x[9]+x[8],18),x[12]^=a(x[15]+x[14],7),x[13]^=a(x[12]+x[15],9),x[14]^=a(x[13]+x[12],13),x[15]^=a(x[14]+x[13],18);for(let _=0;_<16;++_)D[_]+=x[_]}function l(D,x,_,m){for(let w=0;w<m;w++)_[w]^=D[x+w]}function u(D,x,_,m,w){for(;w--;)_[m++]=D[x++]}function h(D){if(!D||typeof D.length!="number")return!1;for(let x=0;x<D.length;x++){const _=D[x];if(typeof _!="number"||_%1||_<0||_>=256)return!1}return!0}function b(D,x){if(typeof D!="number"||D%1)throw new Error("invalid "+x);return D}function v(D,x,_,m,w,A,k){if(_=b(_,"N"),m=b(m,"r"),w=b(w,"p"),A=b(A,"dkLen"),_===0||_&_-1)throw new Error("N must be power of 2");if(_>2147483647/128/m)throw new Error("N too large");if(m>2147483647/128/w)throw new Error("r too large");if(!h(D))throw new Error("password must be an array or buffer");if(D=Array.prototype.slice.call(D),!h(x))throw new Error("salt must be an array or buffer");x=Array.prototype.slice.call(x);let z=s(D,x,w*128*m);const S=new Uint32Array(w*32*m);for(let Q=0;Q<S.length;Q++){const P=Q*4;S[Q]=(z[P+3]&255)<<24|(z[P+2]&255)<<16|(z[P+1]&255)<<8|(z[P+0]&255)<<0}const H=new Uint32Array(64*m),re=new Uint32Array(32*m*_),W=32*m,y=new Uint32Array(16),R=new Uint32Array(16),I=w*_*2;let f=0,p=null,T=!1,M=0,C=0,d,B;const O=k?parseInt(1e3/m):4294967295,g=typeof setImmediate<"u"?setImmediate:setTimeout,L=function(){if(T)return k(new Error("cancelled"),f/I);let Q;switch(M){case 0:B=C*32*m,u(S,B,H,0,W),M=1,d=0;case 1:Q=_-d,Q>O&&(Q=O);for(let G=0;G<Q;G++)u(H,0,re,(d+G)*W,W),o(H,W,m,y,R);if(d+=Q,f+=Q,k){const G=parseInt(1e3*f/I);if(G!==p){if(T=k(null,f/I),T)break;p=G}}if(d<_)break;d=0,M=2;case 2:Q=_-d,Q>O&&(Q=O);for(let G=0;G<Q;G++){const V=(2*m-1)*16,K=H[V]&_-1;l(re,K*W,H,W),o(H,W,m,y,R)}if(d+=Q,f+=Q,k){const G=parseInt(1e3*f/I);if(G!==p){if(T=k(null,f/I),T)break;p=G}}if(d<_)break;if(u(H,0,S,B,W),C++,C<w){M=0;break}z=[];for(let G=0;G<S.length;G++)z.push(S[G]>>0&255),z.push(S[G]>>8&255),z.push(S[G]>>16&255),z.push(S[G]>>24&255);const P=s(D,z,A);return k&&k(null,1,P),P}k&&g(L)};if(!k)for(;;){const Q=L();if(Q!=null)return Q}L()}const E={scrypt:function(D,x,_,m,w,A,k){return new Promise(function(z,S){let H=0;k&&k(0),v(D,x,_,m,w,A,function(re,W,y){if(re)S(re);else if(y)k&&H!==1&&k(1),z(new Uint8Array(y));else if(k&&W!==H)return H=W,k(W)})})},syncScrypt:function(D,x,_,m,w,A){return new Uint8Array(v(D,x,_,m,w,A))}};t.exports=E})()})(nD);const uv=py;var iD=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const gy=new ue(i7);function gx(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class sD extends jo{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function oD(t,e,r){if(_r(t,"crypto/cipher")==="aes-128-ctr"){const i=Na(_r(t,"crypto/cipherparams/iv")),s=new us.Counter(i),o=new us.ModeOfOperation.ctr(e,s);return Ee(o.decrypt(r))}return null}function s7(t,e){const r=Na(_r(t,"crypto/ciphertext"));if(Me(Jt(er([e.slice(16,32),r]))).substring(2)!==_r(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=oD(t,e.slice(0,16),r);i||gy.throwError("unsupported cipher",ue.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Io(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Gt(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:Me(i)};if(_r(t,"x-ethers/version")==="0.1"){const c=Na(_r(t,"x-ethers/mnemonicCiphertext")),l=Na(_r(t,"x-ethers/mnemonicCounter")),u=new us.Counter(l),h=new us.ModeOfOperation.ctr(s,u),b=_r(t,"x-ethers/path")||ol,v=_r(t,"x-ethers/locale")||"en",E=Ee(h.decrypt(c));try{const D=Fp(E,v),x=Kn.fromMnemonic(D,null,v).derivePath(b);if(x.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=x.mnemonic}catch(D){if(D.code!==ue.errors.INVALID_ARGUMENT||D.argument!=="wordlist")throw D}}return new sD(a)}function o7(t,e,r,n,i){return Ee(ov(t,e,r,n,i))}function aD(t,e,r,n,i){return Promise.resolve(o7(t,e,r,n,i))}function a7(t,e,r,n,i){const s=cv(e),o=_r(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return gy.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=Na(_r(t,"crypto/kdfparams/salt")),l=parseInt(_r(t,"crypto/kdfparams/n")),u=parseInt(_r(t,"crypto/kdfparams/r")),h=parseInt(_r(t,"crypto/kdfparams/p"));(!l||!u||!h)&&a("kdf",o),l&l-1&&a("N",l);const b=parseInt(_r(t,"crypto/kdfparams/dklen"));return b!==32&&a("dklen",b),n(s,c,l,u,h,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=Na(_r(t,"crypto/kdfparams/salt"));let l=null;const u=_r(t,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const h=parseInt(_r(t,"crypto/kdfparams/c")),b=parseInt(_r(t,"crypto/kdfparams/dklen"));return b!==32&&a("dklen",b),r(s,c,h,b,l)}}return gy.throwArgumentError("unsupported key-derivation function","kdf",o)}function c7(t,e){const r=JSON.parse(t),n=a7(r,e,o7,uv.syncScrypt);return s7(r,n)}function l7(t,e,r){return iD(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield a7(n,e,aD,uv.scrypt,r);return s7(n,i)})}function u7(t,e,r,n){try{if(Gt(t.address)!==Io(t.privateKey))throw new Error("address/privateKey mismatch");if(gx(t)){const x=t.mnemonic;if(Kn.fromMnemonic(x.phrase,null,x.locale).derivePath(x.path||ol).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(x){return Promise.reject(x)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=Ee(t.privateKey),s=cv(e);let o=null,a=null,c=null;if(gx(t)){const x=t.mnemonic;o=Ee($p(x.phrase,x.locale||"en")),a=x.path||ol,c=x.locale||"en"}let l=r.client;l||(l="ethers.js");let u=null;r.salt?u=Ee(r.salt):u=Pc(32);let h=null;if(r.iv){if(h=Ee(r.iv),h.length!==16)throw new Error("invalid iv")}else h=Pc(16);let b=null;if(r.uuid){if(b=Ee(r.uuid),b.length!==16)throw new Error("invalid uuid")}else b=Pc(16);let v=1<<17,E=8,D=1;return r.scrypt&&(r.scrypt.N&&(v=r.scrypt.N),r.scrypt.r&&(E=r.scrypt.r),r.scrypt.p&&(D=r.scrypt.p)),uv.scrypt(s,u,v,E,D,64,n).then(x=>{x=Ee(x);const _=x.slice(0,16),m=x.slice(16,32),w=x.slice(32,64),A=new us.Counter(h),k=new us.ModeOfOperation.ctr(_,A),z=Ee(k.encrypt(i)),S=Jt(er([m,z])),H={address:t.address.substring(2).toLowerCase(),id:XN(b),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Me(h).substring(2)},ciphertext:Me(z).substring(2),kdf:"scrypt",kdfparams:{salt:Me(u).substring(2),n:v,dklen:32,p:D,r:E},mac:S.substring(2)}};if(o){const re=Pc(16),W=new us.Counter(re),y=new us.ModeOfOperation.ctr(w,W),R=Ee(y.encrypt(o)),I=new Date,f=I.getUTCFullYear()+"-"+bu(I.getUTCMonth()+1,2)+"-"+bu(I.getUTCDate(),2)+"T"+bu(I.getUTCHours(),2)+"-"+bu(I.getUTCMinutes(),2)+"-"+bu(I.getUTCSeconds(),2)+".0Z";H["x-ethers"]={client:l,gethFilename:"UTC--"+f+"--"+H.address,mnemonicCounter:Me(re).substring(2),mnemonicCiphertext:Me(R).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(H)})}function f7(t,e,r){if(Up(t)){r&&r(0);const n=lv(t,e);return r&&r(1),Promise.resolve(n)}return jp(t)?l7(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function h7(t,e){if(Up(t))return lv(t,e);if(jp(t))return c7(t,e);throw new Error("invalid JSON wallet")}const cD=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:lv,decryptJsonWallet:f7,decryptJsonWalletSync:h7,decryptKeystore:l7,decryptKeystoreSync:c7,encryptKeystore:u7,getJsonWalletAddress:rD,isCrowdsaleWallet:Up,isKeystoreWallet:jp},Symbol.toStringTag,{value:"Module"})),lD="wallet/5.7.0";var mx=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const lc=new ue(lD);function uD(t){return t!=null&&bt(t.privateKey,32)&&t.address!=null}function fD(t){const e=t.mnemonic;return e&&e.phrase}class _a extends Fl{constructor(e,r){if(super(),uD(e)){const n=new Pa(e.privateKey);if(me(this,"_signingKey",()=>n),me(this,"address",Io(this.publicKey)),this.address!==Gt(e.address)&&lc.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),fD(e)){const i=e.mnemonic;me(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||ol,locale:i.locale||"en"}));const s=this.mnemonic,o=Kn.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Io(o.privateKey)!==this.address&&lc.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else me(this,"_mnemonic",()=>null)}else{if(Pa.isSigningKey(e))e.curve!=="secp256k1"&&lc.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),me(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new Pa(e);me(this,"_signingKey",()=>n)}me(this,"_mnemonic",()=>null),me(this,"address",Io(this.publicKey))}r&&!$l.isProvider(r)&&lc.throwArgumentError("invalid provider","provider",r),me(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new _a(this,e)}signTransaction(e){return mr(e).then(r=>{r.from!=null&&(Gt(r.from)!==this.address&&lc.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(Jt(fy(r)));return fy(r,n)})}signMessage(e){return mx(this,void 0,void 0,function*(){return ry(this._signingKey().signDigest(Y2(e)))})}_signTypedData(e,r,n){return mx(this,void 0,void 0,function*(){const i=yield Qr.resolveNames(e,r,n,s=>(this.provider==null&&lc.throwError("cannot resolve ENS names without a provider",ue.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return ry(this._signingKey().signDigest(Qr.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),u7(this,e,r,n)}static createRandom(e){let r=Pc(16);e||(e={}),e.extraEntropy&&(r=Ee(Er(Jt(er([r,e.extraEntropy])),0,16)));const n=Fp(r,e.locale);return _a.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return f7(e,r,n).then(i=>new _a(i))}static fromEncryptedJsonSync(e,r){return new _a(h7(e,r))}static fromMnemonic(e,r,n){return r||(r=ol),new _a(Kn.fromMnemonic(e,null,n).derivePath(r))}}function hD(t,e){return ph(Y2(t),e)}function dD(t,e,r,n){return ph(Qr.hash(t,e,r),n)}const pD=Object.freeze(Object.defineProperty({__proto__:null,Wallet:_a,verifyMessage:hD,verifyTypedData:dD},Symbol.toStringTag,{value:"Module"})),gD="networks/5.7.1",bx=new ue(gD);function mD(t){return t&&typeof t.renetwork=="function"}function Us(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Us(r)},e}function Ld(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return Ld(t,n)},r}const yx={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Us("homestead")},vx={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Us("ropsten")},wx={chainId:63,name:"classicMordor",_defaultProvider:Ld("https://www.ethercluster.com/mordor","classicMordor")},d0={unspecified:{chainId:0,name:"unspecified"},homestead:yx,mainnet:yx,morden:{chainId:2,name:"morden"},ropsten:vx,testnet:vx,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Us("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Us("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Us("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Us("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Ld("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:wx,classicTestnet:wx,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Ld("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Us("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Us("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function bD(t){if(t==null)return null;if(typeof t=="number"){for(const n in d0){const i=d0[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=d0[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=d0[t.name];if(!e)return typeof t.chainId!="number"&&bx.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&bx.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(mD(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const yD="web/5.7.1";var vD=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function wD(t,e){return vD(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Ee(new Uint8Array(i))}})}var xD=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const ki=new ue(yD);function xx(t){return new Promise(e=>{setTimeout(e,t)})}function co(t,e){if(t==null)return null;if(typeof t=="string")return t;if(fh(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Ho(t)}catch{}return Me(t)}return t}function _D(t){return Sr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function d7(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;ki.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;ki.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,h=2*60*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&ki.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const _ in t.headers)a[_.toLowerCase()]={key:_,value:String(t.headers[_])},["if-none-match","if-modified-since"].indexOf(_.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&ki.throwError("basic authentication requires a secure https url",ue.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const _=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+Z2(Sr(_))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=ir(t.fetchOptions))}const b=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),v=c?c.match(b):null;if(v)try{const _={statusCode:200,statusMessage:"OK",headers:{"content-type":v[1]||"text/plain"},body:v[2]?J2(v[3]):_D(v[3])};let m=_.body;return r&&(m=r(_.body,_)),Promise.resolve(m)}catch(_){ki.throwError("processing response error",ue.errors.SERVER_ERROR,{body:co(v[1],v[2]),error:_,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const E={};Object.keys(a).forEach(_=>{const m=a[_];E[m.key]=m.value}),l.headers=E;const D=function(){let _=null;return{promise:new Promise(function(A,k){h&&(_=setTimeout(()=>{_!=null&&(_=null,k(ki.makeError("timeout",ue.errors.TIMEOUT,{requestBody:co(l.body,E["content-type"]),requestMethod:l.method,timeout:h,url:c})))},h))}),cancel:function(){_!=null&&(clearTimeout(_),_=null)}}}(),x=function(){return xD(this,void 0,void 0,function*(){for(let _=0;_<n;_++){let m=null;try{if(m=yield wD(c,l),_<n){if(m.statusCode===301||m.statusCode===302){const A=m.headers.location||"";if(l.method==="GET"&&A.match(/^https:/)){c=m.headers.location;continue}}else if(m.statusCode===429){let A=!0;if(i&&(A=yield i(_,c)),A){let k=0;const z=m.headers["retry-after"];typeof z=="string"&&z.match(/^[1-9][0-9]*$/)?k=parseInt(z)*1e3:k=s*parseInt(String(Math.random()*Math.pow(2,_))),yield xx(k);continue}}}}catch(A){m=A.response,m==null&&(D.cancel(),ki.throwError("missing response",ue.errors.SERVER_ERROR,{requestBody:co(l.body,E["content-type"]),requestMethod:l.method,serverError:A,url:c}))}let w=m.body;if(u&&m.statusCode===304?w=null:!o&&(m.statusCode<200||m.statusCode>=300)&&(D.cancel(),ki.throwError("bad response",ue.errors.SERVER_ERROR,{status:m.statusCode,headers:m.headers,body:co(w,m.headers?m.headers["content-type"]:null),requestBody:co(l.body,E["content-type"]),requestMethod:l.method,url:c})),r)try{const A=yield r(w,m);return D.cancel(),A}catch(A){if(A.throttleRetry&&_<n){let k=!0;if(i&&(k=yield i(_,c)),k){const z=s*parseInt(String(Math.random()*Math.pow(2,_)));yield xx(z);continue}}D.cancel(),ki.throwError("processing response error",ue.errors.SERVER_ERROR,{body:co(w,m.headers?m.headers["content-type"]:null),error:A,requestBody:co(l.body,E["content-type"]),requestMethod:l.method,url:c})}return D.cancel(),w}return ki.throwError("failed response",ue.errors.SERVER_ERROR,{requestBody:co(l.body,E["content-type"]),requestMethod:l.method,url:c})})}();return Promise.race([D.promise,x])}function Hp(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Ho(s))}catch(c){ki.throwError("invalid JSON",ue.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=Sr(e);const s=typeof t=="string"?{url:t}:ir(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=ir(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return d7(t,i,n)}function ka(t,e){return e||(e={}),e=ir(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(l,h)}return null},function(u){o()&&n(u)})}l()})}const ED=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:d7,fetchJson:Hp,poll:ka},Symbol.toStringTag,{value:"Module"}));var $d="qpzry9x8gf2tvdw0s3jn54khce6mua7l",my={};for(var p0=0;p0<$d.length;p0++){var zg=$d.charAt(p0);if(my[zg]!==void 0)throw new TypeError(zg+" is ambiguous");my[zg]=p0}function zc(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function p7(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=zc(e)^n>>5}for(e=zc(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=zc(e)^i&31}return e}function SD(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=p7(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=zc(n)^o,i+=$d.charAt(o)}for(s=0;s<6;++s)n=zc(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=$d.charAt(a)}return i}function g7(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=p7(s);if(typeof a=="string")return a;for(var c=[],l=0;l<o.length;++l){var u=o.charAt(l),h=my[u];if(h===void 0)return"Unknown character "+u;a=zc(a)^h,!(l+6>=o.length)&&c.push(h)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:c}}function AD(){var t=g7.apply(null,arguments);if(typeof t=="object")return t}function CD(t){var e=g7.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function zp(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],c=0;c<t.length;++c)for(i=i<<e|t[c],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}function ID(t){var e=zp(t,8,5,!0);if(Array.isArray(e))return e}function MD(t){var e=zp(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function TD(t){var e=zp(t,5,8,!1);if(Array.isArray(e))return e}function kD(t){var e=zp(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var _x={decodeUnsafe:AD,decode:CD,encode:SD,toWordsUnsafe:ID,toWords:MD,fromWordsUnsafe:TD,fromWords:kD};const Wo="providers/5.7.2",yu=new ue(Wo);class Ve{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this),u=h=>this.data(h,!0);return e.transaction={hash:o,type:l,accessList:Ve.allowNull(this.accessList.bind(this),null),blockHash:Ve.allowNull(o,null),blockNumber:Ve.allowNull(c,null),transactionIndex:Ve.allowNull(c,null),confirmations:Ve.allowNull(c,null),from:r,gasPrice:Ve.allowNull(n),maxPriorityFeePerGas:Ve.allowNull(n),maxFeePerGas:Ve.allowNull(n),gasLimit:n,to:Ve.allowNull(r,null),value:n,nonce:c,data:s,r:Ve.allowNull(this.uint256),s:Ve.allowNull(this.uint256),v:Ve.allowNull(c),creates:Ve.allowNull(r,null),raw:Ve.allowNull(s)},e.transactionRequest={from:Ve.allowNull(r),nonce:Ve.allowNull(c),gasLimit:Ve.allowNull(n),gasPrice:Ve.allowNull(n),maxPriorityFeePerGas:Ve.allowNull(n),maxFeePerGas:Ve.allowNull(n),to:Ve.allowNull(r),value:Ve.allowNull(n),data:Ve.allowNull(u),type:Ve.allowNull(c),accessList:Ve.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:r,topics:Ve.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:Ve.allowNull(this.address,null),from:Ve.allowNull(this.address,null),contractAddress:Ve.allowNull(r,null),transactionIndex:c,root:Ve.allowNull(a),gasUsed:n,logsBloom:Ve.allowNull(s),blockHash:o,transactionHash:o,logs:Ve.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Ve.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:Ve.allowNull(n),status:Ve.allowNull(c),type:l},e.block={hash:Ve.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:Ve.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Ve.allowNull(r),extraData:s,transactions:Ve.allowNull(Ve.arrayOf(o)),baseFeePerGas:Ve.allowNull(n)},e.blockWithTransactions=ir(e.block),e.blockWithTransactions.transactions=Ve.allowNull(Ve.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Ve.allowNull(i,void 0),toBlock:Ve.allowNull(i,void 0),blockHash:Ve.allowNull(o,void 0),address:Ve.allowNull(r,void 0),topics:Ve.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Ve.allowNull(c),blockHash:Ve.allowNull(o),transactionIndex:c,removed:Ve.allowNull(this.boolean.bind(this)),address:r,data:Ve.allowFalsish(s,"0x"),topics:Ve.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return Qa(e||[])}number(e){return e==="0x"?0:Se.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Se.from(e).toNumber()}bigNumber(e){return Se.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),bt(e))?e.toLowerCase():yu.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Gt(e)}callAddress(e){if(!bt(e,32))return null;const r=Gt(Er(e,12));return r===gO?null:r}contractAddress(e){return q2(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||bt(e))return kp(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return ws(n)!==32?yu.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=Se.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!bt(e))throw new Error("invalid uint256");return Yt(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Ve.check(r,e);return i._difficulty=n==null?null:Se.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Ve.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Se.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Ve.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;bt(n)&&(n=Se.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),bt(n)&&(n=Se.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return ZE(e)}receiptLog(e){return Ve.check(this.formats.receiptLog,e)}receipt(e){const r=Ve.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=Se.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&yu.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):yu.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&yu.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Ve.check(this.formats.filter,e)}filterLog(e){return Ve.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}function OD(t){return t&&typeof t.isCommunityResource=="function"}function Ex(t){return OD(t)&&t.isCommunityResource()}var at=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const wt=new ue(Wo),RD=10;function Sx(t){return t==null?"null":(ws(t)!==32&&wt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Ax(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[Sx(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return Sx(e)}).join("&")}function PD(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function uc(t){if(typeof t=="string"){if(t=t.toLowerCase(),ws(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+Ax(t);if(TR.isForkEvent(t))throw wt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+Ax(t.topics||[])}throw new Error("invalid event - "+t)}function vu(){return new Date().getTime()}function Cx(t){return new Promise(e=>{setTimeout(e,t)})}const ND=["block","network","pending","poll"];class DD{constructor(e,r,n){me(this,"tag",e),me(this,"listener",r),me(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=PD(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||ND.indexOf(this.tag)>=0}}const BD={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Wg(t){return Yt(Se.from(t).toHexString(),32)}function Ix(t){return il.encode(er([t,Er(Qs(Qs(t)),0,4)]))}const m7=new RegExp("^(ipfs)://(.*)$","i"),Mx=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),m7,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function cd(t,e){try{return Ho(Uf(t,e))}catch{}return null}function Uf(t,e){if(t==="0x")return null;const r=Se.from(Er(t,e,e+32)).toNumber(),n=Se.from(Er(t,r,r+32)).toNumber();return Er(t,r+32,r+32+n)}function qg(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):wt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function Tx(t){const e=Ee(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function LD(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function b7(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Ee(t[n]);e[n]=Tx(r),e.push(Tx(i.length)),e.push(LD(i)),r+=32+Math.ceil(i.length/32)*32}return xn(e)}class kx{constructor(e,r,n,i){me(this,"provider",e),me(this,"name",n),me(this,"address",e.formatter.address(r)),me(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Se.from(e).eq(1)).catch(e=>{if(e.code===ue.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return at(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:xn([e,df(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=xn(["0x9061b923",b7([bE(this.name),n.data])]));try{let s=yield this.provider.call(n);return Ee(s).length%32===4&&wt.throwError("resolver threw error",ue.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=Uf(s,0)),s}catch(s){if(s.code===ue.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return at(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?Uf(n,0):null})}_getAddress(e,r){const n=BD[String(e)];if(n==null&&wt.throwError(`unsupported coin type: ${e}`,ue.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=Ee(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Ix(er([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Ix(er([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=_x.toWords(i.slice(2));return a.unshift(o),_x.encode(n.prefix,a)}}return null}getAddress(e){return at(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===iE?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===ue.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Wg(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&wt.throwError("invalid or unsupported coin data",ue.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return at(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<Mx.length;n++){const i=r.match(Mx[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:qg(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const l=yield this.provider.formatter.address(c[0]),u=Yt(Se.from(c[1]).toHexString(),32);if(s==="erc721"){const D=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:xn(["0x6352211e",u])}));if(a!==D)return null;e.push({type:"owner",content:D})}else if(s==="erc1155"){const D=Se.from(yield this.provider.call({to:l,data:xn(["0x00fdd58e",Yt(a,32),u])}));if(D.isZero())return null;e.push({type:"balance",content:D.toString()})}const h={to:this.provider.formatter.address(c[0]),data:xn([o,u])};let b=cd(yield this.provider.call(h),0);if(b==null)return null;e.push({type:"metadata-url-base",content:b}),s==="erc1155"&&(b=b.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:b})),b.match(/^ipfs:/i)&&(b=qg(b)),e.push({type:"metadata-url",content:b});const v=yield Hp(b);if(!v)return null;e.push({type:"metadata",content:JSON.stringify(v)});let E=v.image;if(typeof E!="string")return null;if(!E.match(/^(https:\/\/|data:)/i)){if(E.match(m7)==null)return null;e.push({type:"url-ipfs",content:E}),E=qg(E)}return e.push({type:"url",content:E}),{linkage:e,url:E}}}}}catch{}return null})}getContentHash(){return at(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+il.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+il.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+Z2("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return wt.throwError("invalid or unsupported content hash data",ue.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return at(this,void 0,void 0,function*(){let r=Sr(e);r=er([Wg(64),Wg(r.length),r]),r.length%32!==0&&(r=er([r,Yt("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",Me(r));return n==null||n==="0x"?null:Ho(n)})}}let Vg=null,$D=1;class y7 extends $l{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),me(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Li(new.target,"getNetwork")(e);r?(me(this,"_network",r),this.emit("network",r,null)):wt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return at(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||wt.throwError("no network detected",ue.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:me(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return ka(()=>this._ready().then(e=>e,e=>{if(!(e.code===ue.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Vg==null&&(Vg=new Ve),Vg}static getNetwork(e){return bD(e??"homestead")}ccipReadFetch(e,r,n){return at(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],l=c.replace("{sender}",i).replace("{data}",s),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),h=yield Hp({url:l,errorPassThrough:!0},u,(v,E)=>(v.status=E.statusCode,v));if(h.data)return h.data;const b=h.message||"unknown error";if(h.status>=400&&h.status<500)return wt.throwError(`response not found during CCIP fetch: ${b}`,ue.errors.SERVER_ERROR,{url:c,errorMessage:b});o.push(b)}return wt.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,ue.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return at(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(vu()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=vu(),n=mr({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=vu();return i=Se.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return at(this,void 0,void 0,function*(){const e=$D++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)wt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",wt.makeError("network block skew detected",ue.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return at(this,void 0,void 0,function*(){return wt.throwError("provider does not support network detection",ue.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return at(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield Cx(0),this._network;const n=wt.makeError("underlying network changed",ue.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=vu();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=vu(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return at(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return at(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const c=[];let l=!1;const u=function(){return l?!0:(l=!0,c.forEach(b=>{b()}),!1)},h=b=>{b.confirmations<r||u()||o(b)};if(this.on(e,h),c.push(()=>{this.removeListener(e,h)}),i){let b=i.startBlock,v=null;const E=D=>at(this,void 0,void 0,function*(){l||(yield Cx(1e3),this.getTransactionCount(i.from).then(x=>at(this,void 0,void 0,function*(){if(!l){if(x<=i.nonce)b=D;else{{const _=yield this.getTransaction(e);if(_&&_.blockNumber!=null)return}for(v==null&&(v=b-3,v<i.startBlock&&(v=i.startBlock));v<=D;){if(l)return;const _=yield this.getBlockWithTransactions(v);for(let m=0;m<_.transactions.length;m++){const w=_.transactions[m];if(w.hash===e)return;if(w.from===i.from&&w.nonce===i.nonce){if(l)return;const A=yield this.waitForTransaction(w.hash,r);if(u())return;let k="replaced";w.data===i.data&&w.to===i.to&&w.value.eq(i.value)?k="repriced":w.data==="0x"&&w.from===w.to&&w.value.isZero()&&(k="cancelled"),a(wt.makeError("transaction was replaced",ue.errors.TRANSACTION_REPLACED,{cancelled:k==="replaced"||k==="cancelled",reason:k,replacement:this._wrapTransaction(w),hash:e,receipt:A}));return}}v++}}l||this.once("block",E)}}),x=>{l||this.once("block",E)}))});if(l)return;this.once("block",E),c.push(()=>{this.removeListener("block",E)})}if(typeof n=="number"&&n>0){const b=setTimeout(()=>{u()||a(wt.makeError("timeout exceeded",ue.errors.TIMEOUT,{timeout:n}))},n);b.unref&&b.unref(),c.push(()=>{clearTimeout(b)})}})})}getBlockNumber(){return at(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return at(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Se.from(e)}catch(r){return wt.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return at(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield mr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return Se.from(i)}catch(s){return wt.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return at(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield mr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return Se.from(i).toNumber()}catch(s){return wt.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return at(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield mr({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return Me(i)}catch(s){return wt.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return at(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield mr({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>kp(o))}),s=yield this.perform("getStorageAt",i);try{return Me(s)}catch(o){return wt.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&ws(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&wt.throwError("Transaction hash mismatch from Provider.sendTransaction.",ue.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>at(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&wt.throwError("transaction failed",ue.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return at(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>Me(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return at(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Se.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Me(s):null))}),this.formatter.transactionRequest(yield mr(n))})}_getFilter(e){return at(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield mr(r))})}_call(e,r,n){return at(this,void 0,void 0,function*(){n>=RD&&wt.throwError("CCIP read exceeded maximum redirections",ue.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&ws(s)%32===4)try{const o=Er(s,4),a=Er(o,0,32);Se.from(a).eq(i)||wt.throwError("CCIP Read sender did not match",ue.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],l=Se.from(Er(o,32,64)).toNumber(),u=Se.from(Er(o,l,l+32)).toNumber(),h=Er(o,l+32);for(let _=0;_<u;_++){const m=cd(h,_*32);m==null&&wt.throwError("CCIP Read contained corrupt URL string",ue.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(m)}const b=Uf(o,64);Se.from(Er(o,100,128)).isZero()||wt.throwError("CCIP Read callback selector included junk",ue.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const v=Er(o,96,100),E=Uf(o,128),D=yield this.ccipReadFetch(e,b,c);D==null&&wt.throwError("CCIP Read disabled or provided no URLs",ue.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const x={to:i,data:xn([v,b7([D,E])])};return this._call(x,r,n+1)}catch(o){if(o.code===ue.errors.SERVER_ERROR)throw o}try{return Me(s)}catch(o){return wt.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return at(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield mr({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return at(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield mr({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return Se.from(n)}catch(i){return wt.throwError("bad result from backend",ue.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return at(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&wt.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&wt.throwError("ENS name not configured",ue.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return at(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(bt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),bt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{wt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return ka(()=>at(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let c=0;c<s.transactions.length;c++){const l=s.transactions[c];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-l.blockNumber+1;u<=0&&(u=1),l.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return at(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ka(()=>at(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return at(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ka(()=>at(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return at(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield mr({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Ve.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return at(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return at(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&wt.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return at(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new kx(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return at(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||wt.throwError("network does not support ENS",ue.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+df(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return at(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(bt(e))throw n}typeof e!="string"&&wt.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return at(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=cd(yield this.call({to:n,data:"0x691f3431"+df(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return at(this,void 0,void 0,function*(){let r=null;if(bt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new kx(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==ue.errors.CALL_EXCEPTION)throw a}try{const a=cd(yield this.call({to:o,data:"0x691f3431"+df(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==ue.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return wt.throwError(e+" not implemented",ue.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new DD(uc(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=uc(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=uc(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=uc(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=uc(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=uc(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var Ls=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Tr=new ue(Wo),FD=["call","estimateGas"];function gf(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=bt(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=gf(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return gf(JSON.parse(t),e)}catch{}return null}function v7(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=gf(e,!0);if(s)return s.data;Tr.throwError("missing revert data in call exception; Transaction reverted without a reason string",ue.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=gf(e.body,!1);s==null&&(s=gf(e,!1)),s&&Tr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ue.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===ue.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Tr.throwError("insufficient funds for intrinsic transaction cost",ue.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Tr.throwError("nonce has already been used",ue.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Tr.throwError("replacement fee too low",ue.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Tr.throwError("legacy pre-eip-155 transactions not supported",ue.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),FD.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Tr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ue.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function Ox(t){return new Promise(function(e){setTimeout(e,t)})}function UD(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function wu(t){return t&&t.toLowerCase()}const by={};class w7 extends Fl{constructor(e,r,n){if(super(),e!==by)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");me(this,"provider",r),n==null&&(n=0),typeof n=="string"?(me(this,"_address",this.provider.formatter.address(n)),me(this,"_index",null)):typeof n=="number"?(me(this,"_index",n),me(this,"_address",null)):Tr.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Tr.throwError("cannot alter JSON-RPC Signer connection",ue.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new jD(by,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Tr.throwError("unknown account #"+this._index,ue.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=ir(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=ir(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Ls(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&Tr.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),mr({tx:mr(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Tr.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&Tr.throwError("user rejected transaction",ue.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),v7("sendTransaction",o,s)))})}signTransaction(e){return Tr.throwError("signing transactions is unsupported",ue.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Ls(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield ka(()=>Ls(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Ls(this,void 0,void 0,function*(){const r=typeof e=="string"?Sr(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Me(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Tr.throwError("user rejected signing",ue.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Ls(this,void 0,void 0,function*(){const r=typeof e=="string"?Sr(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),Me(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Tr.throwError("user rejected signing",ue.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Ls(this,void 0,void 0,function*(){const i=yield Qr.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Qr.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&Tr.throwError("user rejected signing",ue.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return Ls(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class jD extends w7{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const HD={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};let Wp=class extends y7{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Li(this.constructor,"defaultUrl")()),typeof e=="string"?me(this,"connection",Object.freeze({url:e})):me(this,"connection",Object.freeze(ir(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Ls(this,void 0,void 0,function*(){yield Ox(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Li(this.constructor,"getNetwork");try{return r(Se.from(e).toNumber())}catch(n){return Tr.throwError("could not detect network",ue.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Tr.throwError("could not detect network",ue.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new w7(by,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Zn(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=Hp(this.connection,JSON.stringify(n),UD).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[wu(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[wu(r.address),r.blockTag]];case"getCode":return["eth_getCode",[wu(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[wu(r.address),Yt(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Li(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Li(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=wu(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Ls(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&Se.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=ir(r),r.transaction=ir(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&Tr.throwError(e+" not implemented",ue.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return v7(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return Ox(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=ir(HD);if(r)for(const s in r)r[s]&&(n[s]=!0);H2(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=kp(Se.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=Me(e[s]))}),e.accessList&&(i.accessList=Qa(e.accessList)),i}},mf=null;try{if(mf=WebSocket,mf==null)throw new Error("inject please")}catch{const e=new ue(Wo);mf=function(){e.throwError("WebSockets not supported in this environment",ue.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Gg=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const g0=new ue(Wo);let zD=1;class WD extends Wp{constructor(e,r){r==="any"&&g0.throwError("WebSocketProvider does not support 'any' network yet",ue.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?me(this,"_websocket",new mf(this.connection.url)):me(this,"_websocket",e),me(this,"_requests",{}),me(this,"_subs",{}),me(this,"_subIds",{}),me(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const s=i.data,o=JSON.parse(s);if(o.id!=null){const a=String(o.id),c=this._requests[a];if(delete this._requests[a],o.result!==void 0)c.callback(null,o.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:o.result,provider:this});else{let l=null;o.error?(l=new Error(o.error.message||"unknown error"),me(l,"code",o.error.code||null),me(l,"response",s)):l=new Error("unknown error"),c.callback(l,void 0),this.emit("debug",{action:"response",error:l,request:JSON.parse(c.payload),provider:this})}}else if(o.method==="eth_subscription"){const a=this._subs[o.params.subscription];a&&a.processFunc(o.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){g0.throwError("cannot reset events block on WebSocketProvider",ue.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){g0.throwError("cannot set polling interval on WebSocketProvider",ue.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Gg(this,void 0,void 0,function*(){return null})}set polling(e){e&&g0.throwError("cannot set polling on WebSocketProvider",ue.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,r){const n=zD++;return new Promise((i,s)=>{function o(c,l){return c?s(c):i(l)}const a=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:o,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,r,n){return Gg(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(r).then(o=>this.send("eth_subscribe",o)),this._subIds[e]=i);const s=yield i;this._subs[s]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=Se.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(e.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const i=n.hash;this.getTransactionReceipt(i).then(s=>{s&&this.emit(i,s)})};r(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let r=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;r="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[r];n&&(delete this._subIds[r],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return Gg(this,void 0,void 0,function*(){this.websocket.readyState===mf.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var qD=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const VD=new ue(Wo);class GD extends Wp{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return qD(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||VD.throwError("no network detected",ue.errors.UNKNOWN_ERROR,{}),this._network==null&&(me(this,"_network",r),this.emit("network",r,null))),r})}}var Fd=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Ea=new ue(Wo);function m0(){return new Date().getTime()}function Rx(t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Ea.throwArgumentError("provider mismatch","networks",t):e=n}return e}function Px(t,e){t=t.slice().sort();const r=Math.floor(t.length/2);if(t.length%2)return t[r];const n=t[r-1],i=t[r];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function Nc(t){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return JSON.stringify(t);if(typeof t=="string")return t;if(Se.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map(e=>Nc(e)));if(typeof t=="object"){const e=Object.keys(t);return e.sort(),"{"+e.map(r=>{let n=t[r];return typeof n=="function"?n="[function]":n=Nc(n),JSON.stringify(r)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let KD=1;function Nx(t){let e=null,r=null,n=new Promise(o=>{e=function(){r&&(clearTimeout(r),r=null),o()},r=setTimeout(e,t)});const i=o=>(n=n.then(o),n);function s(){return n}return{cancel:e,getPromise:s,wait:i}}const JD=[ue.errors.CALL_EXCEPTION,ue.errors.INSUFFICIENT_FUNDS,ue.errors.NONCE_EXPIRED,ue.errors.REPLACEMENT_UNDERPRICED,ue.errors.UNPREDICTABLE_GAS_LIMIT],ZD=["address","args","errorArgs","errorSignature","method","transaction"];function b0(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function YD(t,e){return function(r){const n={};r.forEach(s=>{const o=t(s.result);n[o]||(n[o]={count:0,result:s.result}),n[o].count++});const i=Object.keys(n);for(let s=0;s<i.length;s++){const o=n[i[s]];if(o.count>=e)return o.result}}}function QD(t,e,r){let n=Nc;switch(e){case"getBlockNumber":return function(i){const s=i.map(a=>a.result);let o=Px(i.map(a=>a.result),2);if(o!=null)return o=Math.ceil(o),s.indexOf(o+1)>=0&&o++,o>=t._highestBlockNumber&&(t._highestBlockNumber=o),t._highestBlockNumber};case"getGasPrice":return function(i){const s=i.map(o=>o.result);return s.sort(),s[Math.floor(s.length/2)]};case"getEtherPrice":return function(i){return Px(i.map(s=>s.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=ir(i),i.confirmations=-1,Nc(i))};break;case"getBlock":r.includeTransactions?n=function(i){return i==null?null:(i=ir(i),i.transactions=i.transactions.map(s=>(s=ir(s),s.confirmations=-1,s)),Nc(i))}:n=function(i){return i==null?null:Nc(i)};break;default:throw new Error("unknown method: "+e)}return YD(n,t.quorum)}function xu(t,e){return Fd(this,void 0,void 0,function*(){const r=t.provider;return r.blockNumber!=null&&r.blockNumber>=e||e===-1?r:ka(()=>new Promise((n,i)=>{setTimeout(function(){return r.blockNumber>=e?n(r):t.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}function XD(t,e,r,n){return Fd(this,void 0,void 0,function*(){let i=t.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&bt(n.blockTag)&&(i=yield xu(t,e)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&bt(n.blockTag)&&(i=yield xu(t,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&bt(n.blockTag)&&(i=yield xu(t,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&bt(n.blockTag)&&(i=yield xu(t,e)),r==="call"&&n.blockTag?i[r](n.transaction,n.blockTag):i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let s=n.filter;return(s.fromBlock&&bt(s.fromBlock)||s.toBlock&&bt(s.toBlock))&&(i=yield xu(t,e)),i.getLogs(s)}}return Ea.throwError("unknown method error",ue.errors.UNKNOWN_ERROR,{method:r,params:n})})}class eB extends y7{constructor(e,r){e.length===0&&Ea.throwArgumentError("missing providers","providers",e);const n=e.map((o,a)=>{if($l.isProvider(o)){const u=Ex(o)?2e3:750;return Object.freeze({provider:o,weight:1,stallTimeout:u,priority:1})}const c=ir(o);c.priority==null&&(c.priority=1),c.stallTimeout==null&&(c.stallTimeout=Ex(o)?2e3:750),c.weight==null&&(c.weight=1);const l=c.weight;return(l%1||l>512||l<1)&&Ea.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,l),Object.freeze(c)}),i=n.reduce((o,a)=>o+a.weight,0);r==null?r=i/2:r>i&&Ea.throwArgumentError("quorum will always fail; larger than total weight","quorum",r);let s=Rx(n.map(o=>o.provider.network));s==null&&(s=new Promise((o,a)=>{setTimeout(()=>{this.detectNetwork().then(o,a)},0)})),super(s),me(this,"providerConfigs",Object.freeze(n)),me(this,"quorum",r),this._highestBlockNumber=-1}detectNetwork(){return Fd(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(r=>r.provider.getNetwork()));return Rx(e)})}perform(e,r){return Fd(this,void 0,void 0,function*(){if(e==="sendTransaction"){const c=yield Promise.all(this.providerConfigs.map(l=>l.provider.sendTransaction(r.signedTransaction).then(u=>u.hash,u=>u)));for(let l=0;l<c.length;l++){const u=c[l];if(typeof u=="string")return u}throw c[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=QD(this,e,r),i=n7(this.providerConfigs.map(ir));i.sort((c,l)=>c.priority-l.priority);const s=this._highestBlockNumber;let o=0,a=!0;for(;;){const c=m0();let l=i.filter(v=>v.runner&&c-v.start<v.stallTimeout).reduce((v,E)=>v+E.weight,0);for(;l<this.quorum&&o<i.length;){const v=i[o++],E=KD++;v.start=m0(),v.staller=Nx(v.stallTimeout),v.staller.wait(()=>{v.staller=null}),v.runner=XD(v,s,e,r).then(D=>{v.done=!0,v.result=D,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:E,backend:b0(v,m0()),request:{method:e,params:Zn(r)},provider:this})},D=>{v.done=!0,v.error=D,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:E,backend:b0(v,m0()),request:{method:e,params:Zn(r)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:E,backend:b0(v,null),request:{method:e,params:Zn(r)},provider:this}),l+=v.weight}const u=[];i.forEach(v=>{v.done||!v.runner||(u.push(v.runner),v.staller&&u.push(v.staller.getPromise()))}),u.length&&(yield Promise.race(u));const h=i.filter(v=>v.done&&v.error==null);if(h.length>=this.quorum){const v=n(h);if(v!==void 0)return i.forEach(E=>{E.staller&&E.staller.cancel(),E.cancelled=!0}),v;a||(yield Nx(100).getPromise()),a=!1}const b=i.reduce((v,E)=>{if(!E.done||E.error==null)return v;const D=E.error.code;return JD.indexOf(D)>=0&&(v[D]||(v[D]={error:E.error,weight:0}),v[D].weight+=E.weight),v},{});if(Object.keys(b).forEach(v=>{const E=b[v];if(E.weight<this.quorum)return;i.forEach(_=>{_.staller&&_.staller.cancel(),_.cancelled=!0});const D=E.error,x={};ZD.forEach(_=>{D[_]!=null&&(x[_]=D[_])}),Ea.throwError(D.reason||D.message,v,x)}),i.filter(v=>!v.done).length===0)break}return i.forEach(c=>{c.staller&&c.staller.cancel(),c.cancelled=!0}),Ea.throwError("failed to meet quorum",ue.errors.SERVER_ERROR,{method:e,params:r,results:i.map(c=>b0(c)),provider:this})})}}const Dx=new ue(Wo);let tB=1;function Bx(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:tB++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:r,request:Zn(s),provider:this}),e(s,(c,l)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:s,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:l,provider:this}),l.error){const u=new Error(l.error.message);return u.code=l.error.code,u.data=l.error.data,a(u)}o(l.result)})})}}function rB(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Zn(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class jf extends Wp{constructor(e,r){e==null&&Dx.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=rB(e)):e.sendAsync?i=Bx(e,e.sendAsync.bind(e)):e.send?i=Bx(e,e.send.bind(e)):Dx.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),me(this,"jsonRpcFetchFunc",i),me(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const nB="solidity/5.7.0",iB=new RegExp("^bytes([0-9]+)$"),sB=new RegExp("^(u?int)([0-9]*)$"),oB=new RegExp("^(.*)\\[([0-9]*)\\]$"),aB="0000000000000000000000000000000000000000000000000000000000000000",Ac=new ue(nB);function x7(t,e,r){switch(t){case"address":return r?uf(e,32):Ee(e);case"string":return Sr(e);case"bytes":return Ee(e);case"bool":return e=e?"0x01":"0x00",r?uf(e,32):Ee(e)}let n=t.match(sB);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&Ac.throwArgumentError("invalid number type","type",t),r&&(i=256),e=Se.from(e).toTwos(i),uf(e,i/8)}if(n=t.match(iB),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&Ac.throwArgumentError("invalid bytes type","type",t),Ee(e).byteLength!==i&&Ac.throwArgumentError(`invalid value for ${t}`,"value",e),r?Ee((e+aB).substring(0,66)):e}if(n=t.match(oB),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&Ac.throwArgumentError(`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(x7(i,a,!0))}),er(o)}return Ac.throwArgumentError("invalid type","type",t)}function fv(t,e){t.length!=e.length&&Ac.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(x7(n,e[i]))}),Me(er(r))}function cB(t,e){return Jt(fv(t,e))}function lB(t,e){return Qs(fv(t,e))}const uB=Object.freeze(Object.defineProperty({__proto__:null,keccak256:cB,pack:fv,sha256:lB},Symbol.toStringTag,{value:"Module"})),fB="units/5.7.0",_7=new ue(fB),E7=["wei","kwei","mwei","gwei","szabo","finney","ether"];function hB(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&_7.throwArgumentError("invalid value","value",t);let r=e[0],n="";for(r.substring(0,1)==="-"&&(n="-",r=r.substring(1));r.substring(0,1)==="0";)r=r.substring(1);r===""&&(r="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;r.length;)if(r.length<=3){s.unshift(r);break}else{const o=r.length-3;s.unshift(r.substring(o)),r=r.substring(0,o)}return n+s.join(",")+i}function S7(t,e){if(typeof e=="string"){const r=E7.indexOf(e);r!==-1&&(e=3*r)}return rd(t,e??18)}function A7(t,e){if(typeof t!="string"&&_7.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=E7.indexOf(e);r!==-1&&(e=3*r)}return Zi(t,e??18)}function dB(t){return S7(t,18)}function pB(t){return A7(t,18)}const gB=Object.freeze(Object.defineProperty({__proto__:null,commify:hB,formatEther:dB,formatUnits:S7,parseEther:pB,parseUnits:A7},Symbol.toStringTag,{value:"Module"})),mB="ethers/5.7.2";new ue(mB);var qt={};const bB=Ht(AR),yB=Ht(aO),vB=Ht(zO),wB=Ht(PN),xB=Ht(Dk),_B=Ht(_R),EB=Ht(KN),SB=Ht(cD),AB=Ht(Qk),CB=Ht(Pk),Lx=Ht(LN),IB=Ht(uB),MB=Ht(YN),TB=Ht(Wk),kB=Ht(eO),OB=Ht(mN),$x=Ht(FO),RB=Ht(SN),PB=Ht(gB),NB=Ht(pD),DB=Ht(ED);(function(t){var e=ze&&ze.__createBinding||(Object.create?function(y,R,I,f){f===void 0&&(f=I),Object.defineProperty(y,f,{enumerable:!0,get:function(){return R[I]}})}:function(y,R,I,f){f===void 0&&(f=I),y[f]=R[I]}),r=ze&&ze.__setModuleDefault||(Object.create?function(y,R){Object.defineProperty(y,"default",{enumerable:!0,value:R})}:function(y,R){y.default=R}),n=ze&&ze.__importStar||function(y){if(y&&y.__esModule)return y;var R={};if(y!=null)for(var I in y)I!=="default"&&Object.prototype.hasOwnProperty.call(y,I)&&e(R,y,I);return r(R,y),R};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var i=bB;Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var s=yB;Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return s.isAddress}});var o=n(vB);t.base64=o;var a=wB;Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return a.Base58}});var c=xB;Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var l=_B;Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return l._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return l.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return l.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return l.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return l.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return l.namehash}});var u=EB;Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return u.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return u.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return u.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return u.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return u.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return u.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return u.mnemonicToSeed}});var h=SB;Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return h.getJsonWalletAddress}});var b=AB;Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return b.keccak256}});var v=CB;Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return v.Logger}});var E=Lx;Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return E.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return E.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return E.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return E.sha512}});var D=IB;Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return D.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return D.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return D.sha256}});var x=MB;Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return x.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return x.shuffled}});var _=TB;Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return _.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return _.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return _.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return _.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return _.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return _.shallowCopy}});var m=n(kB);t.RLP=m;var w=OB;Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return w.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return w.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return w.SigningKey}});var A=$x;Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return A.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return A.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return A.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return A._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return A.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return A.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return A.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return A.Utf8ErrorFuncs}});var k=RB;Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return k.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return k.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return k.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return k.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return k.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return k.TransactionTypes}});var z=PB;Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return z.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return z.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return z.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return z.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return z.parseUnits}});var S=NB;Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return S.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return S.verifyTypedData}});var H=DB;Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return H._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return H.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return H.poll}});var re=Lx;Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return re.SupportedAlgorithm}});var W=$x;Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return W.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return W.Utf8ErrorReason}})})(qt);function BB(t){var r;if(!t)return"Injected";const e=n=>{if(n.isAvalanche)return"Core Wallet";if(n.isBitKeep)return"BitKeep";if(n.isBraveWallet)return"Brave Wallet";if(n.isCoinbaseWallet)return"Coinbase Wallet";if(n.isExodus)return"Exodus";if(n.isFrame)return"Frame";if(n.isKuCoinWallet)return"KuCoin Wallet";if(n.isMathWallet)return"MathWallet";if(n.isOneInchIOSWallet||n.isOneInchAndroidWallet)return"1inch Wallet";if(n.isOpera)return"Opera";if(n.isPortal)return"Ripio Portal";if(n.isRainbow)return"Rainbow";if(n.isTally)return"Tally";if(n.isTokenPocket)return"TokenPocket";if(n.isTokenary)return"Tokenary";if(n.isTrust||n.isTrustWallet)return"Trust Wallet";if(n.isMetaMask)return"MetaMask"};if((r=t.providers)!=null&&r.length){const n=new Set;let i=1;for(const o of t.providers){let a=e(o);a||(a=`Unknown Wallet #${i}`,i+=1),n.add(a)}const s=[...n];return s.length?s:s[0]??"Injected"}return e(t)??"Injected"}var ld,tf,hv=class extends Tp{constructor({chains:t,options:e}={}){const r={shimDisconnect:!0,shimChainChangedDisconnect:!0,getProvider:()=>typeof window<"u"?window.ethereum:void 0,...e};super({chains:t,options:r}),br(this,"id"),br(this,"name"),br(this,"ready"),Vn(this,ld,void 0),Vn(this,tf,void 0),br(this,"shimDisconnectKey","injected.shimDisconnect"),br(this,"onAccountsChanged",i=>{i.length===0?this.emit("disconnect"):this.emit("change",{account:qt.getAddress(i[0])})}),br(this,"onChainChanged",i=>{const s=Vs(i),o=this.isChainUnsupported(s);this.emit("change",{chain:{id:s,unsupported:o}})}),br(this,"onDisconnect",()=>{var i;if(this.options.shimChainChangedDisconnect&&Or(this,tf)){qs(this,tf,!1);return}this.emit("disconnect"),this.options.shimDisconnect&&((i=jt().storage)==null||i.removeItem(this.shimDisconnectKey))});const n=r.getProvider();if(typeof r.name=="string")this.name=r.name;else if(n){const i=BB(n);r.name?this.name=r.name(i):typeof i=="string"?this.name=i:this.name=i[0]}else this.name="Injected";this.id="injected",this.ready=!!n}async connect({chainId:t}={}){var e;try{const r=await this.getProvider();if(!r)throw new Tn;r.on&&(r.on("accountsChanged",this.onAccountsChanged),r.on("chainChanged",this.onChainChanged),r.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const n=await r.request({method:"eth_requestAccounts"}),i=qt.getAddress(n[0]);let s=await this.getChainId(),o=this.isChainUnsupported(s);return t&&s!==t&&(s=(await this.switchChain(t)).id,o=this.isChainUnsupported(s)),this.options.shimDisconnect&&((e=jt().storage)==null||e.setItem(this.shimDisconnectKey,!0)),{account:i,chain:{id:s,unsupported:o},provider:r}}catch(r){throw this.isUserRejectedRequestError(r)?new yi(r):r.code===-32002?new J7(r):r}}async disconnect(){var e;const t=await this.getProvider();t!=null&&t.removeListener&&(t.removeListener("accountsChanged",this.onAccountsChanged),t.removeListener("chainChanged",this.onChainChanged),t.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&((e=jt().storage)==null||e.removeItem(this.shimDisconnectKey)))}async getAccount(){const t=await this.getProvider();if(!t)throw new Tn;const e=await t.request({method:"eth_accounts"});return qt.getAddress(e[0])}async getChainId(){const t=await this.getProvider();if(!t)throw new Tn;return t.request({method:"eth_chainId"}).then(Vs)}async getProvider(){const t=this.options.getProvider();return t&&qs(this,ld,t),Or(this,ld)}async getSigner({chainId:t}={}){const[e,r]=await Promise.all([this.getProvider(),this.getAccount()]);return new jf(e,t).getSigner(r)}async isAuthorized(){var t;try{if(this.options.shimDisconnect&&!((t=jt().storage)!=null&&t.getItem(this.shimDisconnectKey)))return!1;if(!await this.getProvider())throw new Tn;return!!await this.getAccount()}catch{return!1}}async switchChain(t){var n,i,s;this.options.shimChainChangedDisconnect&&qs(this,tf,!0);const e=await this.getProvider();if(!e)throw new Tn;const r=qt.hexValue(t);try{return await Promise.all([e.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),new Promise(o=>this.on("change",({chain:a})=>{(a==null?void 0:a.id)===t&&o()}))]),this.chains.find(o=>o.id===t)??{id:t,name:`Chain ${r}`,network:`${r}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(o){const a=this.chains.find(c=>c.id===t);if(!a)throw new Kp({chainId:t,connectorId:this.id});if(o.code===4902||((i=(n=o==null?void 0:o.data)==null?void 0:n.originalError)==null?void 0:i.code)===4902)try{return await e.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:a.name,nativeCurrency:a.nativeCurrency,rpcUrls:[((s=a.rpcUrls.public)==null?void 0:s.http[0])??""],blockExplorerUrls:this.getBlockExplorerUrls(a)}]}),a}catch(c){throw this.isUserRejectedRequestError(c)?new yi(o):new wv}throw this.isUserRejectedRequestError(o)?new yi(o):new Jp(o)}}async watchAsset({address:t,decimals:e=18,image:r,symbol:n}){const i=await this.getProvider();if(!i)throw new Tn;return i.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,decimals:e,image:r,symbol:n}}})}isUserRejectedRequestError(t){return t.code===4001}};ld=new WeakMap;tf=new WeakMap;const LB=t=>(e,r,n)=>{const i=n.subscribe;return n.subscribe=(o,a,c)=>{let l=o;if(a){const u=(c==null?void 0:c.equalityFn)||Object.is;let h=o(n.getState());l=b=>{const v=o(b);if(!u(h,v)){const E=h;a(h=v,E)}},c!=null&&c.fireImmediately&&a(h,h)}return i(l)},t(e,r,n)},$B=LB;function FB(t){let e;try{e=t()}catch{return}return{getItem:n=>{var i;const s=a=>a===null?null:JSON.parse(a),o=(i=e.getItem(n))!=null?i:null;return o instanceof Promise?o.then(s):s(o)},setItem:(n,i)=>e.setItem(n,JSON.stringify(i)),removeItem:n=>e.removeItem(n)}}const Hf=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Hf(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Hf(n)(r)}}}},UB=(t,e)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,_)=>({..._,...x}),...e},o=!1;const a=new Set,c=new Set;let l;try{l=s.getStorage()}catch{}if(!l)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...x)},n,i);const u=Hf(s.serialize),h=()=>{const x=s.partialize({...n()});let _;const m=u({state:x,version:s.version}).then(w=>l.setItem(s.name,w)).catch(w=>{_=w});if(_)throw _;return m},b=i.setState;i.setState=(x,_)=>{b(x,_),h()};const v=t((...x)=>{r(...x),h()},n,i);let E;const D=()=>{var x;if(!l)return;o=!1,a.forEach(m=>m(n()));const _=((x=s.onRehydrateStorage)==null?void 0:x.call(s,n()))||void 0;return Hf(l.getItem.bind(l))(s.name).then(m=>{if(m)return s.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==s.version){if(s.migrate)return s.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var w;return E=s.merge(m,(w=n())!=null?w:v),r(E,!0),h()}).then(()=>{_==null||_(E,void 0),o=!0,c.forEach(m=>m(E))}).catch(m=>{_==null||_(void 0,m)})};return i.persist={setOptions:x=>{s={...s,...x},x.getStorage&&(l=x.getStorage())},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>D(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},D(),E||v},jB=(t,e)=>(r,n,i)=>{let s={storage:FB(()=>localStorage),partialize:D=>D,version:0,merge:(D,x)=>({...x,...D}),...e},o=!1;const a=new Set,c=new Set;let l=s.storage;if(!l)return t((...D)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...D)},n,i);const u=()=>{const D=s.partialize({...n()});return l.setItem(s.name,{state:D,version:s.version})},h=i.setState;i.setState=(D,x)=>{h(D,x),u()};const b=t((...D)=>{r(...D),u()},n,i);let v;const E=()=>{var D;if(!l)return;o=!1,a.forEach(_=>_(n()));const x=((D=s.onRehydrateStorage)==null?void 0:D.call(s,n()))||void 0;return Hf(l.getItem.bind(l))(s.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var m;return v=s.merge(_,(m=n())!=null?m:b),r(v,!0),u()}).then(()=>{x==null||x(v,void 0),o=!0,c.forEach(_=>_(v))}).catch(_=>{x==null||x(void 0,_)})};return i.persist={setOptions:D=>{s={...s,...D},D.storage&&(l=D.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>E(),hasHydrated:()=>o,onHydrate:D=>(a.add(D),()=>{a.delete(D)}),onFinishHydration:D=>(c.add(D),()=>{c.delete(D)})},E(),v||b},HB=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?(({VITE_PROJECT_ID:"1ef970e0c9b7fb9bbed0f4388939d3f7",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Please use `storage` option instead."),UB(t,e)):jB(t,e),zB=HB,Fx=t=>{let e;const r=new Set,n=(c,l)=>{const u=typeof c=="function"?c(e):c;if(!Object.is(u,e)){const h=e;e=l??typeof u!="object"?u:Object.assign({},e,u),r.forEach(b=>b(e,h))}},i=()=>e,a={setState:n,getState:i,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{({VITE_PROJECT_ID:"1ef970e0c9b7fb9bbed0f4388939d3f7",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&console.warn("[DEPRECATED] The destroy method will be unsupported in the future version. You should use unsubscribe function returned by subscribe. Everything will be garbage collected if store is garbage collected."),r.clear()}};return e=t(n,i,a),a},WB=t=>t?Fx(t):Fx;function Wl(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,i]of t)if(!Object.is(i,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}function qB(t,e,{minQuorum:r=1,pollingInterval:n=4e3,targetQuorum:i=1,stallTimeout:s}={}){if(!t.length)throw new Error("must have at least one chain");if(i<r)throw new Error("quorum cannot be lower than minQuorum");let o=[];const a={},c={};for(const l of t){let u=!1;for(const h of e){const b=h(l);b&&(u=!0,o.some(({id:v})=>v===l.id)||(o=[...o,b.chain]),a[l.id]=[...a[l.id]||[],b.provider],b.webSocketProvider&&(c[l.id]=[...c[l.id]||[],b.webSocketProvider]))}if(!u)throw new Error([`Could not find valid provider configuration for chain "${l.name}".
`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join(`
`))}return{chains:o,provider:({chainId:l})=>{const u=o.find(v=>v.id===l)??t[0],h=a[u.id];if(!h||!h[0])throw new Error(`No providers configured for chain "${u.id}"`);let b;return h.length===1?b=h[0]():b=C7(i,r,h,{stallTimeout:s}),u.id===42220&&(b.formatter.formats.block={...b.formatter.formats.block,difficulty:()=>0,gasLimit:()=>0}),Object.assign(b,{chains:o,pollingInterval:n})},webSocketProvider:({chainId:l})=>{var v;const u=o.find(E=>E.id===l)??t[0],h=c[u.id];if(!h)return;const b=(v=h[0])==null?void 0:v.call(h);return b&&u.id===42220&&(b.formatter.formats.block={...b.formatter.formats.block,difficulty:()=>0,gasLimit:()=>0}),Object.assign(b||{},{chains:o})}}}function C7(t,e,r,{stallTimeout:n}){var i;try{return new eB(r.map((s,o)=>{const a=s();return{provider:a,priority:a.priority??o,stallTimeout:a.stallTimeout??n,weight:a.weight}}),t)}catch(s){if((i=s==null?void 0:s.message)!=null&&i.includes("quorum will always fail; larger than total weight")){if(t===e)throw s;return C7(t-1,e,r,{stallTimeout:n})}throw s}}function mh({chainId:t,signer:e}){var s,o,a,c;const{chain:r,chains:n}=Gp(),i=r==null?void 0:r.id;if(i&&t!==i)throw new G7({activeChain:((s=n.find(l=>l.id===i))==null?void 0:s.name)??`Chain ${i}`,targetChain:((o=n.find(l=>l.id===t))==null?void 0:o.name)??`Chain ${t}`});if(e){const l=(c=(a=e.provider)==null?void 0:a.network)==null?void 0:c.chainId;if(l&&t!==l){const u=jt().connector;throw new Kp({chainId:t,connectorId:(u==null?void 0:u.id)??"unknown"})}}}function VB(t,e=0){let r;return function(...n){if(!e)return t(...n);r&&clearTimeout(r),r=setTimeout(function(){r=null,t(...n)},e)}}function yy(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let r,n;if(Array.isArray(t)&&Array.isArray(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!yy(t[n],e[n]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(s&&!yy(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}var vy=(t,{find:e,replace:r})=>t&&e(t)?r(t):typeof t!="object"?t:Array.isArray(t)?t.map(n=>vy(n,{find:e,replace:r})):t instanceof Object?Object.entries(t).reduce((n,[i,s])=>({...n,[i]:vy(s,{find:e,replace:r})}),{}):t;function I7(t){const e=JSON.parse(t);return vy(e,{find:n=>n.type==="BigNumber",replace:n=>Se.from(n.hex)})}function Ud({contract:t,functionName:e,args:r=[]}){if(e in t.functions)return e;const n=(r==null?void 0:r.length)??0,i=Object.keys(t.functions).filter(s=>s.startsWith(`${e}(`)).map(s=>({name:s,fragment:qt.FunctionFragment.fromString(s)})).filter(s=>n===s.fragment.inputs.length);for(const s of i)if(r.every((a,c)=>{const l=s.fragment.inputs[c];return wy(a,l)}))return s.name;return e}function wy(t,e){const r=typeof t,n=e.type;switch(n){case"address":return qt.isAddress(t);case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>wy(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint"||Se.isBigNumber(t):/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>wy(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Dc(t){var e,r,n;(n=(r=(e=jt())==null?void 0:e.config.logger)==null?void 0:r.warn)==null||n.call(r,t)}function M7(t){try{const e=t.abi.filter(r=>r.type==="function"&&r.name===t.functionName);if(e.length===0)throw new Error("Invalid ABI");return e}catch{const r=iv.getInterface(t.abi).format(qt.FormatTypes.full);return(Array.isArray(r)?r:[r]).filter(i=>i.includes(t.functionName))}}function Vs(t){return typeof t=="string"?Number.parseInt(t,t.trim().substring(0,2)==="0x"?16:10):typeof t=="bigint"?Number(t):t}function GB(t){return Array.isArray(t)&&Object.keys(t).length===t.length}function KB({abi:t,data:e,functionName:r}){var n;if(e&&GB(e)){const i=iv.getInterface(t),o=(((n=i.getFunction(r).outputs)==null?void 0:n.length)||0)>1,a=o?e:[e],c=i.encodeFunctionResult(r,a),l=i.decodeFunctionResult(r,c);return o?l:l[0]}return e}function Ux(t,e){return t.slice(0,e).join(".")||"."}function jx(t,e){const{length:r}=t;for(let n=0;n<r;++n)if(t[n]===e)return n+1;return 0}function JB(t,e){const r=typeof t=="function",n=typeof e=="function",i=[],s=[];return function(a,c){if(typeof c=="object")if(i.length){const l=jx(i,this);l===0?i[i.length]=this:(i.splice(l),s.splice(l)),s[s.length]=a;const u=jx(i,c);if(u!==0)return n?e.call(this,a,c,Ux(s,u)):`[ref=${Ux(s,u)}]`}else i[0]=c,s[0]=a;return r?t.call(this,a,c):c}}function T7(t,e,r,n){return JSON.stringify(t,JB(e,n),r??void 0)}var k7={getItem:t=>"",setItem:(t,e)=>null,removeItem:t=>null};function O7({deserialize:t=I7,key:e="wagmi",serialize:r=T7,storage:n}){return{...n,getItem:(i,s=null)=>{const o=n.getItem(`${e}.${i}`);try{return o?t(o):s}catch(a){return console.warn(a),s}},setItem:(i,s)=>{if(s===null)n.removeItem(`${e}.${i}`);else try{n.setItem(`${e}.${i}`,r(s))}catch(o){console.error(o)}},removeItem:i=>n.removeItem(`${e}.${i}`)}}var Hx="store",Cc,rf,xy,R7,P7=class{constructor({autoConnect:t=!1,connectors:e=[new hv],provider:r,storage:n=O7({storage:typeof window<"u"?window.localStorage:k7}),logger:i={warn:console.warn},webSocketProvider:s}){var c,l;Tg(this,xy),this.providers=new Map,this.webSocketProviders=new Map,Tg(this,Cc,void 0),Tg(this,rf,void 0),this.config={autoConnect:t,connectors:e,logger:i,provider:r,storage:n,webSocketProvider:s};let o="disconnected",a;if(t)try{const u=n.getItem(Hx),h=(c=u==null?void 0:u.state)==null?void 0:c.data;o=h!=null&&h.account?"reconnecting":"connecting",a=(l=h==null?void 0:h.chain)==null?void 0:l.id}catch{}this.store=WB($B(zB(()=>({connectors:typeof e=="function"?e():e,provider:this.getProvider({chainId:a}),status:o,webSocketProvider:this.getWebSocketProvider({chainId:a})}),{name:Hx,storage:n,partialize:u=>{var h,b;return{...t&&{data:{account:(h=u==null?void 0:u.data)==null?void 0:h.account,chain:(b=u==null?void 0:u.data)==null?void 0:b.chain}},chains:u==null?void 0:u.chains}},version:2}))),this.storage=n,a0(this,rf,n==null?void 0:n.getItem("wallet")),Sk(this,xy,R7).call(this),t&&typeof window<"u"&&setTimeout(async()=>await this.autoConnect(),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){var t,e;return(e=(t=this.data)==null?void 0:t.chain)==null?void 0:e.id}get provider(){return this.store.getState().provider}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketProvider(){return this.store.getState().webSocketProvider}setState(t){const e=typeof t=="function"?t(this.store.getState()):t;this.store.setState(e,!0)}clearState(){this.setState(t=>({...t,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"}))}async destroy(){var t,e;this.connector&&await((e=(t=this.connector).disconnect)==null?void 0:e.call(t)),a0(this,Cc,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(Mg(this,Cc))return;a0(this,Cc,!0),this.setState(r=>{var n;return{...r,status:(n=r.data)!=null&&n.account?"reconnecting":"connecting"}});const t=Mg(this,rf)?[...this.connectors].sort(r=>r.id===Mg(this,rf)?-1:1):this.connectors;let e=!1;for(const r of t){if(!r.ready||!r.isAuthorized||!await r.isAuthorized())continue;const i=await r.connect();this.setState(s=>({...s,connector:r,chains:r==null?void 0:r.chains,data:i,status:"connected"})),e=!0;break}return e||this.setState(r=>({...r,data:void 0,status:"disconnected"})),a0(this,Cc,!1),this.data}getProvider({bust:t,chainId:e}={}){let r=this.providers.get(e??-1);if(r&&!t)return r;const{provider:n}=this.config;return r=typeof n=="function"?n({chainId:e}):n,this.providers.set(e??-1,r),r}getWebSocketProvider({bust:t,chainId:e}={}){let r=this.webSocketProviders.get(e??-1);if(r&&!t)return r;const{webSocketProvider:n}=this.config;return r=typeof n=="function"?n({chainId:e}):n,r&&this.webSocketProviders.set(e??-1,r),r}setLastUsedConnector(t=null){var e;(e=this.storage)==null||e.setItem("wallet",t)}};Cc=new WeakMap;rf=new WeakMap;xy=new WeakSet;R7=function(){const t=a=>{this.setState(c=>({...c,data:{...c.data,...a}}))},e=()=>{this.clearState()},r=a=>{this.setState(c=>({...c,error:a}))};this.store.subscribe(({connector:a})=>a,(a,c)=>{var l,u,h,b,v,E;(l=c==null?void 0:c.off)==null||l.call(c,"change",t),(u=c==null?void 0:c.off)==null||u.call(c,"disconnect",e),(h=c==null?void 0:c.off)==null||h.call(c,"error",r),a&&((b=a.on)==null||b.call(a,"change",t),(v=a.on)==null||v.call(a,"disconnect",e),(E=a.on)==null||E.call(a,"error",r))});const{provider:n,webSocketProvider:i}=this.config;(typeof n=="function"||typeof i=="function")&&this.store.subscribe(({data:a})=>{var c;return(c=a==null?void 0:a.chain)==null?void 0:c.id},a=>{this.setState(c=>({...c,provider:this.getProvider({bust:!0,chainId:a}),webSocketProvider:this.getWebSocketProvider({bust:!0,chainId:a})}))})};var _y;function ZB(t){const e=new P7(t);return _y=e,e}function jt(){if(!_y)throw new Error("No wagmi client found. Ensure you have set up a client: https://wagmi.sh/react/client");return _y}async function Ey({chainId:t,connector:e}){const r=jt(),n=r.connector;if(n&&e.id===n.id)throw new K7;try{r.setState(s=>({...s,status:"connecting"}));const i=await e.connect({chainId:t});return r.setLastUsedConnector(e.id),r.setState(s=>({...s,connector:e,chains:e==null?void 0:e.chains,data:i,status:"connected"})),r.storage.setItem("connected",!0),{...i,connector:e}}catch(i){throw r.setState(s=>({...s,status:s.connector?"connected":"disconnected"})),i}}async function N7(){const t=jt();t.connector&&await t.connector.disconnect(),t.clearState(),t.storage.removeItem("connected")}var dv=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],D7=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],YB=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokeId",type:"uint256"}],outputs:[]}],QB=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],XB=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],eL=["wei","kwei","mwei","gwei","szabo","finney","ether"];async function tL({address:t,chainId:e,formatUnits:r="ether"}){async function n({abi:i}){const s={address:t,abi:i,chainId:e},[o,a,c,l]=await qp({allowFailure:!1,contracts:[{...s,functionName:"decimals"},{...s,functionName:"name"},{...s,functionName:"symbol"},{...s,functionName:"totalSupply"}]});return{address:t,decimals:o,name:a,symbol:c,totalSupply:{formatted:qt.formatUnits(l,r),value:l}}}try{return await n({abi:dv})}catch(i){if(i instanceof yh){const{name:s,symbol:o,...a}=await n({abi:D7});return{name:qt.parseBytes32String(s),symbol:qt.parseBytes32String(o),...a}}throw i}}function Da({address:t,abi:e,signerOrProvider:r}){return new iv(t,e,r)}async function B7({abi:t,address:e,chainId:r,functionName:n,overrides:i,signer:s,...o}){const a=s??await qo({chainId:r});if(!a)throw new Tn;r&&mh({chainId:r,signer:a});const c=Da({address:e,abi:t,signerOrProvider:a}),l=o.args,u=Ud({contract:c,functionName:n,args:l}),h=c.populateTransaction[u];if(!h)throw new xv({address:e,functionName:u});const b=[...l??[],...i?[i]:[]],v=await h(...b),E=v.gasLimit||await a.estimateGas(v);return{abi:M7({abi:t,functionName:n}),address:e,chainId:r,functionName:n,mode:"prepared",request:{...v,gasLimit:E}}}function Gr({chainId:t}={}){const e=jt();return t&&e.getProvider({chainId:t})||e.provider}function bh({chainId:t}={}){const e=jt();return t&&e.getWebSocketProvider({chainId:t})||e.webSocketProvider}function rL(t,e){const r=jt(),n=async()=>e(Gr(t));return r.subscribe(({provider:s})=>s,n)}function nL(t,e){const r=jt(),n=async()=>e(bh(t));return r.subscribe(({webSocketProvider:s})=>s,n)}async function pv({allowFailure:t=!0,chainId:e,contracts:r,overrides:n}){var u;const i=Gr({chainId:e});if(!i.chains)throw new Sy;const s=i.chains.find(h=>h.id===e)||i.chains[0];if(!s)throw new Sy;if(!((u=s==null?void 0:s.contracts)!=null&&u.multicall3))throw new jd({chain:s});if(typeof(n==null?void 0:n.blockTag)=="number"&&(n==null?void 0:n.blockTag)<(s.contracts.multicall3.blockCreated??0))throw new jd({blockNumber:n==null?void 0:n.blockTag,chain:s});const o=Da({address:s.contracts.multicall3.address,abi:QB,signerOrProvider:i}),c=[r.map(({address:h,abi:b,functionName:v,...E})=>{const{args:D}=E||{},x=Da({address:h,abi:b}),_=D??[],m=Ud({contract:x,functionName:v,args:D});try{x[m]||Dc(`"${m}" is not in the interface for contract "${h}"`);const A=x.interface.encodeFunctionData(m,_);return{target:h,allowFailure:t,callData:A}}catch(w){if(!t)throw w;return{target:h,allowFailure:t,callData:"0x"}}}),...n?[n]:[]];return(await o.aggregate3(...c)).map(({returnData:h,success:b},v)=>{const{address:E,abi:D,functionName:x,..._}=r[v],m=Da({address:E,abi:D}),w=_.args,A=Ud({contract:m,functionName:x,args:w});if(!b){let k;try{m.interface.decodeFunctionResult(A,h)}catch(z){if(k=new Hd({address:E,args:w,chainId:s.id,functionName:A,errorMessage:z.message}),!t)throw k;Dc(k.message)}return null}if(h==="0x"){const k=new _v({address:E,args:w,chainId:s.id,functionName:A});if(!t)throw k;return Dc(k.message),null}try{const k=m.interface.decodeFunctionResult(A,h);return Array.isArray(k)&&k.length===1?k[0]:k}catch(k){const z=new yh({address:E,args:w,chainId:s.id,functionName:A,errorMessage:k.message});if(!t)throw z;return Dc(z.message),null}})}async function gv({address:t,chainId:e,abi:r,functionName:n,overrides:i,...s}){const o=Gr({chainId:e}),a=Da({address:t,abi:r,signerOrProvider:o}),c=s.args,l=Ud({contract:a,functionName:n,args:c}),u=a[l];if(!u)throw new xv({address:t,functionName:l});const h=[...c??[],...i?[i]:[]];return u==null?void 0:u(...h)}async function qp({allowFailure:t=!0,contracts:e,overrides:r}){try{const n=Gr(),i=e.reduce((c,l,u)=>{const h=l.chainId??n.network.chainId;return{...c,[h]:[...c[h]||[],{contract:l,index:u}]}},{}),s=()=>Object.entries(i).map(([c,l])=>pv({allowFailure:t,chainId:parseInt(c),contracts:l.map(({contract:u})=>u),overrides:r}));let o;t?o=(await Promise.allSettled(s())).map(c=>{if(c.status==="fulfilled")return c.value;if(c.reason instanceof jd)throw Dc(c.reason.message),c.reason;return null}).flat():o=(await Promise.all(s())).flat();const a=Object.values(i).map(c=>c.map(({index:l})=>l)).flat();return o.reduce((c,l,u)=>(c&&(c[a[u]]=l),c),[])}catch(n){if(n instanceof yh||n instanceof _v||n instanceof Hd)throw n;const i=()=>e.map(s=>gv({...s,overrides:r}));return t?(await Promise.allSettled(i())).map((s,o)=>{if(s.status==="fulfilled")return s.value;const{address:a,args:c,chainId:l,functionName:u}=e[o],h=new Hd({address:a,functionName:u,chainId:l??1,args:c,errorMessage:s.reason});return Dc(h.message),null}):await Promise.all(i())}}function iL({address:t,abi:e,chainId:r,eventName:n,once:i},s){const o=(...h)=>s(...h);let a;const c=async()=>{a&&(a==null||a.off(n,o));const h=bh({chainId:r})||Gr({chainId:r});a=Da({address:t,abi:e,signerOrProvider:h}),i?a.once(n,o):a.on(n,o)};c();const u=jt().subscribe(({provider:h,webSocketProvider:b})=>({provider:h,webSocketProvider:b}),c,{equalityFn:Wl});return()=>{a==null||a.off(n,o),u()}}async function mv({chainId:t}={}){return await Gr({chainId:t}).getBlockNumber()}function Vp(t,e){const r=VB(e,1);let n;const i=l=>{n&&(n==null||n.off("block",r)),l.on("block",r),n=l},s=bh({chainId:t.chainId})??Gr({chainId:t.chainId});t.listen&&i(s);let o=!0;const c=jt().subscribe(({provider:l,webSocketProvider:u})=>({provider:l,webSocketProvider:u}),async({provider:l,webSocketProvider:u})=>{const h=u??l;t.listen&&!t.chainId&&h&&i(h);const b=await mv({chainId:t.chainId});o&&e(b)},{equalityFn:Wl});return()=>{o=!1,c(),s==null||s.off("block",r),n==null||n.off("block",r)}}function sL(t,e){const r=jt(),n=async()=>e(await pv(t)),i=t.listenToBlock?Vp({listen:!0},n):void 0,s=r.subscribe(({provider:o})=>o,n);return()=>{s(),i==null||i()}}function oL(t,e){const r=jt(),n=async()=>e(await gv(t)),i=t.listenToBlock?Vp({listen:!0},n):void 0,s=r.subscribe(({provider:o})=>o,n);return()=>{s(),i==null||i()}}function aL(t,e){const r=jt(),n=async()=>e(await qp(t)),i=t.listenToBlock?Vp({listen:!0},n):void 0,s=r.subscribe(({provider:o})=>o,n);return()=>{s(),i==null||i()}}async function L7({chainId:t,hash:e}){return Gr({chainId:t}).getTransaction(e)}async function $7({chainId:t,name:e}){const n=await Gr({chainId:t}).resolveName(e);try{return n?qt.getAddress(n):null}catch{return null}}async function F7({address:t,chainId:e}){return await Gr({chainId:e}).getAvatar(t)}async function U7({address:t,chainId:e}){return Gr({chainId:e}).lookupAddress(qt.getAddress(t))}async function cL({chainId:t,name:e}){return await Gr({chainId:t}).getResolver(e)}async function lL({chainId:t,request:e,signer:r}){const n=r??await qo({chainId:t});if(!n)throw new Tn;t&&mh({chainId:t,signer:n});const[i,s]=await Promise.all([qt.isAddress(e.to)?Promise.resolve(e.to):$7({name:e.to}),e.gasLimit?Promise.resolve(e.gasLimit):n.estimateGas(e)]);if(!i)throw new Error("Could not resolve ENS name");return{...t?{chainId:t}:{},request:{...e,gasLimit:s,to:i},mode:"prepared"}}async function j7({chainId:t,mode:e,request:r}){var i;const n=await qo();if(!n)throw new Tn;if(e==="prepared"){if(!r.gasLimit)throw new Error("`gasLimit` is required");if(!r.to)throw new Error("`to` is required")}t&&mh({chainId:t,signer:n});try{const s=(i=n.connectUnchecked)==null?void 0:i.call(n),{hash:o,wait:a}=await(s??n).sendTransaction(r);return{hash:o,wait:a}}catch(s){throw s.code===4001||s.code==="ACTION_REJECTED"?new yi(s):s}}async function uL({chainId:t,formatUnits:e="wei"}={}){const n=await Gr({chainId:t}).getFeeData(),i={gasPrice:n.gasPrice?qt.formatUnits(n.gasPrice,e):null,maxFeePerGas:n.maxFeePerGas?qt.formatUnits(n.maxFeePerGas,e):null,maxPriorityFeePerGas:n.maxPriorityFeePerGas?qt.formatUnits(n.maxPriorityFeePerGas,e):null};return{...n,formatted:i}}async function H7({chainId:t,confirmations:e=1,hash:r,onSpeedUp:n,timeout:i=0}){var l;const s=Gr({chainId:t}),[o,a]=await Promise.all([mv(),L7({hash:r})]);let c=null;e!==0&&(a!=null&&a.to)&&(c={data:a.data,from:a.from,nonce:a.nonce,startBlock:o,to:a.to,value:a.value});try{const u=await s._waitForTransaction(r,e,i,c);if(u.status===0){const h=await s.call(u,u.blockNumber),b=qt.toUtf8String(`0x${h.substring(138)}`);throw new Error(b)}return u}catch(u){if((u==null?void 0:u.reason)==="repriced")return n==null||n(u.replacement),H7({hash:(l=u.replacement)==null?void 0:l.hash,confirmations:e,timeout:i});throw u}}function fL(t,e){let r;const n=a=>{r&&(r==null||r.off("pending",e)),a.on("pending",e),r=a},i=bh({chainId:t.chainId})??Gr({chainId:t.chainId});n(i);const o=jt().subscribe(({provider:a,webSocketProvider:c})=>({provider:a,webSocketProvider:c}),async({provider:a,webSocketProvider:c})=>{const l=c??a;!t.chainId&&l&&n(l)},{equalityFn:Wl});return()=>{o(),i==null||i.off("pending",e),r==null||r.off("pending",e)}}async function hL(t){const e=await qo();if(!e)throw new Tn;t.chainId&&mh({chainId:t.chainId,signer:e});let r;return t.mode==="prepared"?r=t.request:r=(await B7({address:t.address,args:t.args,chainId:t.chainId,abi:t.abi,functionName:t.functionName,overrides:t.overrides})).request,await j7({request:r,mode:"prepared"})}async function z7({address:t,chainId:e,formatUnits:r,token:n}){const i=jt(),s=Gr({chainId:e});if(n){const l=async({abi:u})=>{const h={abi:u,address:n,chainId:e},[b,v,E]=await qp({allowFailure:!1,contracts:[{...h,functionName:"balanceOf",args:[t]},{...h,functionName:"decimals"},{...h,functionName:"symbol"}]});return{decimals:v,formatted:qt.formatUnits(b??"0",r??v),symbol:E,value:b}};try{return await l({abi:dv})}catch(u){if(u instanceof yh){const{symbol:h,...b}=await l({abi:D7});return{symbol:qt.parseBytes32String(h),...b}}throw u}}const o=[...i.provider.chains||[],...i.chains??[]],a=await s.getBalance(t),c=o.find(l=>l.id===s.network.chainId);return{decimals:(c==null?void 0:c.nativeCurrency.decimals)??18,formatted:qt.formatUnits(a??"0",r??"ether"),symbol:(c==null?void 0:c.nativeCurrency.symbol)??"ETH",value:a}}async function qo({chainId:t}={}){var n,i;return await((i=(n=jt().connector)==null?void 0:n.getSigner)==null?void 0:i.call(n,{chainId:t}))||null}function bv(){const{data:t,connector:e,status:r}=jt();switch(r){case"connected":return{address:t==null?void 0:t.account,connector:e,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:r};case"reconnecting":return{address:t==null?void 0:t.account,connector:e,isConnected:!!(t!=null&&t.account),isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:r};case"connecting":return{address:t==null?void 0:t.account,connector:e,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:r};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:r}}}function Gp(){var i,s,o;const t=jt(),e=(s=(i=t.data)==null?void 0:i.chain)==null?void 0:s.id,r=t.chains??[],n=[...t.provider.chains||[],...r].find(a=>a.id===e)??{id:e,name:`Chain ${e}`,network:`${e}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:e?{...n,...(o=t.data)==null?void 0:o.chain,id:e}:void 0,chains:r}}async function dL(t){try{const e=await qo();if(!e)throw new Tn;return await e.signMessage(t.message)}catch(e){throw e.code===4001||e.code==="ACTION_REJECTED"?new yi(e):e}}async function pL({domain:t,types:e,value:r}){const n=await qo();if(!n)throw new Tn;const{chainId:i}=t,s=i?Vs(i):void 0;s&&mh({chainId:s,signer:n});const o=Object.entries(e).filter(([a])=>a!=="EIP712Domain").reduce((a,[c,l])=>(a[c]=l.filter(u=>u.type!=="EIP712Domain"),a),{});try{return await n._signTypedData(t,o,r)}catch(a){throw a.code===4001||a.code==="ACTION_REJECTED"?new yi(a):a}}async function W7({chainId:t}){const{connector:e}=jt();if(!e)throw new Tn;if(!e.switchChain)throw new Z7({connector:e});return e.switchChain(t)}function q7(t,{selector:e=r=>r}={}){const r=jt(),n=()=>t(bv());return r.subscribe(({data:s,connector:o,status:a})=>e({address:s==null?void 0:s.account,connector:o,status:a}),n,{equalityFn:Wl})}function V7(t,{selector:e=r=>r}={}){const r=jt(),n=()=>t(Gp());return r.subscribe(({data:s,chains:o})=>{var a;return e({chainId:(a=s==null?void 0:s.chain)==null?void 0:a.id,chains:o})},n,{equalityFn:Wl})}function gL({chainId:t},e){const r=jt(),n=async()=>{const s=await qo({chainId:t});return jt().connector?e(s):e(null)};return r.subscribe(({data:s,connector:o})=>{var a;return{account:s==null?void 0:s.account,chainId:(a=s==null?void 0:s.chain)==null?void 0:a.id,connector:o}},n,{equalityFn:Wl})}var yv=class extends Error{constructor(t,e){const{cause:r,code:n,data:i}=e;if(!Number.isInteger(n))throw new Error('"code" must be an integer.');if(!t||typeof t!="string")throw new Error('"message" must be a nonempty string.');super(t),this.cause=r,this.code=n,this.data=i}},vv=class extends yv{constructor(t,e){const{cause:r,code:n,data:i}=e;if(!(Number.isInteger(n)&&n>=1e3&&n<=4999))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,{cause:r,code:n,data:i})}},wv=class extends Error{constructor(){super(...arguments),this.name="AddChainError",this.message="Error adding chain"}},jd=class extends Error{constructor({blockNumber:t,chain:e}){super(`Chain "${e.name}" does not support multicall${t?` on block ${t}`:""}.`),this.name="ChainDoesNotSupportMulticall"}},G7=class extends Error{constructor({activeChain:t,targetChain:e}){super(`Chain mismatch: Expected "${e}", received "${t}".`),this.name="ChainMismatchError"}},Kp=class extends Error{constructor({chainId:t,connectorId:e}){super(`Chain "${t}" not configured for connector "${e}".`),this.name="ChainNotConfigured"}},K7=class extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}},Tn=class extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}},xv=class extends Error{constructor({address:t,chainId:e,functionName:r}){var a;const{chains:n,network:i}=Gr(),s=n==null?void 0:n.find(({id:c})=>c===(e||i.chainId)),o=(a=s==null?void 0:s.blockExplorers)==null?void 0:a.default;super([`Function "${r}" on contract "${t}" does not exist.`,...o?["",`${o==null?void 0:o.name}: ${o==null?void 0:o.url}/address/${t}#readContract`]:[]].join(`
`)),this.name="ContractMethodDoesNotExistError"}},_v=class extends Error{constructor({address:t,args:e,chainId:r,functionName:n}){super(["Contract read returned an empty response. This could be due to any of the following:",`- The contract does not have the function "${n}",`,"- The parameters passed to the contract function may be invalid, or","- The address is not a contract.","","Config:",JSON.stringify({address:t,abi:"...",functionName:n,chainId:r,args:e},null,2)].join(`
`)),this.name="ContractMethodNoResultError"}},Hd=class extends Error{constructor({address:t,args:e,chainId:r,functionName:n,errorMessage:i}){super(["Contract method reverted with an error.","","Config:",JSON.stringify({address:t,abi:"...",functionName:n,chainId:r,args:e},null,2),"",`Details: ${i}`].join(`
`)),this.name="ContractMethodRevertedError"}},yh=class extends Error{constructor({address:t,args:e,chainId:r,functionName:n,errorMessage:i}){super(["Failed to decode contract function result.","","Config:",JSON.stringify({address:t,abi:"...",functionName:n,chainId:r,args:e},null,2),"",`Details: ${i}`].join(`
`)),this.name="ContractResultDecodeError"}},Sy=class extends Error{constructor(){super(...arguments),this.name="ProviderChainsNotFound",this.message=["No chains were found on the wagmi provider. Some functions that require a chain may not work.","","It is recommended to add a list of chains to the provider in `createClient`.","","Example:","","```","import { getDefaultProvider } from 'ethers'","import { chain, createClient } from 'wagmi'","","createClient({","  provider: Object.assign(getDefaultProvider(), { chains: [chain.mainnet] })","})","```"].join(`
`)}},J7=class extends yv{constructor(t){super("Resource unavailable",{cause:t,code:-32002}),this.name="ResourceUnavailable"}},Jp=class extends vv{constructor(t){super("Error switching chain",{cause:t,code:4902}),this.name="SwitchChainError"}},Z7=class extends Error{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),this.name="SwitchChainNotSupportedError"}},yi=class extends vv{constructor(t){super("User rejected request",{cause:t,code:4001}),this.name="UserRejectedRequestError"}};const mL=Object.freeze(Object.defineProperty({__proto__:null,AddChainError:wv,ChainDoesNotSupportMulticallError:jd,ChainMismatchError:G7,ChainNotConfiguredError:Kp,Client:P7,Connector:Tp,ConnectorAlreadyConnectedError:K7,ConnectorNotFoundError:Tn,ContractMethodDoesNotExistError:xv,ContractMethodNoResultError:_v,ContractMethodRevertedError:Hd,ContractResultDecodeError:yh,InjectedConnector:hv,ProviderChainsNotFound:Sy,ProviderRpcError:vv,ResourceUnavailableError:J7,RpcError:yv,SwitchChainError:Jp,SwitchChainNotSupportedError:Z7,UserRejectedRequestError:yi,configureChains:qB,connect:Ey,createClient:ZB,createStorage:O7,deepEqual:yy,deserialize:I7,disconnect:N7,erc20ABI:dv,erc4626ABI:XB,erc721ABI:YB,fetchBalance:z7,fetchBlockNumber:mv,fetchEnsAddress:$7,fetchEnsAvatar:F7,fetchEnsName:U7,fetchEnsResolver:cL,fetchFeeData:uL,fetchSigner:qo,fetchToken:tL,fetchTransaction:L7,getAccount:bv,getClient:jt,getContract:Da,getNetwork:Gp,getProvider:Gr,getWebSocketProvider:bh,goerli:L8,mainnet:$8,minimizeContractInterface:M7,multicall:pv,noopStorage:k7,normalizeChainId:Vs,parseContractResult:KB,prepareSendTransaction:lL,prepareWriteContract:B7,readContract:gv,readContracts:qp,sendTransaction:j7,serialize:T7,signMessage:dL,signTypedData:pL,switchNetwork:W7,units:eL,waitForTransaction:H7,watchAccount:q7,watchBlockNumber:Vp,watchContractEvent:iL,watchMulticall:sL,watchNetwork:V7,watchPendingTransactions:fL,watchProvider:rL,watchReadContract:oL,watchReadContracts:aL,watchSigner:gL,watchWebSocketProvider:nL,writeContract:hL},Symbol.toStringTag,{value:"Module"})),bL="modulepreload",yL=function(t){return"/"+t},zx={},ql=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=yL(s),s in zx)return;zx[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":bL,o||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),o)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};var nf,Ic,ud,Ay,vL=class extends Tp{constructor({chains:t,options:e}){super({chains:t,options:{reloadOnDisconnect:!1,...e}}),Vn(this,ud),br(this,"id","coinbaseWallet"),br(this,"name","Coinbase Wallet"),br(this,"ready",!0),Vn(this,nf,void 0),Vn(this,Ic,void 0),br(this,"onAccountsChanged",r=>{r.length===0?this.emit("disconnect"):this.emit("change",{account:qt.getAddress(r[0])})}),br(this,"onChainChanged",r=>{const n=Vs(r),i=this.isChainUnsupported(n);this.emit("change",{chain:{id:n,unsupported:i}})}),br(this,"onDisconnect",()=>{this.emit("disconnect")})}async connect({chainId:t}={}){try{const e=await this.getProvider();e.on("accountsChanged",this.onAccountsChanged),e.on("chainChanged",this.onChainChanged),e.on("disconnect",this.onDisconnect),this.emit("message",{type:"connecting"});const r=await e.enable(),n=qt.getAddress(r[0]);let i=await this.getChainId(),s=this.isChainUnsupported(i);return t&&i!==t&&(i=(await this.switchChain(t)).id,s=this.isChainUnsupported(i)),{account:n,chain:{id:i,unsupported:s},provider:new jf(e)}}catch(e){throw/(user closed modal|accounts received is empty)/i.test(e.message)?new yi(e):e}}async disconnect(){if(!Or(this,Ic))return;const t=await this.getProvider();t.removeListener("accountsChanged",this.onAccountsChanged),t.removeListener("chainChanged",this.onChainChanged),t.removeListener("disconnect",this.onDisconnect),t.disconnect(),t.close()}async getAccount(){const e=await(await this.getProvider()).request({method:"eth_accounts"});return qt.getAddress(e[0])}async getChainId(){const t=await this.getProvider();return Vs(t.chainId)}async getProvider(){var t;if(!Or(this,Ic)){let e=(await ql(()=>Promise.resolve().then(()=>KQ),void 0)).default;typeof e!="function"&&typeof e.default=="function"&&(e=e.default),qs(this,nf,new e(this.options));const r=(t=Or(this,nf).walletExtension)==null?void 0:t.getChainId(),n=this.chains.find(o=>this.options.chainId?o.id===this.options.chainId:o.id===r)||this.chains[0],i=this.options.chainId||(n==null?void 0:n.id),s=this.options.jsonRpcUrl||(n==null?void 0:n.rpcUrls.default.http[0]);qs(this,Ic,Or(this,nf).makeWeb3Provider(s,i))}return Or(this,Ic)}async getSigner({chainId:t}={}){const[e,r]=await Promise.all([this.getProvider(),this.getAccount()]);return new jf(e,t).getSigner(r)}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}async switchChain(t){var n;const e=await this.getProvider(),r=qt.hexValue(t);try{return await e.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),this.chains.find(i=>i.id===t)??{id:t,name:`Chain ${r}`,network:`${r}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(i){const s=this.chains.find(o=>o.id===t);if(!s)throw new Kp({chainId:t,connectorId:this.id});if(i.code===4902)try{return await e.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:s.name,nativeCurrency:s.nativeCurrency,rpcUrls:[((n=s.rpcUrls.public)==null?void 0:n.http[0])??""],blockExplorerUrls:this.getBlockExplorerUrls(s)}]}),s}catch(o){throw ts(this,ud,Ay).call(this,o)?new yi(o):new wv}throw ts(this,ud,Ay).call(this,i)?new yi(i):new Jp(i)}}async watchAsset({address:t,decimals:e=18,image:r,symbol:n}){return(await this.getProvider()).request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,decimals:e,image:r,symbol:n}}})}};nf=new WeakMap;Ic=new WeakMap;ud=new WeakSet;Ay=function(t){return/(user rejected)/i.test(t.message)};var po={namespace:"eip155",methods:["eth_sendTransaction","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain"],events:["accountsChanged","chainChanged"]},Yi,bf,Sa,Cy,Y7,Ev,Q7,fd,Iy,hd,My,dd,Ty,wL=class extends Tp{constructor(t){super(t),Vn(this,Cy),Vn(this,Ev),Vn(this,fd),Vn(this,hd),Vn(this,dd),br(this,"id","walletConnect"),br(this,"name","WalletConnect"),br(this,"ready",!0),Vn(this,Yi,void 0),Vn(this,bf,void 0),Vn(this,Sa,void 0),br(this,"onAccountsChanged",e=>{e.length===0?this.emit("disconnect"):this.emit("change",{account:qt.getAddress(e[0])})}),br(this,"onChainChanged",e=>{const r=Vs(e),n=this.isChainUnsupported(r);this.emit("change",{chain:{id:r,unsupported:n}})}),br(this,"onDisconnect",()=>{this.emit("disconnect")}),br(this,"onDisplayUri",e=>{this.emit("message",{type:"display_uri",data:e})}),this.version==="2"&&(ts(this,fd,Iy).call(this),this.isQrCode&&ts(this,Cy,Y7).call(this))}get isQrCode(){return this.options.qrcode!==!1}get namespacedChains(){return this.chains.map(t=>`${po.namespace}:${t.id}`)}get version(){return"version"in this.options?this.options.version:"1"}async connect({chainId:t}={}){var n,i,s,o;const e=this.version==="1",r=this.version==="2";try{let a=t;if(!a){const v=jt().lastUsedChainId;v&&!this.isChainUnsupported(v)&&(a=v)}const c=await this.getProvider({chainId:a,create:e});if(c.on("accountsChanged",this.onAccountsChanged),c.on("chainChanged",this.onChainChanged),c.on("disconnect",this.onDisconnect),r){c.on("session_delete",this.onDisconnect),c.on("display_uri",this.onDisplayUri);const v=await ts(this,hd,My).call(this);c.session&&!v&&await c.disconnect(),(!c.session||c.session&&!v)&&(await Promise.race([c.connect({namespaces:{[po.namespace]:{methods:po.methods,events:po.events,chains:this.namespacedChains,rpcMap:this.chains.reduce((E,D)=>({...E,[D.id]:D.rpcUrls.default.http[0]}),{})}}}),...this.isQrCode?[new Promise((E,D)=>c.on("display_uri",async x=>{var _,m;await((_=Or(this,Sa))==null?void 0:_.openModal({uri:x})),(m=Or(this,Sa))==null||m.subscribeModal(({open:w})=>{w||D(new Error("user rejected"))})}))]:[]]),this.isQrCode&&((n=Or(this,Sa))==null||n.closeModal()))}setTimeout(()=>this.emit("message",{type:"connecting"}),0);const l=await Promise.race([c.enable(),...e&&this.isQrCode?[new Promise((v,E)=>c.connector.on("disconnect",()=>E(new Error("user rejected"))))]:[]]),u=qt.getAddress(l[0]),h=await this.getChainId(),b=this.isChainUnsupported(h);if(e){const v=((s=(i=c.connector)==null?void 0:i.peerMeta)==null?void 0:s.name)??"";/(imtoken|metamask|omni|rainbow|trust wallet)/i.test(v)&&(this.switchChain=ts(this,dd,Ty))}else this.switchChain=ts(this,dd,Ty);return{account:u,chain:{id:h,unsupported:b},provider:new jf(c)}}catch(a){throw r&&this.isQrCode&&((o=Or(this,Sa))==null||o.closeModal()),/user closed modal|user rejected/i.test(a==null?void 0:a.message)?new yi(a):a}}async disconnect(){const t=await this.getProvider();try{await t.disconnect()}catch(e){if(!/No matching key/i.test(e.message))throw e}t.removeListener("accountsChanged",this.onAccountsChanged),t.removeListener("chainChanged",this.onChainChanged),t.removeListener("disconnect",this.onDisconnect),this.version==="1"&&typeof localStorage<"u"?localStorage.removeItem("walletconnect"):(t.removeListener("session_delete",this.onDisconnect),t.removeListener("display_uri",this.onDisplayUri))}async getAccount(){const t=await this.getProvider();let e;return this.version==="1"?e=t.accounts:e=await t.request({method:"eth_accounts"}),qt.getAddress(e[0])}async getChainId(){var e,r;const t=await this.getProvider();return this.version==="1"?Vs(t.chainId):((r=(e=jt().data)==null?void 0:e.chain)==null?void 0:r.id)??Vs(await t.request({method:"eth_chainId"}))}async getProvider({chainId:t,create:e}={}){var r,n;if(this.options.version==="2")return Or(this,Yi)||await ts(this,fd,Iy).call(this),t&&Or(this,Yi).setDefaultChain(`${po.namespace}:${t}`),Or(this,Yi);if(!Or(this,Yi)||t||e){const i=(r=this.options)!=null&&r.infuraId?{}:this.chains.reduce((o,a)=>({...o,[a.id]:a.rpcUrls.default.http[0]}),{}),s=(await ql(()=>Promise.resolve().then(()=>rie),void 0)).default;return qs(this,Yi,new s({...this.options,chainId:t,rpc:{...i,...(n=this.options)==null?void 0:n.rpc}})),Or(this,Yi)}return Or(this,Yi)}async getSigner({chainId:t}={}){const[e,r]=await Promise.all([this.getProvider({chainId:t}),this.getAccount()]);let n=e;if(this.version==="2"){const i=await this.getChainId();n={...e,async request(s){return await e.request(s,`${po.namespace}:${t??i}`)}}}return new jf(n,t).getSigner(r)}async isAuthorized(){try{const[t,e]=await Promise.all([this.getAccount(),ts(this,hd,My).call(this)]);return!!t&&e}catch{return!1}}};Yi=new WeakMap;bf=new WeakMap;Sa=new WeakMap;Cy=new WeakSet;Y7=async function(){const{Web3Modal:t}=await ql(()=>Promise.resolve().then(()=>cie),void 0),{version:e}=this.options;qs(this,Sa,new t({projectId:e==="2"?this.options.projectId:void 0,standaloneChains:this.namespacedChains}))};Ev=new WeakSet;Q7=async function(){const t=(await ql(()=>Promise.resolve().then(()=>Lfe),void 0)).default;typeof(t==null?void 0:t.init)=="function"&&qs(this,Yi,await t.init(this.options))};fd=new WeakSet;Iy=async function(){return Or(this,bf)||qs(this,bf,ts(this,Ev,Q7).call(this)),Or(this,bf)};hd=new WeakSet;My=async function(){var n,i;const t=await this.getProvider();if(this.version==="1")return!0;const r=(((i=(n=t.namespaces)==null?void 0:n[po.namespace])==null?void 0:i.chains)||[]).map(s=>parseInt(s.split(":")[1]||""));return!this.chains.some(({id:s})=>!r.includes(s))};dd=new WeakSet;Ty=async function(t){const e=await this.getProvider(),r=qt.hexValue(t);try{return await Promise.race([e.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),new Promise(n=>this.on("change",({chain:i})=>{(i==null?void 0:i.id)===t&&n(t)}))]),this.version==="2"&&(e.setDefaultChain(`${po.namespace}:${t}`),this.onChainChanged(t)),this.chains.find(n=>n.id===t)??{id:t,name:`Chain ${r}`,network:`${r}`,nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(n){const i=typeof n=="string"?n:n==null?void 0:n.message;throw/user rejected request/i.test(i)?new yi(n):new Jp(n)}};function xL({priority:t,rpc:e,stallTimeout:r,static:n=!0,weight:i}){return function(s){const o=e(s);return!o||o.http===""?null:{chain:{...s,rpcUrls:{...s.rpcUrls,default:{http:[o.http]}}},provider:()=>{var l,u;const a=n?GD:Wp,c=new a(o.http,{ensAddress:(u=(l=s.contracts)==null?void 0:l.ensRegistry)==null?void 0:u.address,chainId:s.id,name:s.network});return Object.assign(c,{priority:t,stallTimeout:r,weight:i})},...o.webSocket&&{webSocketProvider:()=>new WD(o.webSocket,s.id)}}}}let _L=class{constructor(e,r){this.wagmi={},this.walletConnectUri="",this.walletConnectVersion=1,this.chains=[],this.namespace="eip155",this.disconnect=N7,this.getAccount=bv,this.watchAccount=q7,this.fetchBalance=z7,this.getNetwork=Gp,this.watchNetwork=V7,this.switchNetwork=W7,this.fetchEnsName=U7,this.fetchEnsAvatar=F7;var n;const i=e.connectors.find(s=>s.id==="walletConnect");if(!i)throw new Error("WalletConnectConnector is required");this.wagmi=e,this.chains=r,this.walletConnectVersion=Number((n=i.options.version)!=null?n:"1")}getDefaultConnectorChainId(e){return e.chains[0].id}async connectWalletConnectV1(e,r){return new Promise((n,i)=>{e.once("message",async({type:s})=>{if(s==="connecting"){const o=(await e.getProvider()).connector;this.walletConnectUri=o.uri,r(o.uri),o.on("disconnect",()=>{i(Error())}),o.on("connect",()=>{n()})}})})}async connectWalletConnectV2(e,r){const n=await e.getProvider();let i="";return new Promise(s=>{n.once("display_uri",o=>{this.walletConnectUri=o,i=o,r(o)}),n.once("connect",()=>{i===this.walletConnectUri&&s()})})}getDefaultChain(){return this.chains.find(r=>r.id===1)??this.chains[0]}getConnectorById(e){const r=this.wagmi.connectors.find(n=>n.id===e);if(!r)throw new Error(`Connector for id ${e} was not found`);return r}getConnectors(){return this.wagmi.connectors.filter(e=>e.id!=="walletConnect")}async connectWalletConnect(e,r){const n=this.getConnectorById("walletConnect"),i=this.walletConnectVersion===1,s=r??this.getDefaultConnectorChainId(n),o=i?this.connectWalletConnectV1.bind(this):this.connectWalletConnectV2.bind(this),[a]=await Promise.all([Ey({connector:n,chainId:s}),o(n,e)]);return a}async connectConnector(e,r){const n=this.getConnectorById(e),i=r??this.getDefaultConnectorChainId(n);return await Ey({connector:n,chainId:i})}};const EL="eip155";function SL({projectId:t}){return xL({rpc:e=>{var r;return[1,3,4,5,10,42,56,69,97,100,137,420,42161,42220,43114,80001,421611,421613,1313161554,11297108109].includes(e.id)?{http:`https://rpc.walletconnect.com/v1/?chainId=${EL}:${e.id}&projectId=${t}`}:{http:e.rpcUrls.default.http[0],webSocket:(r=e.rpcUrls.default.webSocket)==null?void 0:r[0]}}})}function AL({appName:t,chains:e,version:r,projectId:n}){const i=r??"1";if(i==="2"&&!n)throw new Error("modalConnectors() requires projectId for WalletConnect version 2");return[new wL({chains:e,options:{qrcode:!1,version:i,projectId:n}}),new hv({chains:e,options:{shimDisconnect:!0,shimChainChangedDisconnect:!0}}),new vL({chains:e,options:{appName:t}})]}const CL=Symbol(),Wx=Object.getPrototypeOf,ky=new WeakMap,IL=t=>t&&(ky.has(t)?ky.get(t):Wx(t)===Object.prototype||Wx(t)===Array.prototype),ML=t=>IL(t)&&t[CL]||null,qx=(t,e=!0)=>{ky.set(t,e)},Kg=t=>typeof t=="object"&&t!==null,Aa=new WeakMap,y0=new WeakSet,TL=(t=Object.is,e=(l,u)=>new Proxy(l,u),r=l=>Kg(l)&&!y0.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,u,h=n)=>{const b=i.get(l);if((b==null?void 0:b[0])===u)return b[1];const v=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return qx(v,!0),i.set(l,[u,v]),Reflect.ownKeys(l).forEach(E=>{const D=Reflect.get(l,E);y0.has(D)?(qx(D,!1),v[E]=D):D instanceof Promise?Object.defineProperty(v,E,{get(){return h(D)}}):Aa.has(D)?v[E]=OL(D,h):v[E]=D}),Object.freeze(v)},o=new WeakMap,a=[1,1],c=l=>{if(!Kg(l))throw new Error("object required");const u=o.get(l);if(u)return u;let h=a[0];const b=new Set,v=(re,W=++a[0])=>{h!==W&&(h=W,b.forEach(y=>y(re,W)))};let E=a[1];const D=(re=++a[1])=>(E!==re&&!b.size&&(E=re,_.forEach(([W])=>{const y=W[1](re);y>h&&(h=y)})),h),x=re=>(W,y)=>{const R=[...W];R[1]=[re,...R[1]],v(R,y)},_=new Map,m=(re,W)=>{if(({VITE_PROJECT_ID:"1ef970e0c9b7fb9bbed0f4388939d3f7",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&_.has(re))throw new Error("prop listener already exists");if(b.size){const y=W[3](x(re));_.set(re,[W,y])}else _.set(re,[W])},w=re=>{var W;const y=_.get(re);y&&(_.delete(re),(W=y[1])==null||W.call(y))},A=re=>(b.add(re),b.size===1&&_.forEach(([y,R],I)=>{if(({VITE_PROJECT_ID:"1ef970e0c9b7fb9bbed0f4388939d3f7",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&R)throw new Error("remove already exists");const f=y[3](x(I));_.set(I,[y,f])}),()=>{b.delete(re),b.size===0&&_.forEach(([y,R],I)=>{R&&(R(),_.set(I,[y]))})}),k=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),S=e(k,{deleteProperty(re,W){const y=Reflect.get(re,W);w(W);const R=Reflect.deleteProperty(re,W);return R&&v(["delete",[W],y]),R},set(re,W,y,R){var I;const f=Reflect.has(re,W),p=Reflect.get(re,W,R);if(f&&t(p,y))return!0;w(W),Kg(y)&&(y=ML(y)||y);let T=y;if(!((I=Object.getOwnPropertyDescriptor(re,W))!=null&&I.set))if(y instanceof Promise)y.then(M=>{y.status="fulfilled",y.value=M,v(["resolve",[W],M])}).catch(M=>{y.status="rejected",y.reason=M,v(["reject",[W],M])});else{!Aa.has(y)&&r(y)&&(T=Vo(y));const M=!y0.has(T)&&Aa.get(T);M&&m(W,M)}return Reflect.set(re,W,T,R),v(["set",[W],y,p]),!0}});o.set(l,S);const H=[k,D,s,A];return Aa.set(S,H),Reflect.ownKeys(l).forEach(re=>{const W=Object.getOwnPropertyDescriptor(l,re);W.get||W.set?Object.defineProperty(k,re,W):S[re]=l[re]}),S})=>[c,Aa,y0,t,e,r,n,i,s,o,a],[kL]=TL();function Vo(t={}){return kL(t)}function vh(t,e,r){const n=Aa.get(t);({VITE_PROJECT_ID:"1ef970e0c9b7fb9bbed0f4388939d3f7",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[3];let a=!1;const l=o(u=>{if(s.push(u),r){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function OL(t,e){const r=Aa.get(t);({VITE_PROJECT_ID:"1ef970e0c9b7fb9bbed0f4388939d3f7",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&!r&&console.warn("Please use proxy object");const[n,i,s]=r;return s(n,i(),e)}var Vl={},wh={};wh.byteLength=NL;wh.toByteArray=BL;wh.fromByteArray=FL;var as=[],hi=[],RL=typeof Uint8Array<"u"?Uint8Array:Array,Jg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var fc=0,PL=Jg.length;fc<PL;++fc)as[fc]=Jg[fc],hi[Jg.charCodeAt(fc)]=fc;hi["-".charCodeAt(0)]=62;hi["_".charCodeAt(0)]=63;function X7(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function NL(t){var e=X7(t),r=e[0],n=e[1];return(r+n)*3/4-n}function DL(t,e,r){return(e+r)*3/4-r}function BL(t){var e,r=X7(t),n=r[0],i=r[1],s=new RL(DL(t,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=hi[t.charCodeAt(c)]<<18|hi[t.charCodeAt(c+1)]<<12|hi[t.charCodeAt(c+2)]<<6|hi[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=hi[t.charCodeAt(c)]<<2|hi[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=hi[t.charCodeAt(c)]<<10|hi[t.charCodeAt(c+1)]<<4|hi[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function LL(t){return as[t>>18&63]+as[t>>12&63]+as[t>>6&63]+as[t&63]}function $L(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(LL(n));return i.join("")}function FL(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push($L(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(as[e>>2]+as[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(as[e>>10]+as[e>>4&63]+as[e<<2&63]+"=")),i.join("")}var Zp={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Zp.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,l=c>>1,u=-7,h=r?i-1:0,b=r?-1:1,v=t[e+h];for(h+=b,s=v&(1<<-u)-1,v>>=-u,u+=a;u>0;s=s*256+t[e+h],h+=b,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=o*256+t[e+h],h+=b,u-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(v?-1:1)*o*Math.pow(2,s-n)};Zp.write=function(t,e,r,n,i,s){var o,a,c,l=s*8-i-1,u=(1<<l)-1,h=u>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:s-1,E=n?1:-1,D=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+h>=1?e+=b/c:e+=b*Math.pow(2,1-h),e*c>=2&&(o++,c/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*c-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+v]=a&255,v+=E,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[r+v]=o&255,v+=E,o/=256,l-=8);t[r+v-E]|=D*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=wh,r=Zp,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const J=new Uint8Array(1),$={foo:function(){return 42}};return Object.setPrototypeOf($,Uint8Array.prototype),Object.setPrototypeOf(J,$),J.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(J){if(J>i)throw new RangeError('The value "'+J+'" is invalid for option "size"');const $=new Uint8Array(J);return Object.setPrototypeOf($,a.prototype),$}function a(J,$,F){if(typeof J=="number"){if(typeof $=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(J)}return c(J,$,F)}a.poolSize=8192;function c(J,$,F){if(typeof J=="string")return b(J,$);if(ArrayBuffer.isView(J))return E(J);if(J==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J);if(de(J,ArrayBuffer)||J&&de(J.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(de(J,SharedArrayBuffer)||J&&de(J.buffer,SharedArrayBuffer)))return D(J,$,F);if(typeof J=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const te=J.valueOf&&J.valueOf();if(te!=null&&te!==J)return a.from(te,$,F);const se=x(J);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof J[Symbol.toPrimitive]=="function")return a.from(J[Symbol.toPrimitive]("string"),$,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J)}a.from=function(J,$,F){return c(J,$,F)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(J){if(typeof J!="number")throw new TypeError('"size" argument must be of type number');if(J<0)throw new RangeError('The value "'+J+'" is invalid for option "size"')}function u(J,$,F){return l(J),J<=0?o(J):$!==void 0?typeof F=="string"?o(J).fill($,F):o(J).fill($):o(J)}a.alloc=function(J,$,F){return u(J,$,F)};function h(J){return l(J),o(J<0?0:_(J)|0)}a.allocUnsafe=function(J){return h(J)},a.allocUnsafeSlow=function(J){return h(J)};function b(J,$){if((typeof $!="string"||$==="")&&($="utf8"),!a.isEncoding($))throw new TypeError("Unknown encoding: "+$);const F=w(J,$)|0;let te=o(F);const se=te.write(J,$);return se!==F&&(te=te.slice(0,se)),te}function v(J){const $=J.length<0?0:_(J.length)|0,F=o($);for(let te=0;te<$;te+=1)F[te]=J[te]&255;return F}function E(J){if(de(J,Uint8Array)){const $=new Uint8Array(J);return D($.buffer,$.byteOffset,$.byteLength)}return v(J)}function D(J,$,F){if($<0||J.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(J.byteLength<$+(F||0))throw new RangeError('"length" is outside of buffer bounds');let te;return $===void 0&&F===void 0?te=new Uint8Array(J):F===void 0?te=new Uint8Array(J,$):te=new Uint8Array(J,$,F),Object.setPrototypeOf(te,a.prototype),te}function x(J){if(a.isBuffer(J)){const $=_(J.length)|0,F=o($);return F.length===0||J.copy(F,0,0,$),F}if(J.length!==void 0)return typeof J.length!="number"||ge(J.length)?o(0):v(J);if(J.type==="Buffer"&&Array.isArray(J.data))return v(J.data)}function _(J){if(J>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return J|0}function m(J){return+J!=J&&(J=0),a.alloc(+J)}a.isBuffer=function($){return $!=null&&$._isBuffer===!0&&$!==a.prototype},a.compare=function($,F){if(de($,Uint8Array)&&($=a.from($,$.offset,$.byteLength)),de(F,Uint8Array)&&(F=a.from(F,F.offset,F.byteLength)),!a.isBuffer($)||!a.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===F)return 0;let te=$.length,se=F.length;for(let oe=0,le=Math.min(te,se);oe<le;++oe)if($[oe]!==F[oe]){te=$[oe],se=F[oe];break}return te<se?-1:se<te?1:0},a.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function($,F){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if($.length===0)return a.alloc(0);let te;if(F===void 0)for(F=0,te=0;te<$.length;++te)F+=$[te].length;const se=a.allocUnsafe(F);let oe=0;for(te=0;te<$.length;++te){let le=$[te];if(de(le,Uint8Array))oe+le.length>se.length?(a.isBuffer(le)||(le=a.from(le)),le.copy(se,oe)):Uint8Array.prototype.set.call(se,le,oe);else if(a.isBuffer(le))le.copy(se,oe);else throw new TypeError('"list" argument must be an Array of Buffers');oe+=le.length}return se};function w(J,$){if(a.isBuffer(J))return J.length;if(ArrayBuffer.isView(J)||de(J,ArrayBuffer))return J.byteLength;if(typeof J!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof J);const F=J.length,te=arguments.length>2&&arguments[2]===!0;if(!te&&F===0)return 0;let se=!1;for(;;)switch($){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return j(J).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return ie(J).length;default:if(se)return te?-1:j(J).length;$=(""+$).toLowerCase(),se=!0}}a.byteLength=w;function A(J,$,F){let te=!1;if(($===void 0||$<0)&&($=0),$>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,$>>>=0,F<=$))return"";for(J||(J="utf8");;)switch(J){case"hex":return d(this,$,F);case"utf8":case"utf-8":return f(this,$,F);case"ascii":return M(this,$,F);case"latin1":case"binary":return C(this,$,F);case"base64":return I(this,$,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,$,F);default:if(te)throw new TypeError("Unknown encoding: "+J);J=(J+"").toLowerCase(),te=!0}}a.prototype._isBuffer=!0;function k(J,$,F){const te=J[$];J[$]=J[F],J[F]=te}a.prototype.swap16=function(){const $=this.length;if($%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<$;F+=2)k(this,F,F+1);return this},a.prototype.swap32=function(){const $=this.length;if($%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<$;F+=4)k(this,F,F+3),k(this,F+1,F+2);return this},a.prototype.swap64=function(){const $=this.length;if($%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<$;F+=8)k(this,F,F+7),k(this,F+1,F+6),k(this,F+2,F+5),k(this,F+3,F+4);return this},a.prototype.toString=function(){const $=this.length;return $===0?"":arguments.length===0?f(this,0,$):A.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function($){if(!a.isBuffer($))throw new TypeError("Argument must be a Buffer");return this===$?!0:a.compare(this,$)===0},a.prototype.inspect=function(){let $="";const F=t.INSPECT_MAX_BYTES;return $=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&($+=" ... "),"<Buffer "+$+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function($,F,te,se,oe){if(de($,Uint8Array)&&($=a.from($,$.offset,$.byteLength)),!a.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(F===void 0&&(F=0),te===void 0&&(te=$?$.length:0),se===void 0&&(se=0),oe===void 0&&(oe=this.length),F<0||te>$.length||se<0||oe>this.length)throw new RangeError("out of range index");if(se>=oe&&F>=te)return 0;if(se>=oe)return-1;if(F>=te)return 1;if(F>>>=0,te>>>=0,se>>>=0,oe>>>=0,this===$)return 0;let le=oe-se,ke=te-F;const _e=Math.min(le,ke),Ce=this.slice(se,oe),rt=$.slice(F,te);for(let Ie=0;Ie<_e;++Ie)if(Ce[Ie]!==rt[Ie]){le=Ce[Ie],ke=rt[Ie];break}return le<ke?-1:ke<le?1:0};function z(J,$,F,te,se){if(J.length===0)return-1;if(typeof F=="string"?(te=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,ge(F)&&(F=se?0:J.length-1),F<0&&(F=J.length+F),F>=J.length){if(se)return-1;F=J.length-1}else if(F<0)if(se)F=0;else return-1;if(typeof $=="string"&&($=a.from($,te)),a.isBuffer($))return $.length===0?-1:S(J,$,F,te,se);if(typeof $=="number")return $=$&255,typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call(J,$,F):Uint8Array.prototype.lastIndexOf.call(J,$,F):S(J,[$],F,te,se);throw new TypeError("val must be string, number or Buffer")}function S(J,$,F,te,se){let oe=1,le=J.length,ke=$.length;if(te!==void 0&&(te=String(te).toLowerCase(),te==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if(J.length<2||$.length<2)return-1;oe=2,le/=2,ke/=2,F/=2}function _e(rt,Ie){return oe===1?rt[Ie]:rt.readUInt16BE(Ie*oe)}let Ce;if(se){let rt=-1;for(Ce=F;Ce<le;Ce++)if(_e(J,Ce)===_e($,rt===-1?0:Ce-rt)){if(rt===-1&&(rt=Ce),Ce-rt+1===ke)return rt*oe}else rt!==-1&&(Ce-=Ce-rt),rt=-1}else for(F+ke>le&&(F=le-ke),Ce=F;Ce>=0;Ce--){let rt=!0;for(let Ie=0;Ie<ke;Ie++)if(_e(J,Ce+Ie)!==_e($,Ie)){rt=!1;break}if(rt)return Ce}return-1}a.prototype.includes=function($,F,te){return this.indexOf($,F,te)!==-1},a.prototype.indexOf=function($,F,te){return z(this,$,F,te,!0)},a.prototype.lastIndexOf=function($,F,te){return z(this,$,F,te,!1)};function H(J,$,F,te){F=Number(F)||0;const se=J.length-F;te?(te=Number(te),te>se&&(te=se)):te=se;const oe=$.length;te>oe/2&&(te=oe/2);let le;for(le=0;le<te;++le){const ke=parseInt($.substr(le*2,2),16);if(ge(ke))return le;J[F+le]=ke}return le}function re(J,$,F,te){return fe(j($,J.length-F),J,F,te)}function W(J,$,F,te){return fe(q($),J,F,te)}function y(J,$,F,te){return fe(ie($),J,F,te)}function R(J,$,F,te){return fe(X($,J.length-F),J,F,te)}a.prototype.write=function($,F,te,se){if(F===void 0)se="utf8",te=this.length,F=0;else if(te===void 0&&typeof F=="string")se=F,te=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(te)?(te=te>>>0,se===void 0&&(se="utf8")):(se=te,te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const oe=this.length-F;if((te===void 0||te>oe)&&(te=oe),$.length>0&&(te<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");let le=!1;for(;;)switch(se){case"hex":return H(this,$,F,te);case"utf8":case"utf-8":return re(this,$,F,te);case"ascii":case"latin1":case"binary":return W(this,$,F,te);case"base64":return y(this,$,F,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,$,F,te);default:if(le)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),le=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(J,$,F){return $===0&&F===J.length?e.fromByteArray(J):e.fromByteArray(J.slice($,F))}function f(J,$,F){F=Math.min(J.length,F);const te=[];let se=$;for(;se<F;){const oe=J[se];let le=null,ke=oe>239?4:oe>223?3:oe>191?2:1;if(se+ke<=F){let _e,Ce,rt,Ie;switch(ke){case 1:oe<128&&(le=oe);break;case 2:_e=J[se+1],(_e&192)===128&&(Ie=(oe&31)<<6|_e&63,Ie>127&&(le=Ie));break;case 3:_e=J[se+1],Ce=J[se+2],(_e&192)===128&&(Ce&192)===128&&(Ie=(oe&15)<<12|(_e&63)<<6|Ce&63,Ie>2047&&(Ie<55296||Ie>57343)&&(le=Ie));break;case 4:_e=J[se+1],Ce=J[se+2],rt=J[se+3],(_e&192)===128&&(Ce&192)===128&&(rt&192)===128&&(Ie=(oe&15)<<18|(_e&63)<<12|(Ce&63)<<6|rt&63,Ie>65535&&Ie<1114112&&(le=Ie))}}le===null?(le=65533,ke=1):le>65535&&(le-=65536,te.push(le>>>10&1023|55296),le=56320|le&1023),te.push(le),se+=ke}return T(te)}const p=4096;function T(J){const $=J.length;if($<=p)return String.fromCharCode.apply(String,J);let F="",te=0;for(;te<$;)F+=String.fromCharCode.apply(String,J.slice(te,te+=p));return F}function M(J,$,F){let te="";F=Math.min(J.length,F);for(let se=$;se<F;++se)te+=String.fromCharCode(J[se]&127);return te}function C(J,$,F){let te="";F=Math.min(J.length,F);for(let se=$;se<F;++se)te+=String.fromCharCode(J[se]);return te}function d(J,$,F){const te=J.length;(!$||$<0)&&($=0),(!F||F<0||F>te)&&(F=te);let se="";for(let oe=$;oe<F;++oe)se+=be[J[oe]];return se}function B(J,$,F){const te=J.slice($,F);let se="";for(let oe=0;oe<te.length-1;oe+=2)se+=String.fromCharCode(te[oe]+te[oe+1]*256);return se}a.prototype.slice=function($,F){const te=this.length;$=~~$,F=F===void 0?te:~~F,$<0?($+=te,$<0&&($=0)):$>te&&($=te),F<0?(F+=te,F<0&&(F=0)):F>te&&(F=te),F<$&&(F=$);const se=this.subarray($,F);return Object.setPrototypeOf(se,a.prototype),se};function O(J,$,F){if(J%1!==0||J<0)throw new RangeError("offset is not uint");if(J+$>F)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function($,F,te){$=$>>>0,F=F>>>0,te||O($,F,this.length);let se=this[$],oe=1,le=0;for(;++le<F&&(oe*=256);)se+=this[$+le]*oe;return se},a.prototype.readUintBE=a.prototype.readUIntBE=function($,F,te){$=$>>>0,F=F>>>0,te||O($,F,this.length);let se=this[$+--F],oe=1;for(;F>0&&(oe*=256);)se+=this[$+--F]*oe;return se},a.prototype.readUint8=a.prototype.readUInt8=function($,F){return $=$>>>0,F||O($,1,this.length),this[$]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function($,F){return $=$>>>0,F||O($,2,this.length),this[$]|this[$+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function($,F){return $=$>>>0,F||O($,2,this.length),this[$]<<8|this[$+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function($,F){return $=$>>>0,F||O($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+this[$+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function($,F){return $=$>>>0,F||O($,4,this.length),this[$]*16777216+(this[$+1]<<16|this[$+2]<<8|this[$+3])},a.prototype.readBigUInt64LE=Ae(function($){$=$>>>0,ae($,"offset");const F=this[$],te=this[$+7];(F===void 0||te===void 0)&&ce($,this.length-8);const se=F+this[++$]*2**8+this[++$]*2**16+this[++$]*2**24,oe=this[++$]+this[++$]*2**8+this[++$]*2**16+te*2**24;return BigInt(se)+(BigInt(oe)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ae(function($){$=$>>>0,ae($,"offset");const F=this[$],te=this[$+7];(F===void 0||te===void 0)&&ce($,this.length-8);const se=F*2**24+this[++$]*2**16+this[++$]*2**8+this[++$],oe=this[++$]*2**24+this[++$]*2**16+this[++$]*2**8+te;return(BigInt(se)<<BigInt(32))+BigInt(oe)}),a.prototype.readIntLE=function($,F,te){$=$>>>0,F=F>>>0,te||O($,F,this.length);let se=this[$],oe=1,le=0;for(;++le<F&&(oe*=256);)se+=this[$+le]*oe;return oe*=128,se>=oe&&(se-=Math.pow(2,8*F)),se},a.prototype.readIntBE=function($,F,te){$=$>>>0,F=F>>>0,te||O($,F,this.length);let se=F,oe=1,le=this[$+--se];for(;se>0&&(oe*=256);)le+=this[$+--se]*oe;return oe*=128,le>=oe&&(le-=Math.pow(2,8*F)),le},a.prototype.readInt8=function($,F){return $=$>>>0,F||O($,1,this.length),this[$]&128?(255-this[$]+1)*-1:this[$]},a.prototype.readInt16LE=function($,F){$=$>>>0,F||O($,2,this.length);const te=this[$]|this[$+1]<<8;return te&32768?te|4294901760:te},a.prototype.readInt16BE=function($,F){$=$>>>0,F||O($,2,this.length);const te=this[$+1]|this[$]<<8;return te&32768?te|4294901760:te},a.prototype.readInt32LE=function($,F){return $=$>>>0,F||O($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},a.prototype.readInt32BE=function($,F){return $=$>>>0,F||O($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},a.prototype.readBigInt64LE=Ae(function($){$=$>>>0,ae($,"offset");const F=this[$],te=this[$+7];(F===void 0||te===void 0)&&ce($,this.length-8);const se=this[$+4]+this[$+5]*2**8+this[$+6]*2**16+(te<<24);return(BigInt(se)<<BigInt(32))+BigInt(F+this[++$]*2**8+this[++$]*2**16+this[++$]*2**24)}),a.prototype.readBigInt64BE=Ae(function($){$=$>>>0,ae($,"offset");const F=this[$],te=this[$+7];(F===void 0||te===void 0)&&ce($,this.length-8);const se=(F<<24)+this[++$]*2**16+this[++$]*2**8+this[++$];return(BigInt(se)<<BigInt(32))+BigInt(this[++$]*2**24+this[++$]*2**16+this[++$]*2**8+te)}),a.prototype.readFloatLE=function($,F){return $=$>>>0,F||O($,4,this.length),r.read(this,$,!0,23,4)},a.prototype.readFloatBE=function($,F){return $=$>>>0,F||O($,4,this.length),r.read(this,$,!1,23,4)},a.prototype.readDoubleLE=function($,F){return $=$>>>0,F||O($,8,this.length),r.read(this,$,!0,52,8)},a.prototype.readDoubleBE=function($,F){return $=$>>>0,F||O($,8,this.length),r.read(this,$,!1,52,8)};function g(J,$,F,te,se,oe){if(!a.isBuffer(J))throw new TypeError('"buffer" argument must be a Buffer instance');if($>se||$<oe)throw new RangeError('"value" argument is out of bounds');if(F+te>J.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function($,F,te,se){if($=+$,F=F>>>0,te=te>>>0,!se){const ke=Math.pow(2,8*te)-1;g(this,$,F,te,ke,0)}let oe=1,le=0;for(this[F]=$&255;++le<te&&(oe*=256);)this[F+le]=$/oe&255;return F+te},a.prototype.writeUintBE=a.prototype.writeUIntBE=function($,F,te,se){if($=+$,F=F>>>0,te=te>>>0,!se){const ke=Math.pow(2,8*te)-1;g(this,$,F,te,ke,0)}let oe=te-1,le=1;for(this[F+oe]=$&255;--oe>=0&&(le*=256);)this[F+oe]=$/le&255;return F+te},a.prototype.writeUint8=a.prototype.writeUInt8=function($,F,te){return $=+$,F=F>>>0,te||g(this,$,F,1,255,0),this[F]=$&255,F+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function($,F,te){return $=+$,F=F>>>0,te||g(this,$,F,2,65535,0),this[F]=$&255,this[F+1]=$>>>8,F+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function($,F,te){return $=+$,F=F>>>0,te||g(this,$,F,2,65535,0),this[F]=$>>>8,this[F+1]=$&255,F+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function($,F,te){return $=+$,F=F>>>0,te||g(this,$,F,4,4294967295,0),this[F+3]=$>>>24,this[F+2]=$>>>16,this[F+1]=$>>>8,this[F]=$&255,F+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function($,F,te){return $=+$,F=F>>>0,te||g(this,$,F,4,4294967295,0),this[F]=$>>>24,this[F+1]=$>>>16,this[F+2]=$>>>8,this[F+3]=$&255,F+4};function L(J,$,F,te,se){Z($,te,se,J,F,7);let oe=Number($&BigInt(4294967295));J[F++]=oe,oe=oe>>8,J[F++]=oe,oe=oe>>8,J[F++]=oe,oe=oe>>8,J[F++]=oe;let le=Number($>>BigInt(32)&BigInt(4294967295));return J[F++]=le,le=le>>8,J[F++]=le,le=le>>8,J[F++]=le,le=le>>8,J[F++]=le,F}function Q(J,$,F,te,se){Z($,te,se,J,F,7);let oe=Number($&BigInt(4294967295));J[F+7]=oe,oe=oe>>8,J[F+6]=oe,oe=oe>>8,J[F+5]=oe,oe=oe>>8,J[F+4]=oe;let le=Number($>>BigInt(32)&BigInt(4294967295));return J[F+3]=le,le=le>>8,J[F+2]=le,le=le>>8,J[F+1]=le,le=le>>8,J[F]=le,F+8}a.prototype.writeBigUInt64LE=Ae(function($,F=0){return L(this,$,F,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ae(function($,F=0){return Q(this,$,F,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function($,F,te,se){if($=+$,F=F>>>0,!se){const _e=Math.pow(2,8*te-1);g(this,$,F,te,_e-1,-_e)}let oe=0,le=1,ke=0;for(this[F]=$&255;++oe<te&&(le*=256);)$<0&&ke===0&&this[F+oe-1]!==0&&(ke=1),this[F+oe]=($/le>>0)-ke&255;return F+te},a.prototype.writeIntBE=function($,F,te,se){if($=+$,F=F>>>0,!se){const _e=Math.pow(2,8*te-1);g(this,$,F,te,_e-1,-_e)}let oe=te-1,le=1,ke=0;for(this[F+oe]=$&255;--oe>=0&&(le*=256);)$<0&&ke===0&&this[F+oe+1]!==0&&(ke=1),this[F+oe]=($/le>>0)-ke&255;return F+te},a.prototype.writeInt8=function($,F,te){return $=+$,F=F>>>0,te||g(this,$,F,1,127,-128),$<0&&($=255+$+1),this[F]=$&255,F+1},a.prototype.writeInt16LE=function($,F,te){return $=+$,F=F>>>0,te||g(this,$,F,2,32767,-32768),this[F]=$&255,this[F+1]=$>>>8,F+2},a.prototype.writeInt16BE=function($,F,te){return $=+$,F=F>>>0,te||g(this,$,F,2,32767,-32768),this[F]=$>>>8,this[F+1]=$&255,F+2},a.prototype.writeInt32LE=function($,F,te){return $=+$,F=F>>>0,te||g(this,$,F,4,2147483647,-2147483648),this[F]=$&255,this[F+1]=$>>>8,this[F+2]=$>>>16,this[F+3]=$>>>24,F+4},a.prototype.writeInt32BE=function($,F,te){return $=+$,F=F>>>0,te||g(this,$,F,4,2147483647,-2147483648),$<0&&($=4294967295+$+1),this[F]=$>>>24,this[F+1]=$>>>16,this[F+2]=$>>>8,this[F+3]=$&255,F+4},a.prototype.writeBigInt64LE=Ae(function($,F=0){return L(this,$,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ae(function($,F=0){return Q(this,$,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function P(J,$,F,te,se,oe){if(F+te>J.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function G(J,$,F,te,se){return $=+$,F=F>>>0,se||P(J,$,F,4),r.write(J,$,F,te,23,4),F+4}a.prototype.writeFloatLE=function($,F,te){return G(this,$,F,!0,te)},a.prototype.writeFloatBE=function($,F,te){return G(this,$,F,!1,te)};function V(J,$,F,te,se){return $=+$,F=F>>>0,se||P(J,$,F,8),r.write(J,$,F,te,52,8),F+8}a.prototype.writeDoubleLE=function($,F,te){return V(this,$,F,!0,te)},a.prototype.writeDoubleBE=function($,F,te){return V(this,$,F,!1,te)},a.prototype.copy=function($,F,te,se){if(!a.isBuffer($))throw new TypeError("argument should be a Buffer");if(te||(te=0),!se&&se!==0&&(se=this.length),F>=$.length&&(F=$.length),F||(F=0),se>0&&se<te&&(se=te),se===te||$.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(te<0||te>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),$.length-F<se-te&&(se=$.length-F+te);const oe=se-te;return this===$&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(F,te,se):Uint8Array.prototype.set.call($,this.subarray(te,se),F),oe},a.prototype.fill=function($,F,te,se){if(typeof $=="string"){if(typeof F=="string"?(se=F,F=0,te=this.length):typeof te=="string"&&(se=te,te=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!a.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if($.length===1){const le=$.charCodeAt(0);(se==="utf8"&&le<128||se==="latin1")&&($=le)}}else typeof $=="number"?$=$&255:typeof $=="boolean"&&($=Number($));if(F<0||this.length<F||this.length<te)throw new RangeError("Out of range index");if(te<=F)return this;F=F>>>0,te=te===void 0?this.length:te>>>0,$||($=0);let oe;if(typeof $=="number")for(oe=F;oe<te;++oe)this[oe]=$;else{const le=a.isBuffer($)?$:a.from($,se),ke=le.length;if(ke===0)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(oe=0;oe<te-F;++oe)this[oe+F]=le[oe%ke]}return this};const K={};function Y(J,$,F){K[J]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:$.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${J}]`,this.stack,delete this.name}get code(){return J}set code(se){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:se,writable:!0})}toString(){return`${this.name} [${J}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(J){return J?`${J} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(J,$){return`The "${J}" argument must be of type number. Received type ${typeof $}`},TypeError),Y("ERR_OUT_OF_RANGE",function(J,$,F){let te=`The value of "${J}" is out of range.`,se=F;return Number.isInteger(F)&&Math.abs(F)>2**32?se=N(String(F)):typeof F=="bigint"&&(se=String(F),(F>BigInt(2)**BigInt(32)||F<-(BigInt(2)**BigInt(32)))&&(se=N(se)),se+="n"),te+=` It must be ${$}. Received ${se}`,te},RangeError);function N(J){let $="",F=J.length;const te=J[0]==="-"?1:0;for(;F>=te+4;F-=3)$=`_${J.slice(F-3,F)}${$}`;return`${J.slice(0,F)}${$}`}function U(J,$,F){ae($,"offset"),(J[$]===void 0||J[$+F]===void 0)&&ce($,J.length-(F+1))}function Z(J,$,F,te,se,oe){if(J>F||J<$){const le=typeof $=="bigint"?"n":"";let ke;throw oe>3?$===0||$===BigInt(0)?ke=`>= 0${le} and < 2${le} ** ${(oe+1)*8}${le}`:ke=`>= -(2${le} ** ${(oe+1)*8-1}${le}) and < 2 ** ${(oe+1)*8-1}${le}`:ke=`>= ${$}${le} and <= ${F}${le}`,new K.ERR_OUT_OF_RANGE("value",ke,J)}U(te,se,oe)}function ae(J,$){if(typeof J!="number")throw new K.ERR_INVALID_ARG_TYPE($,"number",J)}function ce(J,$,F){throw Math.floor(J)!==J?(ae(J,F),new K.ERR_OUT_OF_RANGE(F||"offset","an integer",J)):$<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE(F||"offset",`>= ${F?1:0} and <= ${$}`,J)}const pe=/[^+/0-9A-Za-z-_]/g;function ee(J){if(J=J.split("=")[0],J=J.trim().replace(pe,""),J.length<2)return"";for(;J.length%4!==0;)J=J+"=";return J}function j(J,$){$=$||1/0;let F;const te=J.length;let se=null;const oe=[];for(let le=0;le<te;++le){if(F=J.charCodeAt(le),F>55295&&F<57344){if(!se){if(F>56319){($-=3)>-1&&oe.push(239,191,189);continue}else if(le+1===te){($-=3)>-1&&oe.push(239,191,189);continue}se=F;continue}if(F<56320){($-=3)>-1&&oe.push(239,191,189),se=F;continue}F=(se-55296<<10|F-56320)+65536}else se&&($-=3)>-1&&oe.push(239,191,189);if(se=null,F<128){if(($-=1)<0)break;oe.push(F)}else if(F<2048){if(($-=2)<0)break;oe.push(F>>6|192,F&63|128)}else if(F<65536){if(($-=3)<0)break;oe.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if(($-=4)<0)break;oe.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return oe}function q(J){const $=[];for(let F=0;F<J.length;++F)$.push(J.charCodeAt(F)&255);return $}function X(J,$){let F,te,se;const oe=[];for(let le=0;le<J.length&&!(($-=2)<0);++le)F=J.charCodeAt(le),te=F>>8,se=F%256,oe.push(se),oe.push(te);return oe}function ie(J){return e.toByteArray(ee(J))}function fe(J,$,F,te){let se;for(se=0;se<te&&!(se+F>=$.length||se>=J.length);++se)$[se+F]=J[se];return se}function de(J,$){return J instanceof $||J!=null&&J.constructor!=null&&J.constructor.name!=null&&J.constructor.name===$.name}function ge(J){return J!==J}const be=function(){const J="0123456789abcdef",$=new Array(256);for(let F=0;F<16;++F){const te=F*16;for(let se=0;se<16;++se)$[te+se]=J[F]+J[se]}return $}();function Ae(J){return typeof BigInt>"u"?we:J}function we(){throw new Error("BigInt not supported")}})(Vl);const Kt=Vo({selectedChain:void 0,chains:void 0,standaloneChains:void 0,standaloneUri:void 0,address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1,isStandalone:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),Te={state:Kt,subscribe(t){return vh(Kt,()=>t(Kt))},setChains(t){Kt.chains=t},setStandaloneChains(t){Kt.standaloneChains=t},setStandaloneUri(t){Kt.standaloneUri=t},getSelectedChain(){const t=Wt.client().getNetwork().chain;return t&&(Kt.selectedChain=t),Kt.selectedChain},setSelectedChain(t){Kt.selectedChain=t},setIsStandalone(t){Kt.isStandalone=t},setIsCustomDesktop(t){Kt.isCustomDesktop=t},setIsCustomMobile(t){Kt.isCustomMobile=t},getAccount(){const t=Wt.client().getAccount();Kt.address=t.address,Kt.isConnected=t.isConnected},setAddress(t){Kt.address=t},setIsConnected(t){Kt.isConnected=t},setProfileName(t){Kt.profileName=t},setProfileAvatar(t){Kt.profileAvatar=t},setProfileLoading(t){Kt.profileLoading=t},setBalanceLoading(t){Kt.balanceLoading=t},setBalance(t){Kt.balance=t},setIsDataLoaded(t){Kt.isDataLoaded=t},setIsUiLoaded(t){Kt.isUiLoaded=t},resetEnsProfile(){Kt.profileName=void 0,Kt.profileAvatar=void 0},resetBalance(){Kt.balance=void 0},resetAccount(){Kt.address=void 0,Kt.isConnected=!1,Te.resetEnsProfile(),Te.resetBalance()}},_u=Vo({initialized:!1,ethereumClient:void 0}),Wt={setEthereumClient(t){!_u.initialized&&t&&(_u.ethereumClient=t,Te.setChains(t.chains),_u.initialized=!0)},client(){if(_u.ethereumClient)return _u.ethereumClient;throw new Error("ClientCtrl has no client set")}},At={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",isMobile(){return typeof window<"u"?Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return At.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isEmptyObject(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.getOwnPropertyNames(t).length===0&&Object.getOwnPropertySymbols(t).length===0},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,r){if(At.isHttpUrl(t))return this.formatUniversalUrl(t,e,r);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},formatUniversalUrl(t,e,r){if(!At.isHttpUrl(t))return this.formatNativeUrl(t,e,r);let n=t;t.endsWith("/")&&(n=t.slice(0,-1)),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}/wc?uri=${i}`},async wait(t){return new Promise(e=>{setTimeout(e,t)})},openHref(t,e="_self"){window.open(t,e,"noreferrer noopener")},setWalletConnectDeepLink(t,e){localStorage.setItem(At.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))},setWalletConnectAndroidDeepLink(t){const[e]=t.split("?");localStorage.setItem(At.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))},removeWalletConnectDeepLink(){localStorage.removeItem(At.WALLETCONNECT_DEEPLINK_CHOICE)},isNull(t){return t===null},getWalletConnectVersion(){const{isStandalone:t}=Te.state;let e=1;return t||(e=Wt.client().walletConnectVersion),e}};function UL(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const Eu=Vo({projectId:"",themeMode:UL()?"dark":"light",themeColor:"default",themeBackground:At.isMobile()?"themeColor":"gradient",themeZIndex:89,mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,standaloneChains:void 0,enableStandaloneMode:!1,enableNetworkView:!1,enableAccountView:!0,defaultChain:void 0,explorerAllowList:void 0,explorerDenyList:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),Xt={state:Eu,subscribe(t){return vh(Eu,()=>t(Eu))},setConfig(t){var e,r,n;if(Te.setStandaloneChains(t.standaloneChains),Te.setIsStandalone(Boolean((e=t.standaloneChains)==null?void 0:e.length)||Boolean(t.enableStandaloneMode)),Te.setIsCustomMobile(Boolean((r=t.mobileWallets)==null?void 0:r.length)),Te.setIsCustomDesktop(Boolean((n=t.desktopWallets)==null?void 0:n.length)),t.defaultChain)Te.setSelectedChain(t.defaultChain);else if(!Te.state.isStandalone){const i=Wt.client().getDefaultChain();Te.setSelectedChain(i)}Object.assign(Eu,t)},setThemeConfig(t){Object.assign(Eu,t)}},Vx="https://explorer-api.walletconnect.com";function jL(t){const e=Object.fromEntries(Object.entries(t).filter(([r,n])=>typeof n<"u"&&n!==null&&n!=="").map(([r,n])=>[r,n.toString()]));return new URLSearchParams(e).toString()}const v0={async fetchWallets(t,e){const r=jL(e),n=`${Vx}/v3/wallets?projectId=${t}&${r}`;return(await fetch(n)).json()},formatImageUrl(t,e){return`${Vx}/v3/logo/lg/${e}?projectId=${t}`}},ta=Vo({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},previewWallets:[],recomendedWallets:[]});function w0(){const{projectId:t}=Xt.state;if(!t)throw new Error("projectId is required to work with explorer api");return t}const Rr={state:ta,async getPreviewWallets(t){const{listings:e}=await v0.fetchWallets(w0(),t);return ta.previewWallets=Object.values(e),ta.previewWallets},async getRecomendedWallets(){const{listings:t}=await v0.fetchWallets(w0(),{page:1,entries:6});ta.recomendedWallets=Object.values(t)},async getPaginatedWallets(t){const{page:e,search:r}=t,{listings:n,total:i}=await v0.fetchWallets(w0(),t),s=Object.values(n),o=r?"search":"wallets";return ta[o]={listings:[...ta[o].listings,...s],total:i,page:e??1},{listings:s,total:i}},getImageUrl(t){return v0.formatImageUrl(w0(),t)},resetSearch(){ta.search={listings:[],total:0,page:1}}},zn=Vo({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),It={state:zn,subscribe(t){return vh(zn,()=>t(zn))},push(t,e){t!==zn.view&&(zn.view=t,e&&(zn.data=e),zn.history.push(t))},replace(t){zn.view=t,zn.history=[t]},goBack(){if(zn.history.length>1){zn.history.pop();const[t]=zn.history.slice(-1);zn.view=t}}},hc=Vo({open:!1}),Ar={state:hc,subscribe(t){return vh(hc,()=>t(hc))},async open(t){return new Promise(e=>{const{isConnected:r,isStandalone:n,isUiLoaded:i,isDataLoaded:s}=Te.state,{enableNetworkView:o}=Xt.state;if(n?(Te.setStandaloneUri(t==null?void 0:t.uri),Te.setStandaloneChains(t==null?void 0:t.standaloneChains),It.replace("ConnectWallet")):t!=null&&t.route?It.replace(t.route):r?It.replace("Account"):o?It.replace("SelectNetwork"):It.replace("ConnectWallet"),i&&s)hc.open=!0,e();else{const a=setInterval(()=>{Te.state.isUiLoaded&&Te.state.isDataLoaded&&(clearInterval(a),hc.open=!0,e())},200)}})},close(){hc.open=!1}},ra=Vo({open:!1,message:"",variant:"success"}),kn={state:ra,subscribe(t){return vh(ra,()=>t(ra))},openToast(t,e){ra.open=!0,ra.message=t,ra.variant=e},closeToast(){ra.open=!1}};typeof window<"u"&&(window.Buffer||(window.Buffer=Vl.Buffer),window.global||(window.global=window),window.process||(window.process={env:{}}));let HL=class{constructor(e,r){this.openModal=Ar.open,this.closeModal=Ar.close,this.subscribeModal=Ar.subscribe,this.setTheme=Xt.setThemeConfig,this.setDefaultChain=Te.setSelectedChain,Wt.setEthereumClient(r),Xt.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await ql(()=>Promise.resolve().then(()=>XT),void 0);const e=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",e),Te.setIsUiLoaded(!0)}}};const{configureChains:zL,createClient:WL,...qL}=mL;window.getCW=t=>{const{provider:e,chains:r}=zL([Ek],[SL({projectId:t})]),n=AL({appName:"web3Modal",chains:r}),i=WL({autoConnect:!0,connectors:n,provider:e}),s=new _L(i,r);return{web3Modal:new HL({projectId:t},s),wagmiCore:qL}};typeof window.onCWInstanceReady=="function"&&window.onCWInstanceReady(window.getCW);var Sv={},zf={},Yp={};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.walletLogo=void 0;const VL=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Yp.walletLogo=VL;var Qp={};Object.defineProperty(Qp,"__esModule",{value:!0});Qp.ScopedLocalStorage=void 0;class GL{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Qp.ScopedLocalStorage=GL;var al={},Gl={},Cr={},KL={get exports(){return Cr},set exports(t){Cr=t}},Wc=typeof Reflect=="object"?Reflect:null,Gx=Wc&&typeof Wc.apply=="function"?Wc.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},pd;Wc&&typeof Wc.ownKeys=="function"?pd=Wc.ownKeys:Object.getOwnPropertySymbols?pd=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:pd=function(e){return Object.getOwnPropertyNames(e)};function JL(t){console&&console.warn&&console.warn(t)}var e9=Number.isNaN||function(e){return e!==e};function Zt(){Zt.init.call(this)}KL.exports=Zt;Cr.once=XL;Zt.EventEmitter=Zt;Zt.prototype._events=void 0;Zt.prototype._eventsCount=0;Zt.prototype._maxListeners=void 0;var Kx=10;function Xp(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Zt,"defaultMaxListeners",{enumerable:!0,get:function(){return Kx},set:function(t){if(typeof t!="number"||t<0||e9(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Kx=t}});Zt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Zt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||e9(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function t9(t){return t._maxListeners===void 0?Zt.defaultMaxListeners:t._maxListeners}Zt.prototype.getMaxListeners=function(){return t9(this)};Zt.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")Gx(c,this,r);else for(var l=c.length,u=o9(c,l),n=0;n<l;++n)Gx(u[n],this,r);return!0};function r9(t,e,r,n){var i,s,o;if(Xp(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=t9(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,JL(a)}return t}Zt.prototype.addListener=function(e,r){return r9(this,e,r,!1)};Zt.prototype.on=Zt.prototype.addListener;Zt.prototype.prependListener=function(e,r){return r9(this,e,r,!0)};function ZL(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function n9(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=ZL.bind(n);return i.listener=r,n.wrapFn=i,i}Zt.prototype.once=function(e,r){return Xp(r),this.on(e,n9(this,e,r)),this};Zt.prototype.prependOnceListener=function(e,r){return Xp(r),this.prependListener(e,n9(this,e,r)),this};Zt.prototype.removeListener=function(e,r){var n,i,s,o,a;if(Xp(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():YL(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};Zt.prototype.off=Zt.prototype.removeListener;Zt.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function i9(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?QL(i):o9(i,i.length)}Zt.prototype.listeners=function(e){return i9(this,e,!0)};Zt.prototype.rawListeners=function(e){return i9(this,e,!1)};Zt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):s9.call(t,e)};Zt.prototype.listenerCount=s9;function s9(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Zt.prototype.eventNames=function(){return this._eventsCount>0?pd(this._events):[]};function o9(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function YL(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function QL(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function XL(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}a9(t,e,s,{once:!0}),e!=="error"&&e$(t,i,{once:!0})})}function e$(t,e,r){typeof t.on=="function"&&a9(t,"error",e,r)}function a9(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}Object.defineProperty(Gl,"__esModule",{value:!0});const t$=Cr;function Jx(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function r$(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let n$=class extends t$.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Jx(s,this,r);else{const o=s.length,a=r$(s);for(let c=0;c<o;c+=1)Jx(a[c],this,r)}return!0}};Gl.default=n$;var e1={},ko={},c9=Wf;Wf.default=Wf;Wf.stable=f9;Wf.stableStringify=f9;var zd="[...]",l9="[Circular]",za=[],Oa=[];function u9(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Wf(t,e,r,n){typeof n>"u"&&(n=u9()),Oy(t,"",0,[],void 0,0,n);var i;try{Oa.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,h9(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;za.length!==0;){var s=za.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function qc(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),za.push([n,r,e,i])):Oa.push([e,r,t]):(n[r]=t,za.push([n,r,e]))}function Oy(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){qc(l9,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){qc(zd,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){qc(zd,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Oy(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var l=c[a];Oy(t[l],l,a,n,t,s,o)}}n.pop()}}function i$(t,e){return t<e?-1:t>e?1:0}function f9(t,e,r,n){typeof n>"u"&&(n=u9());var i=Ry(t,"",0,[],void 0,0,n)||t,s;try{Oa.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,h9(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;za.length!==0;){var o=za.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Ry(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){qc(l9,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){qc(zd,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){qc(zd,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Ry(t[a],a,a,n,t,s,o);else{var c={},l=Object.keys(t).sort(i$);for(a=0;a<l.length;a++){var u=l[a];Ry(t[u],u,a,n,t,s,o),c[u]=t[u]}if(typeof i<"u")za.push([i,e,t]),i[e]=c;else return c}n.pop()}}function h9(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Oa.length>0)for(var n=0;n<Oa.length;n++){var i=Oa[n];if(i[1]===e&&i[0]===r){r=i[2],Oa.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(ko,"__esModule",{value:!0});ko.EthereumProviderError=ko.EthereumRpcError=void 0;const s$=c9;let d9=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return s$.default(this.serialize(),c$,2)}};ko.EthereumRpcError=d9;let o$=class extends d9{constructor(e,r,n){if(!a$(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}};ko.EthereumProviderError=o$;function a$(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function c$(t,e){if(e!=="[Circular]")return e}var Av={},Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.errorValues=Oo.errorCodes=void 0;Oo.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Oo.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Oo,r=ko,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(b,v=i){if(Number.isInteger(b)){const E=b.toString();if(h(e.errorValues,E))return e.errorValues[E].message;if(l(b))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return v}t.getMessageFromCode=o;function a(b){if(!Number.isInteger(b))return!1;const v=b.toString();return!!(e.errorValues[v]||l(b))}t.isValidCode=a;function c(b,{fallbackError:v=s,shouldIncludeStack:E=!1}={}){var D,x;if(!v||!Number.isInteger(v.code)||typeof v.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(b instanceof r.EthereumRpcError)return b.serialize();const _={};if(b&&typeof b=="object"&&!Array.isArray(b)&&h(b,"code")&&a(b.code)){const w=b;_.code=w.code,w.message&&typeof w.message=="string"?(_.message=w.message,h(w,"data")&&(_.data=w.data)):(_.message=o(_.code),_.data={originalError:u(b)})}else{_.code=v.code;const w=(D=b)===null||D===void 0?void 0:D.message;_.message=w&&typeof w=="string"?w:v.message,_.data={originalError:u(b)}}const m=(x=b)===null||x===void 0?void 0:x.stack;return E&&b&&m&&typeof m=="string"&&(_.stack=m),_}t.serializeError=c;function l(b){return b>=-32099&&b<=-32e3}function u(b){return b&&typeof b=="object"&&!Array.isArray(b)?Object.assign({},b):b}function h(b,v){return Object.prototype.hasOwnProperty.call(b,v)}})(Av);var t1={};Object.defineProperty(t1,"__esModule",{value:!0});t1.ethErrors=void 0;const Cv=ko,p9=Av,on=Oo;t1.ethErrors={rpc:{parse:t=>ai(on.errorCodes.rpc.parse,t),invalidRequest:t=>ai(on.errorCodes.rpc.invalidRequest,t),invalidParams:t=>ai(on.errorCodes.rpc.invalidParams,t),methodNotFound:t=>ai(on.errorCodes.rpc.methodNotFound,t),internal:t=>ai(on.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ai(e,t)},invalidInput:t=>ai(on.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>ai(on.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>ai(on.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>ai(on.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>ai(on.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>ai(on.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Su(on.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Su(on.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Su(on.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Su(on.errorCodes.provider.disconnected,t),chainDisconnected:t=>Su(on.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Cv.EthereumProviderError(e,r,n)}}};function ai(t,e){const[r,n]=g9(e);return new Cv.EthereumRpcError(t,r||p9.getMessageFromCode(t),n)}function Su(t,e){const[r,n]=g9(e);return new Cv.EthereumProviderError(t,r||p9.getMessageFromCode(t),n)}function g9(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=ko;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Av;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=t1;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Oo;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(e1);var Kl={};Object.defineProperty(Kl,"__esModule",{value:!0});Kl.EVENTS=void 0;Kl.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Jl={},ye={},l$={get exports(){return ye},set exports(t){ye=t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(t){var e,r,n,i,s,o,a,c,l,u,h,b,v,E,D,x,_,m,w,A,k,z,S;(function(H){var re=typeof ze=="object"?ze:typeof self=="object"?self:typeof this=="object"?this:{};H(W(re,W(t.exports)));function W(y,R){return y!==re&&(typeof Object.create=="function"?Object.defineProperty(y,"__esModule",{value:!0}):y.__esModule=!0),function(I,f){return y[I]=R?R(I,f):f}}})(function(H){var re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,y){W.__proto__=y}||function(W,y){for(var R in y)y.hasOwnProperty(R)&&(W[R]=y[R])};e=function(W,y){re(W,y);function R(){this.constructor=W}W.prototype=y===null?Object.create(y):(R.prototype=y.prototype,new R)},r=Object.assign||function(W){for(var y,R=1,I=arguments.length;R<I;R++){y=arguments[R];for(var f in y)Object.prototype.hasOwnProperty.call(y,f)&&(W[f]=y[f])}return W},n=function(W,y){var R={};for(var I in W)Object.prototype.hasOwnProperty.call(W,I)&&y.indexOf(I)<0&&(R[I]=W[I]);if(W!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,I=Object.getOwnPropertySymbols(W);f<I.length;f++)y.indexOf(I[f])<0&&Object.prototype.propertyIsEnumerable.call(W,I[f])&&(R[I[f]]=W[I[f]]);return R},i=function(W,y,R,I){var f=arguments.length,p=f<3?y:I===null?I=Object.getOwnPropertyDescriptor(y,R):I,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(W,y,R,I);else for(var M=W.length-1;M>=0;M--)(T=W[M])&&(p=(f<3?T(p):f>3?T(y,R,p):T(y,R))||p);return f>3&&p&&Object.defineProperty(y,R,p),p},s=function(W,y){return function(R,I){y(R,I,W)}},o=function(W,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(W,y)},a=function(W,y,R,I){function f(p){return p instanceof R?p:new R(function(T){T(p)})}return new(R||(R=Promise))(function(p,T){function M(B){try{d(I.next(B))}catch(O){T(O)}}function C(B){try{d(I.throw(B))}catch(O){T(O)}}function d(B){B.done?p(B.value):f(B.value).then(M,C)}d((I=I.apply(W,y||[])).next())})},c=function(W,y){var R={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},I,f,p,T;return T={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function M(d){return function(B){return C([d,B])}}function C(d){if(I)throw new TypeError("Generator is already executing.");for(;R;)try{if(I=1,f&&(p=d[0]&2?f.return:d[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,d[1])).done)return p;switch(f=0,p&&(d=[d[0]&2,p.value]),d[0]){case 0:case 1:p=d;break;case 4:return R.label++,{value:d[1],done:!1};case 5:R.label++,f=d[1],d=[0];continue;case 7:d=R.ops.pop(),R.trys.pop();continue;default:if(p=R.trys,!(p=p.length>0&&p[p.length-1])&&(d[0]===6||d[0]===2)){R=0;continue}if(d[0]===3&&(!p||d[1]>p[0]&&d[1]<p[3])){R.label=d[1];break}if(d[0]===6&&R.label<p[1]){R.label=p[1],p=d;break}if(p&&R.label<p[2]){R.label=p[2],R.ops.push(d);break}p[2]&&R.ops.pop(),R.trys.pop();continue}d=y.call(W,R)}catch(B){d=[6,B],f=0}finally{I=p=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},S=function(W,y,R,I){I===void 0&&(I=R),W[I]=y[R]},l=function(W,y){for(var R in W)R!=="default"&&!y.hasOwnProperty(R)&&(y[R]=W[R])},u=function(W){var y=typeof Symbol=="function"&&Symbol.iterator,R=y&&W[y],I=0;if(R)return R.call(W);if(W&&typeof W.length=="number")return{next:function(){return W&&I>=W.length&&(W=void 0),{value:W&&W[I++],done:!W}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(W,y){var R=typeof Symbol=="function"&&W[Symbol.iterator];if(!R)return W;var I=R.call(W),f,p=[],T;try{for(;(y===void 0||y-- >0)&&!(f=I.next()).done;)p.push(f.value)}catch(M){T={error:M}}finally{try{f&&!f.done&&(R=I.return)&&R.call(I)}finally{if(T)throw T.error}}return p},b=function(){for(var W=[],y=0;y<arguments.length;y++)W=W.concat(h(arguments[y]));return W},v=function(){for(var W=0,y=0,R=arguments.length;y<R;y++)W+=arguments[y].length;for(var I=Array(W),f=0,y=0;y<R;y++)for(var p=arguments[y],T=0,M=p.length;T<M;T++,f++)I[f]=p[T];return I},E=function(W){return this instanceof E?(this.v=W,this):new E(W)},D=function(W,y,R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I=R.apply(W,y||[]),f,p=[];return f={},T("next"),T("throw"),T("return"),f[Symbol.asyncIterator]=function(){return this},f;function T(g){I[g]&&(f[g]=function(L){return new Promise(function(Q,P){p.push([g,L,Q,P])>1||M(g,L)})})}function M(g,L){try{C(I[g](L))}catch(Q){O(p[0][3],Q)}}function C(g){g.value instanceof E?Promise.resolve(g.value.v).then(d,B):O(p[0][2],g)}function d(g){M("next",g)}function B(g){M("throw",g)}function O(g,L){g(L),p.shift(),p.length&&M(p[0][0],p[0][1])}},x=function(W){var y,R;return y={},I("next"),I("throw",function(f){throw f}),I("return"),y[Symbol.iterator]=function(){return this},y;function I(f,p){y[f]=W[f]?function(T){return(R=!R)?{value:E(W[f](T)),done:f==="return"}:p?p(T):T}:p}},_=function(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=W[Symbol.asyncIterator],R;return y?y.call(W):(W=typeof u=="function"?u(W):W[Symbol.iterator](),R={},I("next"),I("throw"),I("return"),R[Symbol.asyncIterator]=function(){return this},R);function I(p){R[p]=W[p]&&function(T){return new Promise(function(M,C){T=W[p](T),f(M,C,T.done,T.value)})}}function f(p,T,M,C){Promise.resolve(C).then(function(d){p({value:d,done:M})},T)}},m=function(W,y){return Object.defineProperty?Object.defineProperty(W,"raw",{value:y}):W.raw=y,W},w=function(W){if(W&&W.__esModule)return W;var y={};if(W!=null)for(var R in W)Object.hasOwnProperty.call(W,R)&&(y[R]=W[R]);return y.default=W,y},A=function(W){return W&&W.__esModule?W:{default:W}},k=function(W,y){if(!y.has(W))throw new TypeError("attempted to get private field on non-instance");return y.get(W)},z=function(W,y,R){if(!y.has(W))throw new TypeError("attempted to set private field on non-instance");return y.set(W,R),R},H("__extends",e),H("__assign",r),H("__rest",n),H("__decorate",i),H("__param",s),H("__metadata",o),H("__awaiter",a),H("__generator",c),H("__exportStar",l),H("__createBinding",S),H("__values",u),H("__read",h),H("__spread",b),H("__spreadArrays",v),H("__await",E),H("__asyncGenerator",D),H("__asyncDelegator",x),H("__asyncValues",_),H("__makeTemplateObject",m),H("__importStar",w),H("__importDefault",A),H("__classPrivateFieldGet",k),H("__classPrivateFieldSet",z)})})(l$);function cl(t){return typeof t=="function"}var Zx=!1,pi={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Zx=t},get useDeprecatedSynchronousErrorHandling(){return Zx}};function Bc(t){setTimeout(function(){throw t},0)}var Wd={closed:!0,next:function(t){},error:function(t){if(pi.useDeprecatedSynchronousErrorHandling)throw t;Bc(t)},complete:function(){}},An=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function Iv(t){return t!==null&&typeof t=="object"}var u$=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),yf=u$,hr=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(cl(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(h){e=h instanceof yf?Yx(h.errors):[h]}}if(An(o))for(var a=-1,l=o.length;++a<l;){var u=o[a];if(Iv(u))try{u.unsubscribe()}catch(b){e=e||[],b instanceof yf?e=e.concat(Yx(b.errors)):e.push(b)}}if(e)throw new yf(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Yx(t){return t.reduce(function(e,r){return e.concat(r instanceof yf?r.errors:r)},[])}var qd=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Ye=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Wd;break;case 1:if(!r){s.destination=Wd;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new Qx(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new Qx(s,r,n,i);break}return s}return e.prototype[qd]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(hr),Qx=function(t){ye.__extends(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return cl(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==Wd&&(c=Object.create(n),cl(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!pi.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=pi.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Bc(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Bc(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!pi.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),pi.useDeprecatedSynchronousErrorHandling)throw i;Bc(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!pi.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return pi.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Bc(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(Ye);function Mv(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof Ye?t=n:t=null}return!0}function f$(t,e,r){if(t){if(t instanceof Ye)return t;if(t[qd])return t[qd]()}return!t&&!e&&!r?new Ye(Wd):new Ye(t,e,r)}var Zl=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Ro(t){return t}function Py(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return m9(t)}function m9(t){return t.length===0?Ro:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var vt=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=f$(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||pi.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),pi.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){pi.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),Mv(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Xx(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Zl]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:m9(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Xx(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function Xx(t){if(t||(t=pi.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var h$=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),mo=h$,b9=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(hr),y9=function(t){ye.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(Ye),qr=function(t){ye.__extends(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[qd]=function(){return new y9(this)},e.prototype.lift=function(r){var n=new e5(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new mo;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new mo;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new mo;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new mo;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new mo;return this.hasError?(r.error(this.thrownError),hr.EMPTY):this.isStopped?(r.complete(),hr.EMPTY):(this.observers.push(r),new b9(this,r))},e.prototype.asObservable=function(){var r=new vt;return r.source=this,r},e.create=function(r,n){return new e5(r,n)},e}(vt),e5=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):hr.EMPTY},e}(qr);function Tv(){return function(e){return e.lift(new d$(e))}}var d$=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new p$(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),p$=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(Ye),v9=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new hr,r.add(this.source.subscribe(new m$(this.getSubject(),this))),r.closed&&(this._connection=null,r=hr.EMPTY)),r},e.prototype.refCount=function(){return Tv()(this)},e}(vt),g$=function(){var t=v9.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),m$=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(y9);function b$(t,e,r,n){return function(i){return i.lift(new y$(t,e,r,n))}}var y$=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new v$(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),v$=function(t){ye.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(l){this.error(l)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new qr,i.set(n,s);var a=new Ny(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Ny(n,s))}catch(l){this.error(l);return}this.add(c.subscribe(new w$(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(Ye),w$=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(Ye),Ny=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new hr,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new x$(s)),n.add(o.subscribe(r)),n},e}(vt),x$=function(t){ye.__extends(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(hr),w9=function(t){ye.__extends(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new mo;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(qr),_$=function(t){ye.__extends(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(hr),xh=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(_$),E$=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(xh),Dy=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),_h=function(t){ye.__extends(e,t);function e(r,n){n===void 0&&(n=Dy.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Dy),S$=function(t){ye.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(_h),x9=new S$(E$),_9=x9,ll=new vt(function(t){return t.complete()});function Yl(t){return t?A$(t):ll}function A$(t){return new vt(function(e){return t.schedule(function(){return e.complete()})})}function Yn(t){return t&&typeof t.schedule=="function"}var E9=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function kv(t,e){return new vt(function(r){var n=new hr,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Eh(t,e){return e?kv(t,e):new vt(E9(t))}function r1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Yn(r)?(t.pop(),kv(t,r)):Eh(t)}function Ov(t,e){return e?new vt(function(r){return e.schedule(C$,0,{error:t,subscriber:r})}):new vt(function(r){return r.error(t)})}function C$(t){var e=t.error,r=t.subscriber;r.error(e)}var By;By||(By={});var Gs=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return r1(this.value);case"E":return Ov(this.error);case"C":return Yl()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function I$(t,e){return e===void 0&&(e=0),function(n){return n.lift(new M$(t,e))}}var M$=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new S9(e,this.scheduler,this.delay))},t}(),S9=function(t){ye.__extends(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new T$(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Gs.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Gs.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Gs.createComplete()),this.unsubscribe()},e}(Ye),T$=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Rv=function(t){ye.__extends(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new k$(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new mo;if(this.isStopped||this.hasError?a=hr.EMPTY:(this.observers.push(r),a=new b9(this,r)),s&&r.add(r=new S9(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||_9).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(qr),k$=function(){function t(e,r){this.time=e,this.value=r}return t}(),Ql=function(t){ye.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),hr.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),hr.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(qr),O$=1,R$=function(){return Promise.resolve()}(),Ly={};function t5(t){return t in Ly?(delete Ly[t],!0):!1}var r5={setImmediate:function(t){var e=O$++;return Ly[e]=!0,R$.then(function(){return t5(e)&&t()}),e},clearImmediate:function(t){t5(t)}},P$=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=r5.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(r5.clearImmediate(n),r.scheduled=void 0)},e}(xh),N$=function(t){ye.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(_h),A9=new N$(P$),gd=A9,C9=new _h(xh),Cn=C9,D$=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(xh),B$=function(t){ye.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(_h),I9=new B$(D$),L$=I9,$$=function(t){ye.__extends(e,t);function e(r,n){r===void 0&&(r=M9),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(_h),M9=function(t){ye.__extends(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(xh);function Qi(){}function F$(t){return!!t&&(t instanceof vt||typeof t.lift=="function"&&typeof t.subscribe=="function")}var U$=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),ul=U$,j$=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Sh=j$,H$=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),T9=H$;function Ei(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new z$(t,e))}}var z$=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new W$(e,this.project,this.thisArg))},t}(),W$=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Ye);function k9(t,e,r){if(e)if(Yn(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return k9(t,r).apply(void 0,n).pipe(Ei(function(s){return An(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new vt(function(c){if(r){var u={args:n,subscriber:c,params:a};return r.schedule(q$,0,u)}else{if(!o){o=new Ql;var l=function(){for(var h=[],b=0;b<arguments.length;b++)h[b]=arguments[b];o.next(h.length<=1?h[0]:h),o.complete()};try{t.apply(s,n.concat([l]))}catch(h){Mv(o)?o.error(h):console.warn(h)}}return o.subscribe(c)}})}}function q$(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Ql;var l=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var b=u.length<=1?u[0]:u;e.add(a.schedule(V$,0,{value:b,subject:c}))};try{s.apply(o,r.concat([l]))}catch(u){c.error(u)}}this.add(c.subscribe(n))}function V$(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function O9(t,e,r){if(e)if(Yn(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return O9(t,r).apply(void 0,n).pipe(Ei(function(s){return An(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new vt(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(G$,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new Ql;var l=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var b=u.shift();if(b){c.error(b);return}c.next(u.length<=1?u[0]:u),c.complete()};try{t.apply(a,n.concat([l]))}catch(u){Mv(c)?c.error(u):console.warn(u)}}return c.subscribe(o)})}}function G$(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new Ql;var l=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var b=u.shift();if(b)e.add(a.schedule(n5,0,{err:b,subject:c}));else{var v=u.length<=1?u[0]:u;e.add(a.schedule(K$,0,{value:v,subject:c}))}};try{s.apply(i,o.concat([l]))}catch(u){this.add(a.schedule(n5,0,{err:u,subject:c}))}}this.add(c.subscribe(n))}function K$(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function n5(t){var e=t.err,r=t.subject;r.error(e)}var Xa=function(t){ye.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(Ye),J$=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Ye),Z$=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Bc),e}};function Y$(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Po=Y$(),Q$=function(t){return function(e){var r=t[Po]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},X$=function(t){return function(e){var r=t[Zl]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},R9=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function P9(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var qf=function(t){if(t&&typeof t[Zl]=="function")return X$(t);if(R9(t))return E9(t);if(P9(t))return Z$(t);if(t&&typeof t[Po]=="function")return Q$(t);var e=Iv(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Xs(t,e,r,n,i){if(i===void 0&&(i=new J$(t,r,n)),!i.closed)return e instanceof vt?e.subscribe(i):qf(e)(i)}var i5={};function eF(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Yn(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&An(t[0])&&(t=t[0]),Eh(t,n).lift(new Pv(r))}var Pv=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new tF(e,this.resultSelector))},t}(),tF=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(i5),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Xs(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===i5?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Xa);function rF(t,e){return new vt(function(r){var n=new hr;return n.add(e.schedule(function(){var i=t[Zl]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function nF(t,e){return new vt(function(r){var n=new hr;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function iF(t,e){if(!t)throw new Error("Iterable cannot be null");return new vt(function(r){var n=new hr,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Po](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function sF(t){return t&&typeof t[Zl]=="function"}function oF(t){return t&&typeof t[Po]=="function"}function N9(t,e){if(t!=null){if(sF(t))return rF(t,e);if(P9(t))return nF(t,e);if(R9(t))return kv(t,e);if(oF(t)||typeof t=="string")return iF(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function ro(t,e){return e?N9(t,e):t instanceof vt?t:new vt(qf(t))}var yr=function(t){ye.__extends(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(Ye),vr=function(t){ye.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(Ye);function wr(t,e){if(!e.closed){if(t instanceof vt)return t.subscribe(e);var r;try{r=qf(t)(e)}catch(n){e.error(n)}return r}}function Wa(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Wa(function(i,s){return ro(t(i,s)).pipe(Ei(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new aF(t,r))})}var aF=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new cF(e,this.project,this.concurrent))},t}(),cF=function(t){ye.__extends(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new yr(this),i=this.destination;i.add(n);var s=wr(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(vr),lF=Wa;function Nv(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Wa(Ro,t)}function D9(){return Nv(1)}function Vf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return D9()(r1.apply(void 0,t))}function Dv(t){return new vt(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?ro(r):Yl();return n.subscribe(e)})}function uF(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(An(r))return x0(r,null);if(Iv(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return x0(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&An(t[0])?t[0]:t,x0(t,null).pipe(Ei(function(s){return i.apply(void 0,s)}))}return x0(t,null)}function x0(t,e){return new vt(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(l){var u=ro(t[l]),h=!1;r.add(u.subscribe({next:function(b){h||(h=!0,o++),i[l]=b},error:function(b){return r.error(b)},complete:function(){s++,(s===n||!h)&&(o===n&&r.next(e?e.reduce(function(b,v,E){return b[v]=i[E],b},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function B9(t,e,r,n){return cl(r)&&(n=r,r=void 0),n?B9(t,e,r).pipe(Ei(function(i){return An(i)?n.apply(void 0,i):n(i)})):new vt(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}L9(t,e,s,i,r)})}function L9(t,e,r,n,i){var s;if(dF(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(hF(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(fF(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var l=0,u=t.length;l<u;l++)L9(t[l],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function fF(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function hF(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function dF(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function $9(t,e,r){return r?$9(t,e).pipe(Ei(function(n){return An(n)?r.apply(void 0,n):r(n)})):new vt(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(cl(e))return function(){return e(i,s)}})}function pF(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Ro,i=a.scheduler}else n===void 0||Yn(n)?(o=t,s=Ro,i=n):(o=t,s=n);return new vt(function(c){var l=o;if(i)return i.schedule(gF,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:l});do{if(e){var u=void 0;try{u=e(l)}catch(b){c.error(b);return}if(!u){c.complete();break}}var h=void 0;try{h=s(l)}catch(b){c.error(b);return}if(c.next(h),c.closed)break;try{l=r(l)}catch(b){c.error(b);return}}while(!0)})}function gF(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function mF(t,e,r){return e===void 0&&(e=ll),r===void 0&&(r=ll),Dv(function(){return t()?e:r})}function fl(t){return!An(t)&&t-parseFloat(t)+1>=0}function bF(t,e){return t===void 0&&(t=0),e===void 0&&(e=Cn),(!fl(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Cn),new vt(function(r){return r.add(e.schedule(yF,t,{subscriber:r,counter:0,period:t})),r})}function yF(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function F9(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Yn(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof vt?t[0]:Nv(r)(Eh(t,n))}var U9=new vt(Qi);function vF(){return U9}function $y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return ll;var r=t[0],n=t.slice(1);return t.length===1&&An(r)?$y.apply(void 0,r):new vt(function(i){var s=function(){return i.add($y.apply(void 0,n).subscribe(i))};return ro(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function wF(t,e){return e?new vt(function(r){var n=Object.keys(t),i=new hr;return i.add(e.schedule(xF,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new vt(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function xF(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function j9(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function No(t,e){return function(n){return n.lift(new _F(t,e))}}var _F=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new EF(e,this.predicate,this.thisArg))},t}(),EF=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(Ye);function SF(t,e,r){return[No(e,r)(new vt(qf(t))),No(j9(e,r))(new vt(qf(t)))]}function H9(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(An(t[0]))t=t[0];else return t[0];return Eh(t,void 0).lift(new AF)}var AF=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new CF(e))},t}(),CF=function(t){ye.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Xs(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Xa);function IF(t,e,r){return t===void 0&&(t=0),new vt(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(MF,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function MF(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function z9(t,e,r){t===void 0&&(t=0);var n=-1;return fl(e)?n=Number(e)<1&&1||Number(e):Yn(e)&&(r=e),Yn(r)||(r=Cn),new vt(function(i){var s=fl(t)?t:+t-r.now();return r.schedule(TF,s,{index:0,period:n,subscriber:i})})}function TF(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function kF(t,e){return new vt(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?ro(i):ll,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function W9(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Eh(t,void 0).lift(new q9(r))}var q9=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new OF(e,this.resultSelector))},t}(),OF=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;An(r)?n.push(new PF(r)):typeof r[Po]=="function"?n.push(new RF(r[Po]())):n.push(new NF(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],l=o.next();if(o.hasCompleted()&&(a=!0),l.done){i.complete();return}c.push(l.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Ye),RF=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),PF=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Po]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),NF=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Po]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return wr(this.observable,new yr(this))},e}(vr);const DF=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:ul,AsyncSubject:Ql,BehaviorSubject:w9,ConnectableObservable:v9,EMPTY:ll,EmptyError:Sh,GroupedObservable:Ny,NEVER:U9,Notification:Gs,get NotificationKind(){return By},ObjectUnsubscribedError:mo,Observable:vt,ReplaySubject:Rv,Scheduler:Dy,Subject:qr,Subscriber:Ye,Subscription:hr,TimeoutError:T9,UnsubscriptionError:yf,VirtualAction:M9,VirtualTimeScheduler:$$,animationFrame:L$,animationFrameScheduler:I9,asap:gd,asapScheduler:A9,async:Cn,asyncScheduler:C9,bindCallback:k9,bindNodeCallback:O9,combineLatest:eF,concat:Vf,config:pi,defer:Dv,empty:Yl,forkJoin:uF,from:ro,fromEvent:B9,fromEventPattern:$9,generate:pF,identity:Ro,iif:mF,interval:bF,isObservable:F$,merge:F9,never:vF,noop:Qi,observable:Zl,of:r1,onErrorResumeNext:$y,pairs:wF,partition:SF,pipe:Py,queue:_9,queueScheduler:x9,race:H9,range:IF,scheduled:N9,throwError:Ov,timer:z9,using:kF,zip:W9},Symbol.toStringTag,{value:"Module"})),Xl=Ht(DF);function V9(t){return function(r){return r.lift(new BF(t))}}var BF=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new LF(e,this.durationSelector))},t}(),LF=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=wr(n,new yr(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(vr);function $F(t,e){return e===void 0&&(e=Cn),V9(function(){return z9(t,e)})}function FF(t){return function(r){return r.lift(new UF(t))}}var UF=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new jF(e,this.closingNotifier))},t}(),jF=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(wr(n,new yr(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(vr);function HF(t,e){return e===void 0&&(e=null),function(n){return n.lift(new zF(t,e))}}var zF=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=WF:this.subscriberClass=qF}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),WF=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(Ye),qF=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var l=o[c];l.push(r),l.length===i&&(o.splice(c,1),this.destination.next(l))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(Ye);function VF(t){var e=arguments.length,r=Cn;Yn(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new GF(t,n,i,r))}}var GF=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new JF(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),KF=function(){function t(){this.buffer=[]}return t}(),JF=function(t){ye.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var l={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(s5,n,l))}else{var u={subscriber:a,context:c},h={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(G9,n,u)),a.add(o.schedule(ZF,i,h))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(s5,i,s))}},e.prototype.openContext=function(){var r=new KF;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(Ye);function s5(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function ZF(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(G9,r,{subscriber:n,context:s})),o.schedule(t,e))}function G9(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function YF(t,e){return function(n){return n.lift(new QF(t,e))}}var QF=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new XF(e,this.openings,this.closingSelector))},t}(),XF=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Xs(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new hr,o={buffer:i,subscription:s};n.push(o);var a=Xs(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Xa);function eU(t){return function(e){return e.lift(new tU(t))}}var tU=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new rU(e,this.closingSelector))},t}(),rU=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new hr,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(wr(i,new yr(this))),this.subscribing=!1},e}(vr);function nU(t){return function(r){var n=new iU(t),i=r.lift(n);return n.caught=i}}var iU=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new sU(e,this.selector,this.caught))},t}(),sU=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new yr(this);this.add(i);var s=wr(n,i);s!==i&&this.add(s)}},e}(vr);function oU(t){return function(e){return e.lift(new Pv(t))}}function aU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&An(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(ro([n].concat(t)),new Pv(r))}}function cU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Vf.apply(void 0,[r].concat(t)))}}function K9(t,e){return Wa(t,e,1)}function lU(t,e){return K9(function(){return t},e)}function uU(t){return function(e){return e.lift(new fU(t,e))}}var fU=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new hU(e,this.predicate,this.source))},t}(),hU=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(Ye);function dU(t){return function(e){return e.lift(new pU(t))}}var pU=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new gU(e,this.durationSelector))},t}(),gU=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=wr(n,new yr(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(vr);function mU(t,e){return e===void 0&&(e=Cn),function(r){return r.lift(new bU(t,e))}}var bU=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new yU(e,this.dueTime,this.scheduler))},t}(),yU=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(vU,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(Ye);function vU(t){t.debouncedNext()}function Ah(t){return t===void 0&&(t=null),function(e){return e.lift(new wU(t))}}var wU=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new xU(e,this.defaultValue))},t}(),xU=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Ye);function J9(t){return t instanceof Date&&!isNaN(+t)}function _U(t,e){e===void 0&&(e=Cn);var r=J9(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new EU(n,e))}}var EU=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new SU(e,this.delay,this.scheduler))},t}(),SU=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new AU(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Gs.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Gs.createComplete()),this.unsubscribe()},e}(Ye),AU=function(){function t(e,r){this.time=e,this.notification=r}return t}();function CU(t,e){return e?function(r){return new MU(r,e).lift(new o5(t))}:function(r){return r.lift(new o5(t))}}var o5=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new IU(e,this.delayDurationSelector))},t}(),IU=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Xs(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Xa),MU=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new TU(r,this.source))},e}(vt),TU=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(Ye);function kU(){return function(e){return e.lift(new OU)}}var OU=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new RU(e))},t}(),RU=function(t){ye.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(Ye);function PU(t,e){return function(r){return r.lift(new NU(t,e))}}var NU=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new DU(e,this.keySelector,this.flushes))},t}(),DU=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(wr(i,new yr(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(vr);function Z9(t,e){return function(r){return r.lift(new BU(t,e))}}var BU=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new LU(e,this.compare,this.keySelector))},t}(),LU=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(Ye);function $U(t,e){return Z9(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function n1(t){return t===void 0&&(t=jU),function(e){return e.lift(new FU(t))}}var FU=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new UU(e,this.errorFactory))},t}(),UU=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(Ye);function jU(){return new Sh}function Bv(t){return function(e){return t===0?Yl():e.lift(new HU(t))}}var HU=function(){function t(e){if(this.total=e,this.total<0)throw new ul}return t.prototype.call=function(e,r){return r.subscribe(new zU(e,this.total))},t}(),zU=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(Ye);function WU(t,e){if(t<0)throw new ul;var r=arguments.length>=2;return function(n){return n.pipe(No(function(i,s){return s===t}),Bv(1),r?Ah(e):n1(function(){return new ul}))}}function qU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return Vf(r,r1.apply(void 0,t))}}function VU(t,e){return function(r){return r.lift(new GU(t,e,r))}}var GU=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new KU(e,this.predicate,this.thisArg,this.source))},t}(),KU=function(t){ye.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Ye);function JU(){return function(t){return t.lift(new ZU)}}var ZU=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new YU(e))},t}(),YU=function(t){ye.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(wr(r,new yr(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(vr);function Y9(t,e){return e?function(r){return r.pipe(Y9(function(n,i){return ro(t(n,i)).pipe(Ei(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new QU(t))}}var QU=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new XU(e,this.project))},t}(),XU=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new yr(this),i=this.destination;i.add(n);var s=wr(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(vr);function ej(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new tj(t,e,r))}}var tj=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new rj(e,this.project,this.concurrent,this.scheduler))},t}(),rj=function(t){ye.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(l){n.error(l)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(wr(r,new yr(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(vr);function nj(t){return function(e){return e.lift(new ij(t))}}var ij=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new sj(e,this.callback))},t}(),sj=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new hr(n)),i}return e}(Ye);function oj(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Q9(t,r,!1,e))}}var Q9=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new aj(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),aj=function(t){ye.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(Ye);function cj(t,e){return function(r){return r.lift(new Q9(t,r,!0,e))}}function lj(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?No(function(i,s){return t(i,s,n)}):Ro,Bv(1),r?Ah(e):n1(function(){return new Sh}))}}function uj(){return function(e){return e.lift(new fj)}}var fj=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new hj(e))},t}(),hj=function(t){ye.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(Ye);function dj(){return function(t){return t.lift(new pj)}}var pj=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new gj(e))},t}(),gj=function(t){ye.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Ye);function Vd(t){return function(r){return t===0?Yl():r.lift(new mj(t))}}var mj=function(){function t(e){if(this.total=e,this.total<0)throw new ul}return t.prototype.call=function(e,r){return r.subscribe(new bj(e,this.total))},t}(),bj=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(Ye);function yj(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?No(function(i,s){return t(i,s,n)}):Ro,Vd(1),r?Ah(e):n1(function(){return new Sh}))}}function vj(t){return function(e){return e.lift(new wj(t))}}var wj=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new xj(e,this.value))},t}(),xj=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(Ye);function _j(){return function(e){return e.lift(new Ej)}}var Ej=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Sj(e))},t}(),Sj=function(t){ye.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(Gs.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(Gs.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(Gs.createComplete()),r.complete()},e}(Ye);function Gd(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new Aj(t,e,r))}}var Aj=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new Cj(e,this.accumulator,this.seed,this.hasSeed))},t}(),Cj=function(t){ye.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(Ye);function i1(t,e){return arguments.length>=2?function(n){return Py(Gd(t,e),Vd(1),Ah(e))(n)}:function(n){return Py(Gd(function(i,s,o){return t(i,s,o+1)}),Vd(1))(n)}}function Ij(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return i1(e)}function Mj(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(F9.apply(void 0,[r].concat(t)))}}function Tj(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Wa(function(){return t},e,r):(typeof e=="number"&&(r=e),Wa(function(){return t},r))}function kj(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new Oj(t,e,r))}}var Oj=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new Rj(e,this.accumulator,this.seed,this.concurrent))},t}(),Rj=function(t){ye.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new yr(this),i=this.destination;i.add(n);var s=wr(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(vr);function Pj(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return i1(e)}function qa(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new Nj(i,e));var s=Object.create(n,g$);return s.source=n,s.subjectFactory=i,s}}var Nj=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function Dj(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&An(t[0])&&(t=t[0]),function(r){return r.lift(new Bj(t))}}var Bj=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new Lj(e,this.nextSources))},t}(),Lj=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new yr(this),i=this.destination;i.add(n);var s=wr(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(vr);function $j(){return function(t){return t.lift(new Fj)}}var Fj=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Uj(e))},t}(),Uj=function(t){ye.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(Ye);function jj(t,e){return function(r){return[No(t,e)(r),No(j9(t,e))(r)]}}function Hj(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Ei(zj(t,r))(n)}}function zj(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function Wj(t){return t?qa(function(){return new qr},t):qa(new qr)}function qj(t){return function(e){return qa(new w9(t))(e)}}function Vj(){return function(t){return qa(new Ql)(t)}}function Gj(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Rv(t,e,n);return function(o){return qa(function(){return s},i)(o)}}function Kj(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&An(t[0])&&(t=t[0]),n.lift.call(H9.apply(void 0,[n].concat(t)))}}function Jj(t){return t===void 0&&(t=-1),function(e){return t===0?Yl():t<0?e.lift(new a5(-1,e)):e.lift(new a5(t-1,e))}}var a5=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Zj(e,this.count,this.source))},t}(),Zj=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(Ye);function Yj(t){return function(e){return e.lift(new Qj(t))}}var Qj=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Xj(e,this.notifier,r))},t}(),Xj=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new qr;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=wr(r,new yr(this))},e}(vr);function eH(t){return t===void 0&&(t=-1),function(e){return e.lift(new tH(t,e))}}var tH=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new rH(e,this.count,this.source))},t}(),rH=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(Ye);function nH(t){return function(e){return e.lift(new iH(t,e))}}var iH=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new sH(e,this.notifier,this.source))},t}(),sH=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new qr;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=wr(i,new yr(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(vr);function oH(t){return function(e){return e.lift(new aH(t))}}var aH=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new cH(e),i=r.subscribe(n);return i.add(wr(this.notifier,new yr(n))),i},t}(),cH=function(t){ye.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(vr);function lH(t,e){return e===void 0&&(e=Cn),function(r){return r.lift(new uH(t,e))}}var uH=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new fH(e,this.period,this.scheduler))},t}(),fH=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(hH,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(Ye);function hH(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function dH(t,e){return function(r){return r.lift(new pH(t,e))}}var pH=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new gH(e,this.compareTo,this.comparator))},t}(),gH=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new mH(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(l){this.destination.error(l)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(Ye),mH=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(Ye);function bH(){return new qr}function yH(){return function(t){return Tv()(qa(bH)(t))}}function vH(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(wH(n))}}function wH(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,l,u=!1,h=!1;return function(v){c++;var E;!a||u?(u=!1,a=new Rv(r,i,o),E=a.subscribe(this),l=v.subscribe({next:function(D){a.next(D)},error:function(D){u=!0,a.error(D)},complete:function(){h=!0,l=void 0,a.complete()}}),h&&(l=void 0)):E=a.subscribe(this),this.add(function(){c--,E.unsubscribe(),E=void 0,l&&!h&&s&&c===0&&(l.unsubscribe(),l=void 0,a=void 0)})}}function xH(t){return function(e){return e.lift(new _H(t,e))}}var _H=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new EH(e,this.predicate,this.source))},t}(),EH=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Sh)},e}(Ye);function SH(t){return function(e){return e.lift(new AH(t))}}var AH=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new CH(e,this.total))},t}(),CH=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(Ye);function IH(t){return function(e){return e.lift(new MH(t))}}var MH=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new ul}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new Ye(e)):r.subscribe(new TH(e,this._skipCount))},t}(),TH=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(Ye);function kH(t){return function(e){return e.lift(new OH(t))}}var OH=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new RH(e,this.notifier))},t}(),RH=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new yr(i);i.add(s),i.innerSubscription=s;var o=wr(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(vr);function PH(t){return function(e){return e.lift(new NH(t))}}var NH=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new DH(e,this.predicate))},t}(),DH=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(Ye);function BH(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Yn(r)?(t.pop(),function(n){return Vf(t,n,r)}):function(n){return Vf(t,n)}}var LH=function(t){ye.__extends(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=gd);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!fl(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=gd),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=gd),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(vt);function $H(t,e){return e===void 0&&(e=0),function(n){return n.lift(new FH(t,e))}}var FH=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new LH(r,this.delay,this.scheduler).subscribe(e)},t}();function Gf(t,e){return typeof e=="function"?function(r){return r.pipe(Gf(function(n,i){return ro(t(n,i)).pipe(Ei(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new UH(t))}}var UH=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new jH(e,this.project))},t}(),jH=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new yr(this),s=this.destination;s.add(i),this.innerSubscription=wr(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(vr);function HH(){return Gf(Ro)}function zH(t,e){return e?Gf(function(){return t},e):Gf(function(){return t})}function WH(t){return function(e){return e.lift(new qH(t))}}var qH=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new VH(e),i=wr(this.notifier,new yr(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),VH=function(t){ye.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(vr);function GH(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new KH(t,e))}}var KH=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new JH(e,this.predicate,this.inclusive))},t}(),JH=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(Ye);function ZH(t,e,r){return function(i){return i.lift(new YH(t,e,r))}}var YH=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new QH(e,this.nextOrObserver,this.error,this.complete))},t}(),QH=function(t){ye.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=Qi,o._tapError=Qi,o._tapComplete=Qi,o._tapError=i||Qi,o._tapComplete=s||Qi,cl(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Qi,o._tapError=n.error||Qi,o._tapComplete=n.complete||Qi),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(Ye),X9={leading:!0,trailing:!1};function XH(t,e){return e===void 0&&(e=X9),function(r){return r.lift(new ez(t,!!e.leading,!!e.trailing))}}var ez=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new tz(e,this.durationSelector,this.leading,this.trailing))},t}(),tz=function(t){ye.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=wr(n,new yr(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(vr);function rz(t,e,r){return e===void 0&&(e=Cn),r===void 0&&(r=X9),function(n){return n.lift(new nz(t,e,r.leading,r.trailing))}}var nz=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new iz(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),iz=function(t){ye.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(sz,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(Ye);function sz(t){var e=t.subscriber;e.clearThrottle()}function oz(t){return t===void 0&&(t=Cn),function(e){return Dv(function(){return e.pipe(Gd(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Ei(function(r){var n=r.current,i=r.last,s=r.value;return new az(s,n-i)}))})}}var az=function(){function t(e,r){this.value=e,this.interval=r}return t}();function eS(t,e,r){return r===void 0&&(r=Cn),function(n){var i=J9(t),s=i?+t-r.now():Math.abs(t);return n.lift(new cz(s,i,e,r))}}var cz=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new lz(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),lz=function(t){ye.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(wr(n,new yr(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(vr);function uz(t,e){return e===void 0&&(e=Cn),eS(t,Ov(new T9),e)}function fz(t){return t===void 0&&(t=Cn),Ei(function(e){return new hz(e,t.now())})}var hz=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function dz(t,e,r){return r===0?[e]:(t.push(e),t)}function pz(){return i1(dz,[])}function gz(t){return function(r){return r.lift(new mz(t))}}var mz=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new bz(e),i=r.subscribe(n);return i.closed||n.add(wr(this.windowBoundaries,new yr(n))),i},t}(),bz=function(t){ye.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new qr,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new qr;n.next(i)},e}(vr);function yz(t,e){return e===void 0&&(e=0),function(n){return n.lift(new vz(t,e))}}var vz=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new wz(e,this.windowSize,this.startWindowEvery))},t}(),wz=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new qr],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var l=this.count-s+1;if(l>=0&&l%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var u=new qr;o.push(u),i.next(u)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(Ye);function xz(t){var e=Cn,r=null,n=Number.POSITIVE_INFINITY;return Yn(arguments[3])&&(e=arguments[3]),Yn(arguments[2])?e=arguments[2]:fl(arguments[2])&&(n=Number(arguments[2])),Yn(arguments[1])?e=arguments[1]:fl(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new _z(t,r,n,e))}}var _z=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Sz(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),Ez=function(t){ye.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(qr),Sz=function(t){ye.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var l={subscriber:a,window:c,context:null},u={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(tS,n,l)),a.add(o.schedule(Cz,i,u))}else{var h={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(Az,n,h))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new Ez;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(Ye);function Az(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function Cz(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(tS,e,c),o.add(a.subscription),o.schedule(t,i)}function tS(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function Iz(t,e){return function(r){return r.lift(new Mz(t,e))}}var Mz=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Tz(e,this.openings,this.closingSelector))},t}(),Tz=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Xs(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(v){return this.error(v)}var l=new qr,u=new hr,h={window:l,subscription:u};this.contexts.push(h);var b=Xs(this,a,h);b.closed?this.closeWindow(this.contexts.length-1):(b.context=h,u.add(b)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Xa);function kz(t){return function(r){return r.lift(new Oz(t))}}var Oz=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Rz(e,this.closingSelector))},t}(),Rz=function(t){ye.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new qr;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Xs(this,s))},e}(Xa);function Pz(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new Nz(i,n))}}var Nz=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new Dz(e,this.observables,this.project))},t}(),Dz=function(t){ye.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Xs(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Xa);function Bz(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(W9.apply(void 0,[n].concat(t)))}}function Lz(t){return function(e){return e.lift(new q9(t))}}const $z=Object.freeze(Object.defineProperty({__proto__:null,audit:V9,auditTime:$F,buffer:FF,bufferCount:HF,bufferTime:VF,bufferToggle:YF,bufferWhen:eU,catchError:nU,combineAll:oU,combineLatest:aU,concat:cU,concatAll:D9,concatMap:K9,concatMapTo:lU,count:uU,debounce:dU,debounceTime:mU,defaultIfEmpty:Ah,delay:_U,delayWhen:CU,dematerialize:kU,distinct:PU,distinctUntilChanged:Z9,distinctUntilKeyChanged:$U,elementAt:WU,endWith:qU,every:VU,exhaust:JU,exhaustMap:Y9,expand:ej,filter:No,finalize:nj,find:oj,findIndex:cj,first:lj,flatMap:lF,groupBy:b$,ignoreElements:uj,isEmpty:dj,last:yj,map:Ei,mapTo:vj,materialize:_j,max:Ij,merge:Mj,mergeAll:Nv,mergeMap:Wa,mergeMapTo:Tj,mergeScan:kj,min:Pj,multicast:qa,observeOn:I$,onErrorResumeNext:Dj,pairwise:$j,partition:jj,pluck:Hj,publish:Wj,publishBehavior:qj,publishLast:Vj,publishReplay:Gj,race:Kj,reduce:i1,refCount:Tv,repeat:Jj,repeatWhen:Yj,retry:eH,retryWhen:nH,sample:oH,sampleTime:lH,scan:Gd,sequenceEqual:dH,share:yH,shareReplay:vH,single:xH,skip:SH,skipLast:IH,skipUntil:kH,skipWhile:PH,startWith:BH,subscribeOn:$H,switchAll:HH,switchMap:Gf,switchMapTo:zH,take:Bv,takeLast:Vd,takeUntil:WH,takeWhile:GH,tap:ZH,throttle:XH,throttleTime:rz,throwIfEmpty:n1,timeInterval:oz,timeout:uz,timeoutWith:eS,timestamp:fz,toArray:pz,window:gz,windowCount:yz,windowTime:xz,windowToggle:Iz,windowWhen:kz,withLatestFrom:Pz,zip:Bz,zipAll:Lz},Symbol.toStringTag,{value:"Module"})),s1=Ht($z);var Fy={},Fz={get exports(){return Fy},set exports(t){Fy=t}},zi={},Uz={get exports(){return zi},set exports(t){zi=t}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Vl,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Uz,zi);var rS=zi.Buffer;function o1(t,e){this._block=rS.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}o1.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=rS.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),l=0;l<c;l++)r[a+l]=t[o+l];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};o1.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};o1.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var eu=o1,jz=Sn,nS=eu,Hz=zi.Buffer,zz=[1518500249,1859775393,-1894007588,-899497514],Wz=new Array(80);function Ch(){this.init(),this._w=Wz,nS.call(this,64,56)}jz(Ch,nS);Ch.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function qz(t){return t<<5|t>>>27}function Vz(t){return t<<30|t>>>2}function Gz(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Ch.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var l=~~(c/20),u=qz(r)+Gz(l,n,i,s)+o+e[c]+zz[l]|0;o=s,s=i,i=Vz(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Ch.prototype._hash=function(){var t=Hz.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Kz=Ch,Jz=Sn,iS=eu,Zz=zi.Buffer,Yz=[1518500249,1859775393,-1894007588,-899497514],Qz=new Array(80);function Ih(){this.init(),this._w=Qz,iS.call(this,64,56)}Jz(Ih,iS);Ih.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Xz(t){return t<<1|t>>>31}function eW(t){return t<<5|t>>>27}function tW(t){return t<<30|t>>>2}function rW(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Ih.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Xz(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var l=~~(c/20),u=eW(r)+rW(l,n,i,s)+o+e[c]+Yz[l]|0;o=s,s=i,i=tW(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Ih.prototype._hash=function(){var t=Zz.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var nW=Ih,iW=Sn,sS=eu,sW=zi.Buffer,oW=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],aW=new Array(64);function Mh(){this.init(),this._w=aW,sS.call(this,64,56)}iW(Mh,sS);Mh.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function cW(t,e,r){return r^t&(e^r)}function lW(t,e,r){return t&e|r&(t|e)}function uW(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function fW(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function hW(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function dW(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Mh.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,l=this._h|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<64;++u)e[u]=dW(e[u-2])+e[u-7]+hW(e[u-15])+e[u-16]|0;for(var h=0;h<64;++h){var b=l+fW(o)+cW(o,a,c)+oW[h]+e[h]|0,v=uW(r)+lW(r,n,i)|0;l=c,c=a,a=o,o=s+b|0,s=i,i=n,n=r,r=b+v|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=l+this._h|0};Mh.prototype._hash=function(){var t=sW.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var oS=Mh,pW=Sn,gW=oS,mW=eu,bW=zi.Buffer,yW=new Array(64);function a1(){this.init(),this._w=yW,mW.call(this,64,56)}pW(a1,gW);a1.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};a1.prototype._hash=function(){var t=bW.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var vW=a1,wW=Sn,aS=eu,xW=zi.Buffer,c5=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],_W=new Array(160);function Th(){this.init(),this._w=_W,aS.call(this,128,112)}wW(Th,aS);Th.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function l5(t,e,r){return r^t&(e^r)}function u5(t,e,r){return t&e|r&(t|e)}function f5(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function h5(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function EW(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function SW(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function AW(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function CW(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Ur(t,e){return t>>>0<e>>>0?1:0}Th.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,l=this._hh|0,u=this._al|0,h=this._bl|0,b=this._cl|0,v=this._dl|0,E=this._el|0,D=this._fl|0,x=this._gl|0,_=this._hl|0,m=0;m<32;m+=2)e[m]=t.readInt32BE(m*4),e[m+1]=t.readInt32BE(m*4+4);for(;m<160;m+=2){var w=e[m-30],A=e[m-15*2+1],k=EW(w,A),z=SW(A,w);w=e[m-2*2],A=e[m-2*2+1];var S=AW(w,A),H=CW(A,w),re=e[m-7*2],W=e[m-7*2+1],y=e[m-16*2],R=e[m-16*2+1],I=z+W|0,f=k+re+Ur(I,z)|0;I=I+H|0,f=f+S+Ur(I,H)|0,I=I+R|0,f=f+y+Ur(I,R)|0,e[m]=f,e[m+1]=I}for(var p=0;p<160;p+=2){f=e[p],I=e[p+1];var T=u5(r,n,i),M=u5(u,h,b),C=f5(r,u),d=f5(u,r),B=h5(o,E),O=h5(E,o),g=c5[p],L=c5[p+1],Q=l5(o,a,c),P=l5(E,D,x),G=_+O|0,V=l+B+Ur(G,_)|0;G=G+P|0,V=V+Q+Ur(G,P)|0,G=G+L|0,V=V+g+Ur(G,L)|0,G=G+I|0,V=V+f+Ur(G,I)|0;var K=d+M|0,Y=C+T+Ur(K,d)|0;l=c,_=x,c=a,x=D,a=o,D=E,E=v+G|0,o=s+V+Ur(E,v)|0,s=i,v=b,i=n,b=h,n=r,h=u,u=G+K|0,r=V+Y+Ur(u,G)|0}this._al=this._al+u|0,this._bl=this._bl+h|0,this._cl=this._cl+b|0,this._dl=this._dl+v|0,this._el=this._el+E|0,this._fl=this._fl+D|0,this._gl=this._gl+x|0,this._hl=this._hl+_|0,this._ah=this._ah+r+Ur(this._al,u)|0,this._bh=this._bh+n+Ur(this._bl,h)|0,this._ch=this._ch+i+Ur(this._cl,b)|0,this._dh=this._dh+s+Ur(this._dl,v)|0,this._eh=this._eh+o+Ur(this._el,E)|0,this._fh=this._fh+a+Ur(this._fl,D)|0,this._gh=this._gh+c+Ur(this._gl,x)|0,this._hh=this._hh+l+Ur(this._hl,_)|0};Th.prototype._hash=function(){var t=xW.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var cS=Th,IW=Sn,MW=cS,TW=eu,kW=zi.Buffer,OW=new Array(160);function c1(){this.init(),this._w=OW,TW.call(this,128,112)}IW(c1,MW);c1.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};c1.prototype._hash=function(){var t=kW.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var RW=c1,no=Fz.exports=function(e){e=e.toLowerCase();var r=no[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};no.sha=Kz;no.sha1=nW;no.sha224=vW;no.sha256=oS;no.sha384=RW;no.sha512=cS;var Ke={},lS=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},d5=typeof Symbol<"u"&&Symbol,PW=lS,NW=function(){return typeof d5!="function"||typeof Symbol!="function"||typeof d5("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:PW()},DW="Function.prototype.bind called on incompatible ",Zg=Array.prototype.slice,BW=Object.prototype.toString,LW="[object Function]",$W=function(e){var r=this;if(typeof r!="function"||BW.call(r)!==LW)throw new TypeError(DW+r);for(var n=Zg.call(arguments,1),i,s=function(){if(this instanceof i){var u=r.apply(this,n.concat(Zg.call(arguments)));return Object(u)===u?u:this}else return r.apply(e,n.concat(Zg.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],c=0;c<o;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},FW=$W,Lv=Function.prototype.bind||FW,UW=Lv,jW=UW.call(Function.call,Object.prototype.hasOwnProperty),St,hl=SyntaxError,uS=Function,Vc=TypeError,Yg=function(t){try{return uS('"use strict"; return ('+t+").constructor;")()}catch{}},Ba=Object.getOwnPropertyDescriptor;if(Ba)try{Ba({},"")}catch{Ba=null}var Qg=function(){throw new Vc},HW=Ba?function(){try{return arguments.callee,Qg}catch{try{return Ba(arguments,"callee").get}catch{return Qg}}}():Qg,dc=NW(),is=Object.getPrototypeOf||function(t){return t.__proto__},Mc={},zW=typeof Uint8Array>"u"?St:is(Uint8Array),La={"%AggregateError%":typeof AggregateError>"u"?St:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?St:ArrayBuffer,"%ArrayIteratorPrototype%":dc?is([][Symbol.iterator]()):St,"%AsyncFromSyncIteratorPrototype%":St,"%AsyncFunction%":Mc,"%AsyncGenerator%":Mc,"%AsyncGeneratorFunction%":Mc,"%AsyncIteratorPrototype%":Mc,"%Atomics%":typeof Atomics>"u"?St:Atomics,"%BigInt%":typeof BigInt>"u"?St:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?St:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?St:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?St:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?St:Float32Array,"%Float64Array%":typeof Float64Array>"u"?St:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?St:FinalizationRegistry,"%Function%":uS,"%GeneratorFunction%":Mc,"%Int8Array%":typeof Int8Array>"u"?St:Int8Array,"%Int16Array%":typeof Int16Array>"u"?St:Int16Array,"%Int32Array%":typeof Int32Array>"u"?St:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":dc?is(is([][Symbol.iterator]())):St,"%JSON%":typeof JSON=="object"?JSON:St,"%Map%":typeof Map>"u"?St:Map,"%MapIteratorPrototype%":typeof Map>"u"||!dc?St:is(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?St:Promise,"%Proxy%":typeof Proxy>"u"?St:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?St:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?St:Set,"%SetIteratorPrototype%":typeof Set>"u"||!dc?St:is(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?St:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":dc?is(""[Symbol.iterator]()):St,"%Symbol%":dc?Symbol:St,"%SyntaxError%":hl,"%ThrowTypeError%":HW,"%TypedArray%":zW,"%TypeError%":Vc,"%Uint8Array%":typeof Uint8Array>"u"?St:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?St:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?St:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?St:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?St:WeakMap,"%WeakRef%":typeof WeakRef>"u"?St:WeakRef,"%WeakSet%":typeof WeakSet>"u"?St:WeakSet};try{null.error}catch(t){var WW=is(is(t));La["%Error.prototype%"]=WW}var qW=function t(e){var r;if(e==="%AsyncFunction%")r=Yg("async function () {}");else if(e==="%GeneratorFunction%")r=Yg("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Yg("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=is(i.prototype))}return La[e]=r,r},p5={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},kh=Lv,Kd=jW,VW=kh.call(Function.call,Array.prototype.concat),GW=kh.call(Function.apply,Array.prototype.splice),g5=kh.call(Function.call,String.prototype.replace),Jd=kh.call(Function.call,String.prototype.slice),KW=kh.call(Function.call,RegExp.prototype.exec),JW=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ZW=/\\(\\)?/g,YW=function(e){var r=Jd(e,0,1),n=Jd(e,-1);if(r==="%"&&n!=="%")throw new hl("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new hl("invalid intrinsic syntax, expected opening `%`");var i=[];return g5(e,JW,function(s,o,a,c){i[i.length]=a?g5(c,ZW,"$1"):o||s}),i},QW=function(e,r){var n=e,i;if(Kd(p5,n)&&(i=p5[n],n="%"+i[0]+"%"),Kd(La,n)){var s=La[n];if(s===Mc&&(s=qW(n)),typeof s>"u"&&!r)throw new Vc("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new hl("intrinsic "+e+" does not exist!")},l1=function(e,r){if(typeof e!="string"||e.length===0)throw new Vc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Vc('"allowMissing" argument must be a boolean');if(KW(/^%?[^%]*%?$/,e)===null)throw new hl("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=YW(e),i=n.length>0?n[0]:"",s=QW("%"+i+"%",r),o=s.name,a=s.value,c=!1,l=s.alias;l&&(i=l[0],GW(n,VW([0,1],l)));for(var u=1,h=!0;u<n.length;u+=1){var b=n[u],v=Jd(b,0,1),E=Jd(b,-1);if((v==='"'||v==="'"||v==="`"||E==='"'||E==="'"||E==="`")&&v!==E)throw new hl("property names with quotes must have matching quotes");if((b==="constructor"||!h)&&(c=!0),i+="."+b,o="%"+i+"%",Kd(La,o))a=La[o];else if(a!=null){if(!(b in a)){if(!r)throw new Vc("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ba&&u+1>=n.length){var D=Ba(a,b);h=!!D,h&&"get"in D&&!("originalValue"in D.get)?a=D.get:a=a[b]}else h=Kd(a,b),a=a[b];h&&!c&&(La[o]=a)}}return a},Uy={},XW={get exports(){return Uy},set exports(t){Uy=t}};(function(t){var e=Lv,r=l1,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(h){var b=s(e,i,arguments);if(o&&a){var v=o(b,"length");v.configurable&&a(b,"length",{value:1+c(0,h.length-(arguments.length-1))})}return b};var l=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:l}):t.exports.apply=l})(XW);var fS=l1,hS=Uy,eq=hS(fS("String.prototype.indexOf")),u1=function(e,r){var n=fS(e,!!r);return typeof n=="function"&&eq(e,".prototype.")>-1?hS(n):n},$v=typeof Map=="function"&&Map.prototype,Xg=Object.getOwnPropertyDescriptor&&$v?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Zd=$v&&Xg&&typeof Xg.get=="function"?Xg.get:null,m5=$v&&Map.prototype.forEach,Fv=typeof Set=="function"&&Set.prototype,em=Object.getOwnPropertyDescriptor&&Fv?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Yd=Fv&&em&&typeof em.get=="function"?em.get:null,b5=Fv&&Set.prototype.forEach,tq=typeof WeakMap=="function"&&WeakMap.prototype,vf=tq?WeakMap.prototype.has:null,rq=typeof WeakSet=="function"&&WeakSet.prototype,wf=rq?WeakSet.prototype.has:null,nq=typeof WeakRef=="function"&&WeakRef.prototype,y5=nq?WeakRef.prototype.deref:null,iq=Boolean.prototype.valueOf,sq=Object.prototype.toString,oq=Function.prototype.toString,aq=String.prototype.match,Uv=String.prototype.slice,_o=String.prototype.replace,cq=String.prototype.toUpperCase,v5=String.prototype.toLowerCase,dS=RegExp.prototype.test,w5=Array.prototype.concat,ss=Array.prototype.join,lq=Array.prototype.slice,x5=Math.floor,jy=typeof BigInt=="function"?BigInt.prototype.valueOf:null,tm=Object.getOwnPropertySymbols,Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,dl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",gn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===dl||"symbol")?Symbol.toStringTag:null,pS=Object.prototype.propertyIsEnumerable,_5=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function E5(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||dS.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-x5(-t):x5(t);if(n!==t){var i=String(n),s=Uv.call(e,i.length+1);return _o.call(i,r,"$&_")+"."+_o.call(_o.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _o.call(e,r,"$&_")}var zy=Ll,S5=zy.custom,A5=mS(S5)?S5:null,uq=function t(e,r,n,i){var s=r||{};if(go(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(go(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=go(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(go(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(go(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return yS(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?E5(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return a?E5(e,l):l}var u=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return Wy(e)?"[Array]":"[Object]";var h=Mq(s,n);if(typeof i>"u")i=[];else if(bS(i,e)>=0)return"[Circular]";function b(I,f,p){if(f&&(i=lq.call(i),i.push(f)),p){var T={depth:s.depth};return go(s,"quoteStyle")&&(T.quoteStyle=s.quoteStyle),t(I,T,n+1,i)}return t(I,s,n+1,i)}if(typeof e=="function"&&!C5(e)){var v=vq(e),E=_0(e,b);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(E.length>0?" { "+ss.call(E,", ")+" }":"")}if(mS(e)){var D=dl?_o.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Hy.call(e);return typeof e=="object"&&!dl?Au(D):D}if(Aq(e)){for(var x="<"+v5.call(String(e.nodeName)),_=e.attributes||[],m=0;m<_.length;m++)x+=" "+_[m].name+"="+gS(fq(_[m].value),"double",s);return x+=">",e.childNodes&&e.childNodes.length&&(x+="..."),x+="</"+v5.call(String(e.nodeName))+">",x}if(Wy(e)){if(e.length===0)return"[]";var w=_0(e,b);return h&&!Iq(w)?"["+qy(w,h)+"]":"[ "+ss.call(w,", ")+" ]"}if(dq(e)){var A=_0(e,b);return!("cause"in Error.prototype)&&"cause"in e&&!pS.call(e,"cause")?"{ ["+String(e)+"] "+ss.call(w5.call("[cause]: "+b(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ss.call(A,", ")+" }"}if(typeof e=="object"&&o){if(A5&&typeof e[A5]=="function"&&zy)return zy(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(wq(e)){var k=[];return m5&&m5.call(e,function(I,f){k.push(b(f,e,!0)+" => "+b(I,e))}),I5("Map",Zd.call(e),k,h)}if(Eq(e)){var z=[];return b5&&b5.call(e,function(I){z.push(b(I,e))}),I5("Set",Yd.call(e),z,h)}if(xq(e))return rm("WeakMap");if(Sq(e))return rm("WeakSet");if(_q(e))return rm("WeakRef");if(gq(e))return Au(b(Number(e)));if(bq(e))return Au(b(jy.call(e)));if(mq(e))return Au(iq.call(e));if(pq(e))return Au(b(String(e)));if(!hq(e)&&!C5(e)){var S=_0(e,b),H=_5?_5(e)===Object.prototype:e instanceof Object||e.constructor===Object,re=e instanceof Object?"":"null prototype",W=!H&&gn&&Object(e)===e&&gn in e?Uv.call(Go(e),8,-1):re?"Object":"",y=H||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",R=y+(W||re?"["+ss.call(w5.call([],W||[],re||[]),": ")+"] ":"");return S.length===0?R+"{}":h?R+"{"+qy(S,h)+"}":R+"{ "+ss.call(S,", ")+" }"}return String(e)};function gS(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function fq(t){return _o.call(String(t),/"/g,"&quot;")}function Wy(t){return Go(t)==="[object Array]"&&(!gn||!(typeof t=="object"&&gn in t))}function hq(t){return Go(t)==="[object Date]"&&(!gn||!(typeof t=="object"&&gn in t))}function C5(t){return Go(t)==="[object RegExp]"&&(!gn||!(typeof t=="object"&&gn in t))}function dq(t){return Go(t)==="[object Error]"&&(!gn||!(typeof t=="object"&&gn in t))}function pq(t){return Go(t)==="[object String]"&&(!gn||!(typeof t=="object"&&gn in t))}function gq(t){return Go(t)==="[object Number]"&&(!gn||!(typeof t=="object"&&gn in t))}function mq(t){return Go(t)==="[object Boolean]"&&(!gn||!(typeof t=="object"&&gn in t))}function mS(t){if(dl)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Hy)return!1;try{return Hy.call(t),!0}catch{}return!1}function bq(t){if(!t||typeof t!="object"||!jy)return!1;try{return jy.call(t),!0}catch{}return!1}var yq=Object.prototype.hasOwnProperty||function(t){return t in this};function go(t,e){return yq.call(t,e)}function Go(t){return sq.call(t)}function vq(t){if(t.name)return t.name;var e=aq.call(oq.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function bS(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function wq(t){if(!Zd||!t||typeof t!="object")return!1;try{Zd.call(t);try{Yd.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function xq(t){if(!vf||!t||typeof t!="object")return!1;try{vf.call(t,vf);try{wf.call(t,wf)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function _q(t){if(!y5||!t||typeof t!="object")return!1;try{return y5.call(t),!0}catch{}return!1}function Eq(t){if(!Yd||!t||typeof t!="object")return!1;try{Yd.call(t);try{Zd.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Sq(t){if(!wf||!t||typeof t!="object")return!1;try{wf.call(t,wf);try{vf.call(t,vf)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Aq(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function yS(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return yS(Uv.call(t,0,e.maxStringLength),e)+n}var i=_o.call(_o.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Cq);return gS(i,"single",e)}function Cq(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+cq.call(e.toString(16))}function Au(t){return"Object("+t+")"}function rm(t){return t+" { ? }"}function I5(t,e,r,n){var i=n?qy(r,n):ss.call(r,", ");return t+" ("+e+") {"+i+"}"}function Iq(t){for(var e=0;e<t.length;e++)if(bS(t[e],`
`)>=0)return!1;return!0}function Mq(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ss.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ss.call(Array(e+1),r)}}function qy(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ss.call(t,","+r)+`
`+e.prev}function _0(t,e){var r=Wy(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=go(t,i)?e(t[i],t):""}var s=typeof tm=="function"?tm(t):[],o;if(dl){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)go(t,c)&&(r&&String(Number(c))===c&&c<t.length||dl&&o["$"+c]instanceof Symbol||(dS.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof tm=="function")for(var l=0;l<s.length;l++)pS.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}var jv=l1,tu=u1,Tq=uq,kq=jv("%TypeError%"),E0=jv("%WeakMap%",!0),S0=jv("%Map%",!0),Oq=tu("WeakMap.prototype.get",!0),Rq=tu("WeakMap.prototype.set",!0),Pq=tu("WeakMap.prototype.has",!0),Nq=tu("Map.prototype.get",!0),Dq=tu("Map.prototype.set",!0),Bq=tu("Map.prototype.has",!0),Hv=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Lq=function(t,e){var r=Hv(t,e);return r&&r.value},$q=function(t,e,r){var n=Hv(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Fq=function(t,e){return!!Hv(t,e)},Uq=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new kq("Side channel does not contain "+Tq(s))},get:function(s){if(E0&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Oq(e,s)}else if(S0){if(r)return Nq(r,s)}else if(n)return Lq(n,s)},has:function(s){if(E0&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Pq(e,s)}else if(S0){if(r)return Bq(r,s)}else if(n)return Fq(n,s);return!1},set:function(s,o){E0&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new E0),Rq(e,s,o)):S0?(r||(r=new S0),Dq(r,s,o)):(n||(n={key:{},next:null}),$q(n,s,o))}};return i},jq=String.prototype.replace,Hq=/%20/g,nm={RFC1738:"RFC1738",RFC3986:"RFC3986"},zv={default:nm.RFC3986,formatters:{RFC1738:function(t){return jq.call(t,Hq,"+")},RFC3986:function(t){return String(t)}},RFC1738:nm.RFC1738,RFC3986:nm.RFC3986},zq=zv,im=Object.prototype.hasOwnProperty,Ca=Array.isArray,qi=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Wq=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ca(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},vS=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},qq=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Ca(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!im.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Ca(e)&&!Ca(r)&&(i=vS(e,n)),Ca(e)&&Ca(r)?(r.forEach(function(s,o){if(im.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return im.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Vq=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Gq=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Kq=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===zq.RFC1738&&(l===40||l===41)){a+=o.charAt(c);continue}if(l<128){a=a+qi[l];continue}if(l<2048){a=a+(qi[192|l>>6]+qi[128|l&63]);continue}if(l<55296||l>=57344){a=a+(qi[224|l>>12]+qi[128|l>>6&63]+qi[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),a+=qi[240|l>>18]+qi[128|l>>12&63]+qi[128|l>>6&63]+qi[128|l&63]}return a},Jq=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var l=a[c],u=o[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:l}),n.push(u))}return Wq(r),e},Zq=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Yq=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Qq=function(e,r){return[].concat(e,r)},Xq=function(e,r){if(Ca(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},wS={arrayToObject:vS,assign:Vq,combine:Qq,compact:Jq,decode:Gq,encode:Kq,isBuffer:Yq,isRegExp:Zq,maybeMap:Xq,merge:qq},xS=Uq,Vy=wS,xf=zv,eV=Object.prototype.hasOwnProperty,M5={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},js=Array.isArray,tV=String.prototype.split,rV=Array.prototype.push,_S=function(t,e){rV.apply(t,js(e)?e:[e])},nV=Date.prototype.toISOString,T5=xf.default,Yr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Vy.encode,encodeValuesOnly:!1,format:T5,formatter:xf.formatters[T5],indices:!1,serializeDate:function(e){return nV.call(e)},skipNulls:!1,strictNullHandling:!1},iV=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},sm={},sV=function t(e,r,n,i,s,o,a,c,l,u,h,b,v,E,D,x){for(var _=e,m=x,w=0,A=!1;(m=m.get(sm))!==void 0&&!A;){var k=m.get(e);if(w+=1,typeof k<"u"){if(k===w)throw new RangeError("Cyclic object value");A=!0}typeof m.get(sm)>"u"&&(w=0)}if(typeof c=="function"?_=c(r,_):_ instanceof Date?_=h(_):n==="comma"&&js(_)&&(_=Vy.maybeMap(_,function(d){return d instanceof Date?h(d):d})),_===null){if(s)return a&&!E?a(r,Yr.encoder,D,"key",b):r;_=""}if(iV(_)||Vy.isBuffer(_)){if(a){var z=E?r:a(r,Yr.encoder,D,"key",b);if(n==="comma"&&E){for(var S=tV.call(String(_),","),H="",re=0;re<S.length;++re)H+=(re===0?"":",")+v(a(S[re],Yr.encoder,D,"value",b));return[v(z)+(i&&js(_)&&S.length===1?"[]":"")+"="+H]}return[v(z)+"="+v(a(_,Yr.encoder,D,"value",b))]}return[v(r)+"="+v(String(_))]}var W=[];if(typeof _>"u")return W;var y;if(n==="comma"&&js(_))y=[{value:_.length>0?_.join(",")||null:void 0}];else if(js(c))y=c;else{var R=Object.keys(_);y=l?R.sort(l):R}for(var I=i&&js(_)&&_.length===1?r+"[]":r,f=0;f<y.length;++f){var p=y[f],T=typeof p=="object"&&typeof p.value<"u"?p.value:_[p];if(!(o&&T===null)){var M=js(_)?typeof n=="function"?n(I,p):I:I+(u?"."+p:"["+p+"]");x.set(e,w);var C=xS();C.set(sm,x),_S(W,t(T,M,n,i,s,o,a,c,l,u,h,b,v,E,D,C))}}return W},oV=function(e){if(!e)return Yr;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Yr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=xf.default;if(typeof e.format<"u"){if(!eV.call(xf.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=xf.formatters[n],s=Yr.filter;return(typeof e.filter=="function"||js(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Yr.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Yr.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Yr.charsetSentinel,delimiter:typeof e.delimiter>"u"?Yr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Yr.encode,encoder:typeof e.encoder=="function"?e.encoder:Yr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Yr.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Yr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Yr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Yr.strictNullHandling}},aV=function(t,e){var r=t,n=oV(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):js(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in M5?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=M5[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=xS(),h=0;h<i.length;++h){var b=i[h];n.skipNulls&&r[b]===null||_S(o,sV(r[b],b,c,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var v=o.join(n.delimiter),E=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?E+="utf8=%26%2310003%3B&":E+="utf8=%E2%9C%93&"),v.length>0?E+v:""},pl=wS,Gy=Object.prototype.hasOwnProperty,cV=Array.isArray,zr={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:pl.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},lV=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},ES=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},uV="utf8=%26%2310003%3B",fV="utf8=%E2%9C%93",hV=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===fV?l="utf-8":o[c]===uV&&(l="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var u=o[c],h=u.indexOf("]="),b=h===-1?u.indexOf("="):h+1,v,E;b===-1?(v=r.decoder(u,zr.decoder,l,"key"),E=r.strictNullHandling?null:""):(v=r.decoder(u.slice(0,b),zr.decoder,l,"key"),E=pl.maybeMap(ES(u.slice(b+1),r),function(D){return r.decoder(D,zr.decoder,l,"value")})),E&&r.interpretNumericEntities&&l==="iso-8859-1"&&(E=lV(E)),u.indexOf("[]=")>-1&&(E=cV(E)?[E]:E),Gy.call(n,v)?n[v]=pl.combine(n[v],E):n[v]=E}return n},dV=function(t,e,r,n){for(var i=n?e:ES(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(l)&&a!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},pV=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),l=c?s.slice(0,c.index):s,u=[];if(l){if(!n.plainObjects&&Gy.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var h=0;n.depth>0&&(c=a.exec(s))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&Gy.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+s.slice(c.index)+"]"),dV(u,r,n,i)}},gV=function(e){if(!e)return zr;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?zr.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?zr.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:zr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:zr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:zr.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:zr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:zr.comma,decoder:typeof e.decoder=="function"?e.decoder:zr.decoder,delimiter:typeof e.delimiter=="string"||pl.isRegExp(e.delimiter)?e.delimiter:zr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:zr.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:zr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:zr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:zr.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:zr.strictNullHandling}},mV=function(t,e){var r=gV(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?hV(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=pV(a,n[a],r,typeof t=="string");i=pl.merge(i,c,r)}return r.allowSparse===!0?i:pl.compact(i)},bV=aV,yV=mV,vV=zv,wV={formats:vV,parse:yV,stringify:bV},Oh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(Oh);var xV=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.isInIFrame=Ke.createQrUrl=Ke.getFavicon=Ke.range=Ke.isBigNumber=Ke.ensureParsedJSONObject=Ke.ensureBN=Ke.ensureRegExpString=Ke.ensureIntNumber=Ke.ensureBuffer=Ke.ensureAddressString=Ke.ensureEvenLengthHexString=Ke.ensureHexString=Ke.isHexString=Ke.prepend0x=Ke.strip0x=Ke.has0xPrefix=Ke.hexStringFromIntNumber=Ke.intNumberFromHexString=Ke.bigIntStringFromBN=Ke.hexStringFromBuffer=Ke.hexStringToUint8Array=Ke.uint8ArrayToHex=Ke.randomBytesHex=void 0;const bo=xV($a),_V=wV,vi=Oh,SS=/^[0-9]*$/,AS=/^[a-f0-9]*$/;function EV(t){return CS(crypto.getRandomValues(new Uint8Array(t)))}Ke.randomBytesHex=EV;function CS(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}Ke.uint8ArrayToHex=CS;function SV(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}Ke.hexStringToUint8Array=SV;function AV(t,e=!1){const r=t.toString("hex");return(0,vi.HexString)(e?"0x"+r:r)}Ke.hexStringFromBuffer=AV;function CV(t){return(0,vi.BigIntString)(t.toString(10))}Ke.bigIntStringFromBN=CV;function IV(t){return(0,vi.IntNumber)(new bo.default(Ph(t,!1),16).toNumber())}Ke.intNumberFromHexString=IV;function MV(t){return(0,vi.HexString)("0x"+new bo.default(t).toString(16))}Ke.hexStringFromIntNumber=MV;function Wv(t){return t.startsWith("0x")||t.startsWith("0X")}Ke.has0xPrefix=Wv;function f1(t){return Wv(t)?t.slice(2):t}Ke.strip0x=f1;function IS(t){return Wv(t)?"0x"+t.slice(2):"0x"+t}Ke.prepend0x=IS;function Rh(t){if(typeof t!="string")return!1;const e=f1(t).toLowerCase();return AS.test(e)}Ke.isHexString=Rh;function MS(t,e=!1){if(typeof t=="string"){const r=f1(t).toLowerCase();if(AS.test(r))return(0,vi.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}Ke.ensureHexString=MS;function Ph(t,e=!1){let r=MS(t,!1);return r.length%2===1&&(r=(0,vi.HexString)("0"+r)),e?(0,vi.HexString)("0x"+r):r}Ke.ensureEvenLengthHexString=Ph;function TV(t){if(typeof t=="string"){const e=f1(t).toLowerCase();if(Rh(e)&&e.length===40)return(0,vi.AddressString)(IS(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}Ke.ensureAddressString=TV;function kV(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(Rh(t)){const e=Ph(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}Ke.ensureBuffer=kV;function TS(t){if(typeof t=="number"&&Number.isInteger(t))return(0,vi.IntNumber)(t);if(typeof t=="string"){if(SS.test(t))return(0,vi.IntNumber)(Number(t));if(Rh(t))return(0,vi.IntNumber)(new bo.default(Ph(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}Ke.ensureIntNumber=TS;function OV(t){if(t instanceof RegExp)return(0,vi.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}Ke.ensureRegExpString=OV;function RV(t){if(t!==null&&(bo.default.isBN(t)||kS(t)))return new bo.default(t.toString(10),10);if(typeof t=="number")return new bo.default(TS(t));if(typeof t=="string"){if(SS.test(t))return new bo.default(t,10);if(Rh(t))return new bo.default(Ph(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}Ke.ensureBN=RV;function PV(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}Ke.ensureParsedJSONObject=PV;function kS(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}Ke.isBigNumber=kS;function NV(t,e){return Array.from({length:e-t},(r,n)=>t+n)}Ke.range=NV;function DV(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}Ke.getFavicon=DV;function BV(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,_V.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}Ke.createQrUrl=BV;function LV(){try{return window.frameElement!==null}catch{return!1}}Ke.isInIFrame=LV;Object.defineProperty(Jl,"__esModule",{value:!0});Jl.Session=void 0;const $V=Xl,k5=s1,O5=Fy,R5=Ke,om="session:id",P5="session:secret",N5="session:linked";class qv{constructor(e,r,n,i){this._storage=e,this._id=r||(0,R5.randomBytesHex)(16),this._secret=n||(0,R5.randomBytesHex)(32),this._key=new O5.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(om),n=e.getItem(N5),i=e.getItem(P5);return r&&i?new qv(e,r,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,$V.fromEvent)(window,"storage").pipe((0,k5.filter)(e=>e.key===om),(0,k5.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new O5.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(om,this._id),this._storage.setItem(P5,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(N5,this._linked?"1":"0")}}Jl.Session=qv;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.WalletSDKRelayAbstract=Fi.APP_VERSION_KEY=Fi.LOCAL_STORAGE_ADDRESSES_KEY=Fi.WALLET_USER_NAME_KEY=void 0;const D5=e1;Fi.WALLET_USER_NAME_KEY="walletUsername";Fi.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Fi.APP_VERSION_KEY="AppVersion";class FV{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw D5.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,D5.serializeError)(s);return i})}}Fi.WalletSDKRelayAbstract=FV;var Kf={},UV={get exports(){return Kf},set exports(t){Kf=t}},OS=Cr.EventEmitter,am,B5;function jV(){if(B5)return am;B5=1;function t(b,v){var E=Object.keys(b);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(b);v&&(D=D.filter(function(x){return Object.getOwnPropertyDescriptor(b,x).enumerable})),E.push.apply(E,D)}return E}function e(b){for(var v=1;v<arguments.length;v++){var E=arguments[v]!=null?arguments[v]:{};v%2?t(Object(E),!0).forEach(function(D){r(b,D,E[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(E)):t(Object(E)).forEach(function(D){Object.defineProperty(b,D,Object.getOwnPropertyDescriptor(E,D))})}return b}function r(b,v,E){return v in b?Object.defineProperty(b,v,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[v]=E,b}function n(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function i(b,v){for(var E=0;E<v.length;E++){var D=v[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(b,D.key,D)}}function s(b,v,E){return v&&i(b.prototype,v),E&&i(b,E),b}var o=Vl,a=o.Buffer,c=Ll,l=c.inspect,u=l&&l.custom||"inspect";function h(b,v,E){a.prototype.copy.call(b,v,E)}return am=function(){function b(){n(this,b),this.head=null,this.tail=null,this.length=0}return s(b,[{key:"push",value:function(E){var D={data:E,next:null};this.length>0?this.tail.next=D:this.head=D,this.tail=D,++this.length}},{key:"unshift",value:function(E){var D={data:E,next:this.head};this.length===0&&(this.tail=D),this.head=D,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var D=this.head,x=""+D.data;D=D.next;)x+=E+D.data;return x}},{key:"concat",value:function(E){if(this.length===0)return a.alloc(0);for(var D=a.allocUnsafe(E>>>0),x=this.head,_=0;x;)h(x.data,D,_),_+=x.data.length,x=x.next;return D}},{key:"consume",value:function(E,D){var x;return E<this.head.data.length?(x=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?x=this.shift():x=D?this._getString(E):this._getBuffer(E),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var D=this.head,x=1,_=D.data;for(E-=_.length;D=D.next;){var m=D.data,w=E>m.length?m.length:E;if(w===m.length?_+=m:_+=m.slice(0,E),E-=w,E===0){w===m.length?(++x,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=m.slice(w));break}++x}return this.length-=x,_}},{key:"_getBuffer",value:function(E){var D=a.allocUnsafe(E),x=this.head,_=1;for(x.data.copy(D),E-=x.data.length;x=x.next;){var m=x.data,w=E>m.length?m.length:E;if(m.copy(D,D.length-E,0,w),E-=w,E===0){w===m.length?(++_,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=m.slice(w));break}++_}return this.length-=_,D}},{key:u,value:function(E,D){return l(this,e({},D,{depth:0,customInspect:!1}))}}]),b}(),am}function HV(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Ky,this,t)):process.nextTick(Ky,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(md,r):(r._writableState.errorEmitted=!0,process.nextTick(L5,r,s)):process.nextTick(L5,r,s):e?(process.nextTick(md,r),e(s)):process.nextTick(md,r)}),this)}function L5(t,e){Ky(t,e),md(t)}function md(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function zV(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Ky(t,e){t.emit("error",e)}function WV(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var RS={destroy:HV,undestroy:zV,errorOrDestroy:WV},ec={};function qV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var PS={};function Si(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){qV(o,s);function o(a,c,l){return s.call(this,n(a,c,l))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,PS[t]=i}function $5(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function VV(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function GV(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function KV(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Si("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Si("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&VV(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(GV(t," argument"))i="The ".concat(t," ").concat(n," ").concat($5(e,"type"));else{var s=KV(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat($5(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Si("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Si("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Si("ERR_STREAM_PREMATURE_CLOSE","Premature close");Si("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Si("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Si("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Si("ERR_STREAM_WRITE_AFTER_END","write after end");Si("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Si("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Si("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");ec.codes=PS;var JV=ec.codes.ERR_INVALID_OPT_VALUE;function ZV(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function YV(t,e,r,n){var i=ZV(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new JV(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var NS={getHighWaterMark:YV},QV=XV;function XV(t,e){if(cm("noDeprecation"))return t;var r=!1;function n(){if(!r){if(cm("throwDeprecation"))throw new Error(e);cm("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function cm(t){try{if(!ze.localStorage)return!1}catch{return!1}var e=ze.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var lm,F5;function DS(){if(F5)return lm;F5=1,lm=H;function t(G){var V=this;this.next=null,this.entry=null,this.finish=function(){P(V,G)}}var e;H.WritableState=z;var r={deprecate:QV},n=OS,i=Vl.Buffer,s=ze.Uint8Array||function(){};function o(G){return i.from(G)}function a(G){return i.isBuffer(G)||G instanceof s}var c=RS,l=NS,u=l.getHighWaterMark,h=ec.codes,b=h.ERR_INVALID_ARG_TYPE,v=h.ERR_METHOD_NOT_IMPLEMENTED,E=h.ERR_MULTIPLE_CALLBACK,D=h.ERR_STREAM_CANNOT_PIPE,x=h.ERR_STREAM_DESTROYED,_=h.ERR_STREAM_NULL_VALUES,m=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,A=c.errorOrDestroy;Sn(H,n);function k(){}function z(G,V,K){e=e||gl(),G=G||{},typeof K!="boolean"&&(K=V instanceof e),this.objectMode=!!G.objectMode,K&&(this.objectMode=this.objectMode||!!G.writableObjectMode),this.highWaterMark=u(this,G,"writableHighWaterMark",K),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Y=G.decodeStrings===!1;this.decodeStrings=!Y,this.defaultEncoding=G.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){T(V,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=G.emitClose!==!1,this.autoDestroy=!!G.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}z.prototype.getBuffer=function(){for(var V=this.bufferedRequest,K=[];V;)K.push(V),V=V.next;return K},function(){try{Object.defineProperty(z.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var S;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(V){return S.call(this,V)?!0:this!==H?!1:V&&V._writableState instanceof z}})):S=function(V){return V instanceof this};function H(G){e=e||gl();var V=this instanceof e;if(!V&&!S.call(H,this))return new H(G);this._writableState=new z(G,this,V),this.writable=!0,G&&(typeof G.write=="function"&&(this._write=G.write),typeof G.writev=="function"&&(this._writev=G.writev),typeof G.destroy=="function"&&(this._destroy=G.destroy),typeof G.final=="function"&&(this._final=G.final)),n.call(this)}H.prototype.pipe=function(){A(this,new D)};function re(G,V){var K=new m;A(G,K),process.nextTick(V,K)}function W(G,V,K,Y){var N;return K===null?N=new _:typeof K!="string"&&!V.objectMode&&(N=new b("chunk",["string","Buffer"],K)),N?(A(G,N),process.nextTick(Y,N),!1):!0}H.prototype.write=function(G,V,K){var Y=this._writableState,N=!1,U=!Y.objectMode&&a(G);return U&&!i.isBuffer(G)&&(G=o(G)),typeof V=="function"&&(K=V,V=null),U?V="buffer":V||(V=Y.defaultEncoding),typeof K!="function"&&(K=k),Y.ending?re(this,K):(U||W(this,Y,G,K))&&(Y.pendingcb++,N=R(this,Y,U,G,V,K)),N},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var G=this._writableState;G.corked&&(G.corked--,!G.writing&&!G.corked&&!G.bufferProcessing&&G.bufferedRequest&&d(this,G))},H.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new w(V);return this._writableState.defaultEncoding=V,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function y(G,V,K){return!G.objectMode&&G.decodeStrings!==!1&&typeof V=="string"&&(V=i.from(V,K)),V}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(G,V,K,Y,N,U){if(!K){var Z=y(V,Y,N);Y!==Z&&(K=!0,N="buffer",Y=Z)}var ae=V.objectMode?1:Y.length;V.length+=ae;var ce=V.length<V.highWaterMark;if(ce||(V.needDrain=!0),V.writing||V.corked){var pe=V.lastBufferedRequest;V.lastBufferedRequest={chunk:Y,encoding:N,isBuf:K,callback:U,next:null},pe?pe.next=V.lastBufferedRequest:V.bufferedRequest=V.lastBufferedRequest,V.bufferedRequestCount+=1}else I(G,V,!1,ae,Y,N,U);return ce}function I(G,V,K,Y,N,U,Z){V.writelen=Y,V.writecb=Z,V.writing=!0,V.sync=!0,V.destroyed?V.onwrite(new x("write")):K?G._writev(N,V.onwrite):G._write(N,U,V.onwrite),V.sync=!1}function f(G,V,K,Y,N){--V.pendingcb,K?(process.nextTick(N,Y),process.nextTick(L,G,V),G._writableState.errorEmitted=!0,A(G,Y)):(N(Y),G._writableState.errorEmitted=!0,A(G,Y),L(G,V))}function p(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}function T(G,V){var K=G._writableState,Y=K.sync,N=K.writecb;if(typeof N!="function")throw new E;if(p(K),V)f(G,K,Y,V,N);else{var U=B(K)||G.destroyed;!U&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&d(G,K),Y?process.nextTick(M,G,K,U,N):M(G,K,U,N)}}function M(G,V,K,Y){K||C(G,V),V.pendingcb--,Y(),L(G,V)}function C(G,V){V.length===0&&V.needDrain&&(V.needDrain=!1,G.emit("drain"))}function d(G,V){V.bufferProcessing=!0;var K=V.bufferedRequest;if(G._writev&&K&&K.next){var Y=V.bufferedRequestCount,N=new Array(Y),U=V.corkedRequestsFree;U.entry=K;for(var Z=0,ae=!0;K;)N[Z]=K,K.isBuf||(ae=!1),K=K.next,Z+=1;N.allBuffers=ae,I(G,V,!0,V.length,N,"",U.finish),V.pendingcb++,V.lastBufferedRequest=null,U.next?(V.corkedRequestsFree=U.next,U.next=null):V.corkedRequestsFree=new t(V),V.bufferedRequestCount=0}else{for(;K;){var ce=K.chunk,pe=K.encoding,ee=K.callback,j=V.objectMode?1:ce.length;if(I(G,V,!1,j,ce,pe,ee),K=K.next,V.bufferedRequestCount--,V.writing)break}K===null&&(V.lastBufferedRequest=null)}V.bufferedRequest=K,V.bufferProcessing=!1}H.prototype._write=function(G,V,K){K(new v("_write()"))},H.prototype._writev=null,H.prototype.end=function(G,V,K){var Y=this._writableState;return typeof G=="function"?(K=G,G=null,V=null):typeof V=="function"&&(K=V,V=null),G!=null&&this.write(G,V),Y.corked&&(Y.corked=1,this.uncork()),Y.ending||Q(this,Y,K),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(G){return G.ending&&G.length===0&&G.bufferedRequest===null&&!G.finished&&!G.writing}function O(G,V){G._final(function(K){V.pendingcb--,K&&A(G,K),V.prefinished=!0,G.emit("prefinish"),L(G,V)})}function g(G,V){!V.prefinished&&!V.finalCalled&&(typeof G._final=="function"&&!V.destroyed?(V.pendingcb++,V.finalCalled=!0,process.nextTick(O,G,V)):(V.prefinished=!0,G.emit("prefinish")))}function L(G,V){var K=B(V);if(K&&(g(G,V),V.pendingcb===0&&(V.finished=!0,G.emit("finish"),V.autoDestroy))){var Y=G._readableState;(!Y||Y.autoDestroy&&Y.endEmitted)&&G.destroy()}return K}function Q(G,V,K){V.ending=!0,L(G,V),K&&(V.finished?process.nextTick(K):G.once("finish",K)),V.ended=!0,G.writable=!1}function P(G,V,K){var Y=G.entry;for(G.entry=null;Y;){var N=Y.callback;V.pendingcb--,N(K),Y=Y.next}V.corkedRequestsFree.next=G}return Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(V){this._writableState&&(this._writableState.destroyed=V)}}),H.prototype.destroy=c.destroy,H.prototype._undestroy=c.undestroy,H.prototype._destroy=function(G,V){V(G)},lm}var um,U5;function gl(){if(U5)return um;U5=1;var t=Object.keys||function(l){var u=[];for(var h in l)u.push(h);return u};um=o;var e=LS(),r=DS();Sn(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),um}var fm={},j5;function H5(){if(j5)return fm;j5=1;var t=zi.Buffer,e=t.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(_){if(!_)return"utf8";for(var m;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(m)return;_=(""+_).toLowerCase(),m=!0}}function n(_){var m=r(_);if(typeof m!="string"&&(t.isEncoding===e||!e(_)))throw new Error("Unknown encoding: "+_);return m||_}fm.StringDecoder=i;function i(_){this.encoding=n(_);var m;switch(this.encoding){case"utf16le":this.text=h,this.end=b,m=4;break;case"utf8":this.fillLast=c,m=4;break;case"base64":this.text=v,this.end=E,m=3;break;default:this.write=D,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(m)}i.prototype.write=function(_){if(_.length===0)return"";var m,w;if(this.lastNeed){if(m=this.fillLast(_),m===void 0)return"";w=this.lastNeed,this.lastNeed=0}else w=0;return w<_.length?m?m+this.text(_,w):this.text(_,w):m||""},i.prototype.end=u,i.prototype.text=l,i.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function s(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function o(_,m,w){var A=m.length-1;if(A<w)return 0;var k=s(m[A]);return k>=0?(k>0&&(_.lastNeed=k-1),k):--A<w||k===-2?0:(k=s(m[A]),k>=0?(k>0&&(_.lastNeed=k-2),k):--A<w||k===-2?0:(k=s(m[A]),k>=0?(k>0&&(k===2?k=0:_.lastNeed=k-3),k):0))}function a(_,m,w){if((m[0]&192)!==128)return _.lastNeed=0,"";if(_.lastNeed>1&&m.length>1){if((m[1]&192)!==128)return _.lastNeed=1,"";if(_.lastNeed>2&&m.length>2&&(m[2]&192)!==128)return _.lastNeed=2,""}}function c(_){var m=this.lastTotal-this.lastNeed,w=a(this,_);if(w!==void 0)return w;if(this.lastNeed<=_.length)return _.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,m,0,_.length),this.lastNeed-=_.length}function l(_,m){var w=o(this,_,m);if(!this.lastNeed)return _.toString("utf8",m);this.lastTotal=w;var A=_.length-(w-this.lastNeed);return _.copy(this.lastChar,0,A),_.toString("utf8",m,A)}function u(_){var m=_&&_.length?this.write(_):"";return this.lastNeed?m+"":m}function h(_,m){if((_.length-m)%2===0){var w=_.toString("utf16le",m);if(w){var A=w.charCodeAt(w.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],w.slice(0,-1)}return w}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",m,_.length-1)}function b(_){var m=_&&_.length?this.write(_):"";if(this.lastNeed){var w=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,w)}return m}function v(_,m){var w=(_.length-m)%3;return w===0?_.toString("base64",m):(this.lastNeed=3-w,this.lastTotal=3,w===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",m,_.length-w))}function E(_){var m=_&&_.length?this.write(_):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function D(_){return _.toString(this.encoding)}function x(_){return _&&_.length?this.write(_):""}return fm}var z5=ec.codes.ERR_STREAM_PREMATURE_CLOSE;function eG(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function tG(){}function rG(t){return t.setHeader&&typeof t.abort=="function"}function BS(t,e,r){if(typeof e=="function")return BS(t,null,e);e||(e={}),r=eG(r||tG);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,c=!0,i||r.call(t)},u=function(E){r.call(t,E)},h=function(){var E;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(E=new z5),r.call(t,E);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(E=new z5),r.call(t,E)},b=function(){t.req.on("finish",a)};return rG(t)?(t.on("complete",a),t.on("abort",h),t.req?b():t.on("request",b)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",u),t.on("close",h),function(){t.removeListener("complete",a),t.removeListener("abort",h),t.removeListener("request",b),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",u),t.removeListener("close",h)}}var Vv=BS,hm,W5;function nG(){if(W5)return hm;W5=1;var t;function e(_,m,w){return m in _?Object.defineProperty(_,m,{value:w,enumerable:!0,configurable:!0,writable:!0}):_[m]=w,_}var r=Vv,n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),c=Symbol("handlePromise"),l=Symbol("stream");function u(_,m){return{value:_,done:m}}function h(_){var m=_[n];if(m!==null){var w=_[l].read();w!==null&&(_[a]=null,_[n]=null,_[i]=null,m(u(w,!1)))}}function b(_){process.nextTick(h,_)}function v(_,m){return function(w,A){_.then(function(){if(m[o]){w(u(void 0,!0));return}m[c](w,A)},A)}}var E=Object.getPrototypeOf(function(){}),D=Object.setPrototypeOf((t={get stream(){return this[l]},next:function(){var m=this,w=this[s];if(w!==null)return Promise.reject(w);if(this[o])return Promise.resolve(u(void 0,!0));if(this[l].destroyed)return new Promise(function(S,H){process.nextTick(function(){m[s]?H(m[s]):S(u(void 0,!0))})});var A=this[a],k;if(A)k=new Promise(v(A,this));else{var z=this[l].read();if(z!==null)return Promise.resolve(u(z,!1));k=new Promise(this[c])}return this[a]=k,k}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var m=this;return new Promise(function(w,A){m[l].destroy(null,function(k){if(k){A(k);return}w(u(void 0,!0))})})}),t),E),x=function(m){var w,A=Object.create(D,(w={},e(w,l,{value:m,writable:!0}),e(w,n,{value:null,writable:!0}),e(w,i,{value:null,writable:!0}),e(w,s,{value:null,writable:!0}),e(w,o,{value:m._readableState.endEmitted,writable:!0}),e(w,c,{value:function(z,S){var H=A[l].read();H?(A[a]=null,A[n]=null,A[i]=null,z(u(H,!1))):(A[n]=z,A[i]=S)},writable:!0}),w));return A[a]=null,r(m,function(k){if(k&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=A[i];z!==null&&(A[a]=null,A[n]=null,A[i]=null,z(k)),A[s]=k;return}var S=A[n];S!==null&&(A[a]=null,A[n]=null,A[i]=null,S(u(void 0,!0))),A[o]=!0}),m.on("readable",b.bind(null,A)),A};return hm=x,hm}var dm,q5;function iG(){return q5||(q5=1,dm=function(){throw new Error("Readable.from is not available in the browser")}),dm}var pm,V5;function LS(){if(V5)return pm;V5=1,pm=re;var t;re.ReadableState=H,Cr.EventEmitter;var e=function(Z,ae){return Z.listeners(ae).length},r=OS,n=Vl.Buffer,i=ze.Uint8Array||function(){};function s(U){return n.from(U)}function o(U){return n.isBuffer(U)||U instanceof i}var a=Ll,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var l=jV(),u=RS,h=NS,b=h.getHighWaterMark,v=ec.codes,E=v.ERR_INVALID_ARG_TYPE,D=v.ERR_STREAM_PUSH_AFTER_EOF,x=v.ERR_METHOD_NOT_IMPLEMENTED,_=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m,w,A;Sn(re,r);var k=u.errorOrDestroy,z=["error","close","destroy","pause","resume"];function S(U,Z,ae){if(typeof U.prependListener=="function")return U.prependListener(Z,ae);!U._events||!U._events[Z]?U.on(Z,ae):Array.isArray(U._events[Z])?U._events[Z].unshift(ae):U._events[Z]=[ae,U._events[Z]]}function H(U,Z,ae){t=t||gl(),U=U||{},typeof ae!="boolean"&&(ae=Z instanceof t),this.objectMode=!!U.objectMode,ae&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=b(this,U,"readableHighWaterMark",ae),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(m||(m=H5().StringDecoder),this.decoder=new m(U.encoding),this.encoding=U.encoding)}function re(U){if(t=t||gl(),!(this instanceof re))return new re(U);var Z=this instanceof t;this._readableState=new H(U,this,Z),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),r.call(this)}Object.defineProperty(re.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),re.prototype.destroy=u.destroy,re.prototype._undestroy=u.undestroy,re.prototype._destroy=function(U,Z){Z(U)},re.prototype.push=function(U,Z){var ae=this._readableState,ce;return ae.objectMode?ce=!0:typeof U=="string"&&(Z=Z||ae.defaultEncoding,Z!==ae.encoding&&(U=n.from(U,Z),Z=""),ce=!0),W(this,U,Z,!1,ce)},re.prototype.unshift=function(U){return W(this,U,null,!0,!1)};function W(U,Z,ae,ce,pe){c("readableAddChunk",Z);var ee=U._readableState;if(Z===null)ee.reading=!1,T(U,ee);else{var j;if(pe||(j=R(ee,Z)),j)k(U,j);else if(ee.objectMode||Z&&Z.length>0)if(typeof Z!="string"&&!ee.objectMode&&Object.getPrototypeOf(Z)!==n.prototype&&(Z=s(Z)),ce)ee.endEmitted?k(U,new _):y(U,ee,Z,!0);else if(ee.ended)k(U,new D);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!ae?(Z=ee.decoder.write(Z),ee.objectMode||Z.length!==0?y(U,ee,Z,!1):d(U,ee)):y(U,ee,Z,!1)}else ce||(ee.reading=!1,d(U,ee))}return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function y(U,Z,ae,ce){Z.flowing&&Z.length===0&&!Z.sync?(Z.awaitDrain=0,U.emit("data",ae)):(Z.length+=Z.objectMode?1:ae.length,ce?Z.buffer.unshift(ae):Z.buffer.push(ae),Z.needReadable&&M(U)),d(U,Z)}function R(U,Z){var ae;return!o(Z)&&typeof Z!="string"&&Z!==void 0&&!U.objectMode&&(ae=new E("chunk",["string","Buffer","Uint8Array"],Z)),ae}re.prototype.isPaused=function(){return this._readableState.flowing===!1},re.prototype.setEncoding=function(U){m||(m=H5().StringDecoder);var Z=new m(U);this._readableState.decoder=Z,this._readableState.encoding=this._readableState.decoder.encoding;for(var ae=this._readableState.buffer.head,ce="";ae!==null;)ce+=Z.write(ae.data),ae=ae.next;return this._readableState.buffer.clear(),ce!==""&&this._readableState.buffer.push(ce),this._readableState.length=ce.length,this};var I=1073741824;function f(U){return U>=I?U=I:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function p(U,Z){return U<=0||Z.length===0&&Z.ended?0:Z.objectMode?1:U!==U?Z.flowing&&Z.length?Z.buffer.head.data.length:Z.length:(U>Z.highWaterMark&&(Z.highWaterMark=f(U)),U<=Z.length?U:Z.ended?Z.length:(Z.needReadable=!0,0))}re.prototype.read=function(U){c("read",U),U=parseInt(U,10);var Z=this._readableState,ae=U;if(U!==0&&(Z.emittedReadable=!1),U===0&&Z.needReadable&&((Z.highWaterMark!==0?Z.length>=Z.highWaterMark:Z.length>0)||Z.ended))return c("read: emitReadable",Z.length,Z.ended),Z.length===0&&Z.ended?K(this):M(this),null;if(U=p(U,Z),U===0&&Z.ended)return Z.length===0&&K(this),null;var ce=Z.needReadable;c("need readable",ce),(Z.length===0||Z.length-U<Z.highWaterMark)&&(ce=!0,c("length less than watermark",ce)),Z.ended||Z.reading?(ce=!1,c("reading or ended",ce)):ce&&(c("do read"),Z.reading=!0,Z.sync=!0,Z.length===0&&(Z.needReadable=!0),this._read(Z.highWaterMark),Z.sync=!1,Z.reading||(U=p(ae,Z)));var pe;return U>0?pe=V(U,Z):pe=null,pe===null?(Z.needReadable=Z.length<=Z.highWaterMark,U=0):(Z.length-=U,Z.awaitDrain=0),Z.length===0&&(Z.ended||(Z.needReadable=!0),ae!==U&&Z.ended&&K(this)),pe!==null&&this.emit("data",pe),pe};function T(U,Z){if(c("onEofChunk"),!Z.ended){if(Z.decoder){var ae=Z.decoder.end();ae&&ae.length&&(Z.buffer.push(ae),Z.length+=Z.objectMode?1:ae.length)}Z.ended=!0,Z.sync?M(U):(Z.needReadable=!1,Z.emittedReadable||(Z.emittedReadable=!0,C(U)))}}function M(U){var Z=U._readableState;c("emitReadable",Z.needReadable,Z.emittedReadable),Z.needReadable=!1,Z.emittedReadable||(c("emitReadable",Z.flowing),Z.emittedReadable=!0,process.nextTick(C,U))}function C(U){var Z=U._readableState;c("emitReadable_",Z.destroyed,Z.length,Z.ended),!Z.destroyed&&(Z.length||Z.ended)&&(U.emit("readable"),Z.emittedReadable=!1),Z.needReadable=!Z.flowing&&!Z.ended&&Z.length<=Z.highWaterMark,G(U)}function d(U,Z){Z.readingMore||(Z.readingMore=!0,process.nextTick(B,U,Z))}function B(U,Z){for(;!Z.reading&&!Z.ended&&(Z.length<Z.highWaterMark||Z.flowing&&Z.length===0);){var ae=Z.length;if(c("maybeReadMore read 0"),U.read(0),ae===Z.length)break}Z.readingMore=!1}re.prototype._read=function(U){k(this,new x("_read()"))},re.prototype.pipe=function(U,Z){var ae=this,ce=this._readableState;switch(ce.pipesCount){case 0:ce.pipes=U;break;case 1:ce.pipes=[ce.pipes,U];break;default:ce.pipes.push(U);break}ce.pipesCount+=1,c("pipe count=%d opts=%j",ce.pipesCount,Z);var pe=(!Z||Z.end!==!1)&&U!==process.stdout&&U!==process.stderr,ee=pe?q:we;ce.endEmitted?process.nextTick(ee):ae.once("end",ee),U.on("unpipe",j);function j(J,$){c("onunpipe"),J===ae&&$&&$.hasUnpiped===!1&&($.hasUnpiped=!0,fe())}function q(){c("onend"),U.end()}var X=O(ae);U.on("drain",X);var ie=!1;function fe(){c("cleanup"),U.removeListener("close",be),U.removeListener("finish",Ae),U.removeListener("drain",X),U.removeListener("error",ge),U.removeListener("unpipe",j),ae.removeListener("end",q),ae.removeListener("end",we),ae.removeListener("data",de),ie=!0,ce.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&X()}ae.on("data",de);function de(J){c("ondata");var $=U.write(J);c("dest.write",$),$===!1&&((ce.pipesCount===1&&ce.pipes===U||ce.pipesCount>1&&N(ce.pipes,U)!==-1)&&!ie&&(c("false write response, pause",ce.awaitDrain),ce.awaitDrain++),ae.pause())}function ge(J){c("onerror",J),we(),U.removeListener("error",ge),e(U,"error")===0&&k(U,J)}S(U,"error",ge);function be(){U.removeListener("finish",Ae),we()}U.once("close",be);function Ae(){c("onfinish"),U.removeListener("close",be),we()}U.once("finish",Ae);function we(){c("unpipe"),ae.unpipe(U)}return U.emit("pipe",ae),ce.flowing||(c("pipe resume"),ae.resume()),U};function O(U){return function(){var ae=U._readableState;c("pipeOnDrain",ae.awaitDrain),ae.awaitDrain&&ae.awaitDrain--,ae.awaitDrain===0&&e(U,"data")&&(ae.flowing=!0,G(U))}}re.prototype.unpipe=function(U){var Z=this._readableState,ae={hasUnpiped:!1};if(Z.pipesCount===0)return this;if(Z.pipesCount===1)return U&&U!==Z.pipes?this:(U||(U=Z.pipes),Z.pipes=null,Z.pipesCount=0,Z.flowing=!1,U&&U.emit("unpipe",this,ae),this);if(!U){var ce=Z.pipes,pe=Z.pipesCount;Z.pipes=null,Z.pipesCount=0,Z.flowing=!1;for(var ee=0;ee<pe;ee++)ce[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var j=N(Z.pipes,U);return j===-1?this:(Z.pipes.splice(j,1),Z.pipesCount-=1,Z.pipesCount===1&&(Z.pipes=Z.pipes[0]),U.emit("unpipe",this,ae),this)},re.prototype.on=function(U,Z){var ae=r.prototype.on.call(this,U,Z),ce=this._readableState;return U==="data"?(ce.readableListening=this.listenerCount("readable")>0,ce.flowing!==!1&&this.resume()):U==="readable"&&!ce.endEmitted&&!ce.readableListening&&(ce.readableListening=ce.needReadable=!0,ce.flowing=!1,ce.emittedReadable=!1,c("on readable",ce.length,ce.reading),ce.length?M(this):ce.reading||process.nextTick(L,this)),ae},re.prototype.addListener=re.prototype.on,re.prototype.removeListener=function(U,Z){var ae=r.prototype.removeListener.call(this,U,Z);return U==="readable"&&process.nextTick(g,this),ae},re.prototype.removeAllListeners=function(U){var Z=r.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&process.nextTick(g,this),Z};function g(U){var Z=U._readableState;Z.readableListening=U.listenerCount("readable")>0,Z.resumeScheduled&&!Z.paused?Z.flowing=!0:U.listenerCount("data")>0&&U.resume()}function L(U){c("readable nexttick read 0"),U.read(0)}re.prototype.resume=function(){var U=this._readableState;return U.flowing||(c("resume"),U.flowing=!U.readableListening,Q(this,U)),U.paused=!1,this};function Q(U,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,process.nextTick(P,U,Z))}function P(U,Z){c("resume",Z.reading),Z.reading||U.read(0),Z.resumeScheduled=!1,U.emit("resume"),G(U),Z.flowing&&!Z.reading&&U.read(0)}re.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function G(U){var Z=U._readableState;for(c("flow",Z.flowing);Z.flowing&&U.read()!==null;);}re.prototype.wrap=function(U){var Z=this,ae=this._readableState,ce=!1;U.on("end",function(){if(c("wrapped end"),ae.decoder&&!ae.ended){var j=ae.decoder.end();j&&j.length&&Z.push(j)}Z.push(null)}),U.on("data",function(j){if(c("wrapped data"),ae.decoder&&(j=ae.decoder.write(j)),!(ae.objectMode&&j==null)&&!(!ae.objectMode&&(!j||!j.length))){var q=Z.push(j);q||(ce=!0,U.pause())}});for(var pe in U)this[pe]===void 0&&typeof U[pe]=="function"&&(this[pe]=function(q){return function(){return U[q].apply(U,arguments)}}(pe));for(var ee=0;ee<z.length;ee++)U.on(z[ee],this.emit.bind(this,z[ee]));return this._read=function(j){c("wrapped _read",j),ce&&(ce=!1,U.resume())},this},typeof Symbol=="function"&&(re.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=nG()),w(this)}),Object.defineProperty(re.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(re.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(re.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Z){this._readableState&&(this._readableState.flowing=Z)}}),re._fromList=V,Object.defineProperty(re.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function V(U,Z){if(Z.length===0)return null;var ae;return Z.objectMode?ae=Z.buffer.shift():!U||U>=Z.length?(Z.decoder?ae=Z.buffer.join(""):Z.buffer.length===1?ae=Z.buffer.first():ae=Z.buffer.concat(Z.length),Z.buffer.clear()):ae=Z.buffer.consume(U,Z.decoder),ae}function K(U){var Z=U._readableState;c("endReadable",Z.endEmitted),Z.endEmitted||(Z.ended=!0,process.nextTick(Y,Z,U))}function Y(U,Z){if(c("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,Z.readable=!1,Z.emit("end"),U.autoDestroy)){var ae=Z._writableState;(!ae||ae.autoDestroy&&ae.finished)&&Z.destroy()}}typeof Symbol=="function"&&(re.from=function(U,Z){return A===void 0&&(A=iG()),A(re,U,Z)});function N(U,Z){for(var ae=0,ce=U.length;ae<ce;ae++)if(U[ae]===Z)return ae;return-1}return pm}var $S=eo,h1=ec.codes,sG=h1.ERR_METHOD_NOT_IMPLEMENTED,oG=h1.ERR_MULTIPLE_CALLBACK,aG=h1.ERR_TRANSFORM_ALREADY_TRANSFORMING,cG=h1.ERR_TRANSFORM_WITH_LENGTH_0,d1=gl();Sn(eo,d1);function lG(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new oG);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function eo(t){if(!(this instanceof eo))return new eo(t);d1.call(this,t),this._transformState={afterTransform:lG.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",uG)}function uG(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){G5(t,e,r)}):G5(this,null,null)}eo.prototype.push=function(t,e){return this._transformState.needTransform=!1,d1.prototype.push.call(this,t,e)};eo.prototype._transform=function(t,e,r){r(new sG("_transform()"))};eo.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};eo.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};eo.prototype._destroy=function(t,e){d1.prototype._destroy.call(this,t,function(r){e(r)})};function G5(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new cG;if(t._transformState.transforming)throw new aG;return t.push(null)}var fG=Jf,FS=$S;Sn(Jf,FS);function Jf(t){if(!(this instanceof Jf))return new Jf(t);FS.call(this,t)}Jf.prototype._transform=function(t,e,r){r(null,t)};var gm;function hG(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var US=ec.codes,dG=US.ERR_MISSING_ARGS,pG=US.ERR_STREAM_DESTROYED;function K5(t){if(t)throw t}function gG(t){return t.setHeader&&typeof t.abort=="function"}function mG(t,e,r,n){n=hG(n);var i=!1;t.on("close",function(){i=!0}),gm===void 0&&(gm=Vv),gm(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,gG(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new pG("pipe"))}}}function J5(t){t()}function bG(t,e){return t.pipe(e)}function yG(t){return!t.length||typeof t[t.length-1]!="function"?K5:t.pop()}function vG(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=yG(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new dG("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,l=a>0;return mG(o,c,l,function(u){i||(i=u),u&&s.forEach(J5),!c&&(s.forEach(J5),n(i))})});return e.reduce(bG)}var wG=vG;(function(t,e){e=t.exports=LS(),e.Stream=e,e.Readable=e,e.Writable=DS(),e.Duplex=gl(),e.Transform=$S,e.PassThrough=fG,e.finished=Vv,e.pipeline=wG})(UV,Kf);const{Transform:xG}=Kf;var _G=t=>class jS extends xG{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new jS(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:EG}=Kf;var SG=t=>class HS extends EG{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new HS(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const AG=_G,CG=SG;var IG=function(t){const e=AG(t),r=CG(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},zS={};const Z5=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];zS.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],u=t[8]^t[18]^t[28]^t[38]^t[48],h=t[9]^t[19]^t[29]^t[39]^t[49];let b=u^(i<<1|s>>>31),v=h^(s<<1|i>>>31);const E=t[0]^b,D=t[1]^v,x=t[10]^b,_=t[11]^v,m=t[20]^b,w=t[21]^v,A=t[30]^b,k=t[31]^v,z=t[40]^b,S=t[41]^v;b=r^(o<<1|a>>>31),v=n^(a<<1|o>>>31);const H=t[2]^b,re=t[3]^v,W=t[12]^b,y=t[13]^v,R=t[22]^b,I=t[23]^v,f=t[32]^b,p=t[33]^v,T=t[42]^b,M=t[43]^v;b=i^(c<<1|l>>>31),v=s^(l<<1|c>>>31);const C=t[4]^b,d=t[5]^v,B=t[14]^b,O=t[15]^v,g=t[24]^b,L=t[25]^v,Q=t[34]^b,P=t[35]^v,G=t[44]^b,V=t[45]^v;b=o^(u<<1|h>>>31),v=a^(h<<1|u>>>31);const K=t[6]^b,Y=t[7]^v,N=t[16]^b,U=t[17]^v,Z=t[26]^b,ae=t[27]^v,ce=t[36]^b,pe=t[37]^v,ee=t[46]^b,j=t[47]^v;b=c^(r<<1|n>>>31),v=l^(n<<1|r>>>31);const q=t[8]^b,X=t[9]^v,ie=t[18]^b,fe=t[19]^v,de=t[28]^b,ge=t[29]^v,be=t[38]^b,Ae=t[39]^v,we=t[48]^b,J=t[49]^v,$=E,F=D,te=_<<4|x>>>28,se=x<<4|_>>>28,oe=m<<3|w>>>29,le=w<<3|m>>>29,ke=k<<9|A>>>23,_e=A<<9|k>>>23,Ce=z<<18|S>>>14,rt=S<<18|z>>>14,Ie=H<<1|re>>>31,qe=re<<1|H>>>31,dr=y<<12|W>>>20,Je=W<<12|y>>>20,Ze=R<<10|I>>>22,Tt=I<<10|R>>>22,Re=p<<13|f>>>19,De=f<<13|p>>>19,kt=T<<2|M>>>30,Be=M<<2|T>>>30,Pe=d<<30|C>>>2,Dt=C<<30|d>>>2,Fe=B<<6|O>>>26,Ue=O<<6|B>>>26,Bt=L<<11|g>>>21,je=g<<11|L>>>21,$e=Q<<15|P>>>17,Ot=P<<15|Q>>>17,Oe=V<<29|G>>>3,He=G<<29|V>>>3,Lt=K<<28|Y>>>4,Xe=Y<<28|K>>>4,et=U<<23|N>>>9,Kr=N<<23|U>>>9,ft=Z<<25|ae>>>7,Rt=ae<<25|Z>>>7,Dr=ce<<21|pe>>>11,Br=pe<<21|ce>>>11,Lr=j<<24|ee>>>8,$r=ee<<24|j>>>8,sr=q<<27|X>>>5,Dn=X<<27|q>>>5,Bn=ie<<20|fe>>>12,Ln=fe<<20|ie>>>12,$n=ge<<7|de>>>25,Fn=de<<7|ge>>>25,nn=be<<8|Ae>>>24,Un=Ae<<8|be>>>24,jn=we<<14|J>>>18,Ir=J<<14|we>>>18;t[0]=$^~dr&Bt,t[1]=F^~Je&je,t[10]=Lt^~Bn&oe,t[11]=Xe^~Ln&le,t[20]=Ie^~Fe&ft,t[21]=qe^~Ue&Rt,t[30]=sr^~te&Ze,t[31]=Dn^~se&Tt,t[40]=Pe^~et&$n,t[41]=Dt^~Kr&Fn,t[2]=dr^~Bt&Dr,t[3]=Je^~je&Br,t[12]=Bn^~oe&Re,t[13]=Ln^~le&De,t[22]=Fe^~ft&nn,t[23]=Ue^~Rt&Un,t[32]=te^~Ze&$e,t[33]=se^~Tt&Ot,t[42]=et^~$n&ke,t[43]=Kr^~Fn&_e,t[4]=Bt^~Dr&jn,t[5]=je^~Br&Ir,t[14]=oe^~Re&Oe,t[15]=le^~De&He,t[24]=ft^~nn&Ce,t[25]=Rt^~Un&rt,t[34]=Ze^~$e&Lr,t[35]=Tt^~Ot&$r,t[44]=$n^~ke&kt,t[45]=Fn^~_e&Be,t[6]=Dr^~jn&$,t[7]=Br^~Ir&F,t[16]=Re^~Oe&Lt,t[17]=De^~He&Xe,t[26]=nn^~Ce&Ie,t[27]=Un^~rt&qe,t[36]=$e^~Lr&sr,t[37]=Ot^~$r&Dn,t[46]=ke^~kt&Pe,t[47]=_e^~Be&Dt,t[8]=jn^~$&dr,t[9]=Ir^~F&Je,t[18]=Oe^~Lt&Bn,t[19]=He^~Xe&Ln,t[28]=Ce^~Ie&Fe,t[29]=rt^~qe&Ue,t[38]=Lr^~sr&te,t[39]=$r^~Dn&se,t[48]=kt^~Pe&et,t[49]=Be^~Dt&Kr,t[0]^=Z5[e*2],t[1]^=Z5[e*2+1]}};const Qd=zS;function ru(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}ru.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};ru.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Qd.p1600(this.state),this.count=0)};ru.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&Qd.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Qd.p1600(this.state),this.count=0,this.squeezing=!0};ru.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Qd.p1600(this.state),this.count=0);return e};ru.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var MG=ru,TG=IG(MG);const kG=TG,OG=$a;function WS(t){return Buffer.allocUnsafe(t).fill(0)}function qS(t,e,r){const n=WS(e);return t=p1(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function RG(t,e){return qS(t,e,!0)}function p1(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")VS(t)?t=Buffer.from(DG(GS(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(OG.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function PG(t){return t=p1(t),"0x"+t.toString("hex")}function NG(t,e){return t=p1(t),e||(e=256),kG("keccak"+e).update(t).digest()}function DG(t){return t.length%2?"0"+t:t}function VS(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function GS(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var KS={zeros:WS,setLength:qS,setLengthRight:RG,isHexString:VS,stripHexPrefix:GS,toBuffer:p1,bufferToHex:PG,keccak:NG};const Va=KS,Ra=$a;function JS(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Gc(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Y5(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function ZS(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Ia(t){var e=typeof t;if(e==="string")return Va.isHexString(t)?new Ra(Va.stripHexPrefix(t),16):new Ra(t,10);if(e==="number")return new Ra(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Xi(t,e){var r,n,i,s;if(t==="address")return Xi("uint160",Ia(e));if(t==="bool")return Xi("uint8",e?1:0);if(t==="string")return Xi("bytes",new Buffer(e,"utf8"));if(LG(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=ZS(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Xi(t,e[s]));if(r==="dynamic"){var o=Xi("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([Xi("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Va.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Gc(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Va.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Gc(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ia(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Gc(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ia(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Y5(t),n=Ia(e),n<0)throw new Error("Supplied ufixed is negative");return Xi("uint256",n.mul(new Ra(2).pow(new Ra(r[1]))))}else if(t.startsWith("fixed"))return r=Y5(t),Xi("int256",Ia(e).mul(new Ra(2).pow(new Ra(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function BG(t){return t==="string"||t==="bytes"||ZS(t)==="dynamic"}function LG(t){return t.lastIndexOf("]")===t.length-1}function $G(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=JS(t[s]),a=e[s],c=Xi(o,a);BG(o)?(r.push(Xi("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function YS(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=JS(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Va.setLength(a,20));else if(o.startsWith("bytes")){if(r=Gc(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Va.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Gc(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ia(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Gc(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ia(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function FG(t,e){return Va.keccak(YS(t,e))}var UG={rawEncode:$G,solidityPack:YS,soliditySHA3:FG};const Oi=KS,_f=UG,QS={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},mm={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,l)=>{if(r[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Oi.keccak(this.encodeData(c,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Oi.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",Oi.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const u=c.slice(0,c.lastIndexOf("[")),h=l.map(b=>o(a,u,b));return["bytes32",Oi.keccak(_f.rawEncode(h.map(([b])=>b),h.map(([,b])=>b)))]}return[c,l]};for(const a of r[t]){const[c,l]=o(a.name,a.type,e[a.name]);i.push(c),s.push(l)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Oi.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Oi.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Oi.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return _f.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Oi.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Oi.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in QS.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Oi.keccak(Buffer.concat(n))}};var jG={TYPED_MESSAGE_SCHEMA:QS,TypedDataUtils:mm,hashForSignTypedDataLegacy:function(t){return HG(t.data)},hashForSignTypedData_v3:function(t){return mm.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return mm.hash(t.data)}};function HG(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Oi.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return _f.soliditySHA3(["bytes32","bytes32"],[_f.soliditySHA3(new Array(t.length).fill("string"),i),_f.soliditySHA3(n,r)])}var ml={};Object.defineProperty(ml,"__esModule",{value:!0});ml.filterFromParam=ml.FilterPolyfill=void 0;const Tc=Oh,yn=Ke,zG=5*60*1e3,Ma={jsonrpc:"2.0",id:0};class WG{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Tc.IntNumber)(1),this.provider=e}async newFilter(e){const r=XS(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,yn.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,yn.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,yn.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,yn.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,yn.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(A0())}async getFilterLogs(e){const r=(0,yn.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Ma),{method:"eth_getLogs",params:[Q5(n)]})):A0()}makeFilterId(){return(0,Tc.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return A0();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return C0();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Ma),{method:"eth_getLogs",params:[Q5(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,yn.intNumberFromHexString)(l.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const l=(0,Tc.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${l}`),this.cursors.set(e,l)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return A0();const n=await this.getCurrentBlockHeight();if(r>n)return C0();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,yn.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Tc.IntNumber)(o))))).filter(o=>!!o),s=(0,Tc.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},Ma),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(C0())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},zG);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Ma),{method:"eth_blockNumber",params:[]}));return(0,yn.intNumberFromHexString)((0,yn.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Ma),{method:"eth_getBlockByNumber",params:[(0,yn.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,yn.ensureHexString)(r.result.hash):null}}ml.FilterPolyfill=WG;function XS(t){return{fromBlock:X5(t.fromBlock),toBlock:X5(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}ml.filterFromParam=XS;function Q5(t){const e={fromBlock:e_(t.fromBlock),toBlock:e_(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function X5(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Tc.IntNumber)(0);if((0,yn.isHexString)(t))return(0,yn.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function e_(t){return t==="latest"?t:(0,yn.hexStringFromIntNumber)(t)}function A0(){return Object.assign(Object.assign({},Ma),{error:{code:-32e3,message:"filter not found"}})}function C0(){return Object.assign(Object.assign({},Ma),{result:[]})}var eA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(eA);var g1={};const t_=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)c[l-1]=arguments[l];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var qG=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):t_(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?t_(s,e):s}return n},VG=KG,GG=Object.prototype.hasOwnProperty;function KG(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)GG.call(r,n)&&(t[n]=r[n])}return t}var JG=ZG;function ZG(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const YG=VG,QG=JG();var XG=ot;function ot(t){const e=this;e.currentProvider=t}ot.prototype.getBalance=Nh(2,"eth_getBalance");ot.prototype.getCode=Nh(2,"eth_getCode");ot.prototype.getTransactionCount=Nh(2,"eth_getTransactionCount");ot.prototype.getStorageAt=Nh(3,"eth_getStorageAt");ot.prototype.call=Nh(2,"eth_call");ot.prototype.protocolVersion=xt("eth_protocolVersion");ot.prototype.syncing=xt("eth_syncing");ot.prototype.coinbase=xt("eth_coinbase");ot.prototype.mining=xt("eth_mining");ot.prototype.hashrate=xt("eth_hashrate");ot.prototype.gasPrice=xt("eth_gasPrice");ot.prototype.accounts=xt("eth_accounts");ot.prototype.blockNumber=xt("eth_blockNumber");ot.prototype.getBlockTransactionCountByHash=xt("eth_getBlockTransactionCountByHash");ot.prototype.getBlockTransactionCountByNumber=xt("eth_getBlockTransactionCountByNumber");ot.prototype.getUncleCountByBlockHash=xt("eth_getUncleCountByBlockHash");ot.prototype.getUncleCountByBlockNumber=xt("eth_getUncleCountByBlockNumber");ot.prototype.sign=xt("eth_sign");ot.prototype.sendTransaction=xt("eth_sendTransaction");ot.prototype.sendRawTransaction=xt("eth_sendRawTransaction");ot.prototype.estimateGas=xt("eth_estimateGas");ot.prototype.getBlockByHash=xt("eth_getBlockByHash");ot.prototype.getBlockByNumber=xt("eth_getBlockByNumber");ot.prototype.getTransactionByHash=xt("eth_getTransactionByHash");ot.prototype.getTransactionByBlockHashAndIndex=xt("eth_getTransactionByBlockHashAndIndex");ot.prototype.getTransactionByBlockNumberAndIndex=xt("eth_getTransactionByBlockNumberAndIndex");ot.prototype.getTransactionReceipt=xt("eth_getTransactionReceipt");ot.prototype.getUncleByBlockHashAndIndex=xt("eth_getUncleByBlockHashAndIndex");ot.prototype.getUncleByBlockNumberAndIndex=xt("eth_getUncleByBlockNumberAndIndex");ot.prototype.getCompilers=xt("eth_getCompilers");ot.prototype.compileLLL=xt("eth_compileLLL");ot.prototype.compileSolidity=xt("eth_compileSolidity");ot.prototype.compileSerpent=xt("eth_compileSerpent");ot.prototype.newFilter=xt("eth_newFilter");ot.prototype.newBlockFilter=xt("eth_newBlockFilter");ot.prototype.newPendingTransactionFilter=xt("eth_newPendingTransactionFilter");ot.prototype.uninstallFilter=xt("eth_uninstallFilter");ot.prototype.getFilterChanges=xt("eth_getFilterChanges");ot.prototype.getFilterLogs=xt("eth_getFilterLogs");ot.prototype.getLogs=xt("eth_getLogs");ot.prototype.getWork=xt("eth_getWork");ot.prototype.submitWork=xt("eth_submitWork");ot.prototype.submitHashrate=xt("eth_submitHashrate");ot.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(eK(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function xt(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Nh(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function eK(t){return YG({id:QG(),jsonrpc:"2.0",params:[]},t)}var tA={},rA={},tK=lS,m1=function(){return tK()&&!!Symbol.toStringTag},rK=m1(),nK=u1,Jy=nK("Object.prototype.toString"),b1=function(e){return rK&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Jy(e)==="[object Arguments]"},nA=function(e){return b1(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Jy(e)!=="[object Array]"&&Jy(e.callee)==="[object Function]"},iK=function(){return b1(arguments)}();b1.isLegacyArguments=nA;var sK=iK?b1:nA,oK=Object.prototype.toString,aK=Function.prototype.toString,cK=/^\s*(?:function)?\*/,iA=m1(),bm=Object.getPrototypeOf,lK=function(){if(!iA)return!1;try{return Function("return function*() {}")()}catch{}},ym,uK=function(e){if(typeof e!="function")return!1;if(cK.test(aK.call(e)))return!0;if(!iA){var r=oK.call(e);return r==="[object GeneratorFunction]"}if(!bm)return!1;if(typeof ym>"u"){var n=lK();ym=n?bm(n):!1}return bm(e)===ym},sA=Function.prototype.toString,Lc=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Zy,bd;if(typeof Lc=="function"&&typeof Object.defineProperty=="function")try{Zy=Object.defineProperty({},"length",{get:function(){throw bd}}),bd={},Lc(function(){throw 42},null,Zy)}catch(t){t!==bd&&(Lc=null)}else Lc=null;var fK=/^\s*class\b/,Yy=function(e){try{var r=sA.call(e);return fK.test(r)}catch{return!1}},vm=function(e){try{return Yy(e)?!1:(sA.call(e),!0)}catch{return!1}},yd=Object.prototype.toString,hK="[object Object]",dK="[object Function]",pK="[object GeneratorFunction]",gK="[object HTMLAllCollection]",mK="[object HTML document.all class]",bK="[object HTMLCollection]",yK=typeof Symbol=="function"&&!!Symbol.toStringTag,vK=!(0 in[,]),Qy=function(){return!1};if(typeof document=="object"){var wK=document.all;yd.call(wK)===yd.call(document.all)&&(Qy=function(e){if((vK||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=yd.call(e);return(r===gK||r===mK||r===bK||r===hK)&&e("")==null}catch{}return!1})}var xK=Lc?function(e){if(Qy(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Lc(e,null,Zy)}catch(r){if(r!==bd)return!1}return!Yy(e)&&vm(e)}:function(e){if(Qy(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(yK)return vm(e);if(Yy(e))return!1;var r=yd.call(e);return r!==dK&&r!==pK&&!/^\[object HTML/.test(r)?!1:vm(e)},_K=xK,EK=Object.prototype.toString,oA=Object.prototype.hasOwnProperty,SK=function(e,r,n){for(var i=0,s=e.length;i<s;i++)oA.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},AK=function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},CK=function(e,r,n){for(var i in e)oA.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},IK=function(e,r,n){if(!_K(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),EK.call(e)==="[object Array]"?SK(e,r,i):typeof e=="string"?AK(e,r,i):CK(e,r,i)},aA=IK,wm=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],MK=typeof globalThis>"u"?ze:globalThis,cA=function(){for(var e=[],r=0;r<wm.length;r++)typeof MK[wm[r]]=="function"&&(e[e.length]=wm[r]);return e},TK=l1,vd=TK("%Object.getOwnPropertyDescriptor%",!0);if(vd)try{vd([],"length")}catch{vd=null}var lA=vd,uA=aA,kK=cA,Gv=u1,OK=Gv("Object.prototype.toString"),fA=m1(),wd=lA,RK=typeof globalThis>"u"?ze:globalThis,hA=kK(),PK=Gv("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},NK=Gv("String.prototype.slice"),dA={},xm=Object.getPrototypeOf;fA&&wd&&xm&&uA(hA,function(t){var e=new RK[t];if(Symbol.toStringTag in e){var r=xm(e),n=wd(r,Symbol.toStringTag);if(!n){var i=xm(r);n=wd(i,Symbol.toStringTag)}dA[t]=n.get}});var DK=function(e){var r=!1;return uA(dA,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},pA=function(e){if(!e||typeof e!="object")return!1;if(!fA||!(Symbol.toStringTag in e)){var r=NK(OK(e),8,-1);return PK(hA,r)>-1}return wd?DK(e):!1},gA=aA,BK=cA,mA=u1,_m=lA,LK=mA("Object.prototype.toString"),bA=m1(),r_=typeof globalThis>"u"?ze:globalThis,$K=BK(),FK=mA("String.prototype.slice"),yA={},Em=Object.getPrototypeOf;bA&&_m&&Em&&gA($K,function(t){if(typeof r_[t]=="function"){var e=new r_[t];if(Symbol.toStringTag in e){var r=Em(e),n=_m(r,Symbol.toStringTag);if(!n){var i=Em(r);n=_m(i,Symbol.toStringTag)}yA[t]=n.get}}});var UK=function(e){var r=!1;return gA(yA,function(n,i){if(!r)try{var s=n.call(e);s===i&&(r=s)}catch{}}),r},jK=pA,HK=function(e){return jK(e)?!bA||!(Symbol.toStringTag in e)?FK(LK(e),8,-1):UK(e):!1};(function(t){var e=sK,r=uK,n=HK,i=pA;function s(X){return X.call.bind(X)}var o=typeof BigInt<"u",a=typeof Symbol<"u",c=s(Object.prototype.toString),l=s(Number.prototype.valueOf),u=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(o)var b=s(BigInt.prototype.valueOf);if(a)var v=s(Symbol.prototype.valueOf);function E(X,ie){if(typeof X!="object")return!1;try{return ie(X),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function D(X){return typeof Promise<"u"&&X instanceof Promise||X!==null&&typeof X=="object"&&typeof X.then=="function"&&typeof X.catch=="function"}t.isPromise=D;function x(X){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(X):i(X)||L(X)}t.isArrayBufferView=x;function _(X){return n(X)==="Uint8Array"}t.isUint8Array=_;function m(X){return n(X)==="Uint8ClampedArray"}t.isUint8ClampedArray=m;function w(X){return n(X)==="Uint16Array"}t.isUint16Array=w;function A(X){return n(X)==="Uint32Array"}t.isUint32Array=A;function k(X){return n(X)==="Int8Array"}t.isInt8Array=k;function z(X){return n(X)==="Int16Array"}t.isInt16Array=z;function S(X){return n(X)==="Int32Array"}t.isInt32Array=S;function H(X){return n(X)==="Float32Array"}t.isFloat32Array=H;function re(X){return n(X)==="Float64Array"}t.isFloat64Array=re;function W(X){return n(X)==="BigInt64Array"}t.isBigInt64Array=W;function y(X){return n(X)==="BigUint64Array"}t.isBigUint64Array=y;function R(X){return c(X)==="[object Map]"}R.working=typeof Map<"u"&&R(new Map);function I(X){return typeof Map>"u"?!1:R.working?R(X):X instanceof Map}t.isMap=I;function f(X){return c(X)==="[object Set]"}f.working=typeof Set<"u"&&f(new Set);function p(X){return typeof Set>"u"?!1:f.working?f(X):X instanceof Set}t.isSet=p;function T(X){return c(X)==="[object WeakMap]"}T.working=typeof WeakMap<"u"&&T(new WeakMap);function M(X){return typeof WeakMap>"u"?!1:T.working?T(X):X instanceof WeakMap}t.isWeakMap=M;function C(X){return c(X)==="[object WeakSet]"}C.working=typeof WeakSet<"u"&&C(new WeakSet);function d(X){return C(X)}t.isWeakSet=d;function B(X){return c(X)==="[object ArrayBuffer]"}B.working=typeof ArrayBuffer<"u"&&B(new ArrayBuffer);function O(X){return typeof ArrayBuffer>"u"?!1:B.working?B(X):X instanceof ArrayBuffer}t.isArrayBuffer=O;function g(X){return c(X)==="[object DataView]"}g.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&g(new DataView(new ArrayBuffer(1),0,1));function L(X){return typeof DataView>"u"?!1:g.working?g(X):X instanceof DataView}t.isDataView=L;var Q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function P(X){return c(X)==="[object SharedArrayBuffer]"}function G(X){return typeof Q>"u"?!1:(typeof P.working>"u"&&(P.working=P(new Q)),P.working?P(X):X instanceof Q)}t.isSharedArrayBuffer=G;function V(X){return c(X)==="[object AsyncFunction]"}t.isAsyncFunction=V;function K(X){return c(X)==="[object Map Iterator]"}t.isMapIterator=K;function Y(X){return c(X)==="[object Set Iterator]"}t.isSetIterator=Y;function N(X){return c(X)==="[object Generator]"}t.isGeneratorObject=N;function U(X){return c(X)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=U;function Z(X){return E(X,l)}t.isNumberObject=Z;function ae(X){return E(X,u)}t.isStringObject=ae;function ce(X){return E(X,h)}t.isBooleanObject=ce;function pe(X){return o&&E(X,b)}t.isBigIntObject=pe;function ee(X){return a&&E(X,v)}t.isSymbolObject=ee;function j(X){return Z(X)||ae(X)||ce(X)||pe(X)||ee(X)}t.isBoxedPrimitive=j;function q(X){return typeof Uint8Array<"u"&&(O(X)||G(X))}t.isAnyArrayBuffer=q,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(X){Object.defineProperty(t,X,{enumerable:!1,value:function(){throw new Error(X+" is not supported in userland")}})})})(rA);var zK=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(L){for(var Q=Object.keys(L),P={},G=0;G<Q.length;G++)P[Q[G]]=Object.getOwnPropertyDescriptor(L,Q[G]);return P},r=/%[sdj%]/g;t.format=function(g){if(!k(g)){for(var L=[],Q=0;Q<arguments.length;Q++)L.push(o(arguments[Q]));return L.join(" ")}for(var Q=1,P=arguments,G=P.length,V=String(g).replace(r,function(Y){if(Y==="%%")return"%";if(Q>=G)return Y;switch(Y){case"%s":return String(P[Q++]);case"%d":return Number(P[Q++]);case"%j":try{return JSON.stringify(P[Q++])}catch{return"[Circular]"}default:return Y}}),K=P[Q];Q<G;K=P[++Q])m(K)||!re(K)?V+=" "+K:V+=" "+o(K);return V},t.deprecate=function(g,L){if(typeof process<"u"&&process.noDeprecation===!0)return g;if(typeof process>"u")return function(){return t.deprecate(g,L).apply(this,arguments)};var Q=!1;function P(){if(!Q){if(process.throwDeprecation)throw new Error(L);process.traceDeprecation?console.trace(L):console.error(L),Q=!0}return g.apply(this,arguments)}return P};var n={},i=/^$/;if({}.NODE_DEBUG){var s={}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(g){if(g=g.toUpperCase(),!n[g])if(i.test(g)){var L=process.pid;n[g]=function(){var Q=t.format.apply(t,arguments);console.error("%s %d: %s",g,L,Q)}}else n[g]=function(){};return n[g]};function o(g,L){var Q={seen:[],stylize:c};return arguments.length>=3&&(Q.depth=arguments[2]),arguments.length>=4&&(Q.colors=arguments[3]),_(L)?Q.showHidden=L:L&&t._extend(Q,L),S(Q.showHidden)&&(Q.showHidden=!1),S(Q.depth)&&(Q.depth=2),S(Q.colors)&&(Q.colors=!1),S(Q.customInspect)&&(Q.customInspect=!0),Q.colors&&(Q.stylize=a),u(Q,g,Q.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(g,L){var Q=o.styles[L];return Q?"\x1B["+o.colors[Q][0]+"m"+g+"\x1B["+o.colors[Q][1]+"m":g}function c(g,L){return g}function l(g){var L={};return g.forEach(function(Q,P){L[Q]=!0}),L}function u(g,L,Q){if(g.customInspect&&L&&R(L.inspect)&&L.inspect!==t.inspect&&!(L.constructor&&L.constructor.prototype===L)){var P=L.inspect(Q,g);return k(P)||(P=u(g,P,Q)),P}var G=h(g,L);if(G)return G;var V=Object.keys(L),K=l(V);if(g.showHidden&&(V=Object.getOwnPropertyNames(L)),y(L)&&(V.indexOf("message")>=0||V.indexOf("description")>=0))return b(L);if(V.length===0){if(R(L)){var Y=L.name?": "+L.name:"";return g.stylize("[Function"+Y+"]","special")}if(H(L))return g.stylize(RegExp.prototype.toString.call(L),"regexp");if(W(L))return g.stylize(Date.prototype.toString.call(L),"date");if(y(L))return b(L)}var N="",U=!1,Z=["{","}"];if(x(L)&&(U=!0,Z=["[","]"]),R(L)){var ae=L.name?": "+L.name:"";N=" [Function"+ae+"]"}if(H(L)&&(N=" "+RegExp.prototype.toString.call(L)),W(L)&&(N=" "+Date.prototype.toUTCString.call(L)),y(L)&&(N=" "+b(L)),V.length===0&&(!U||L.length==0))return Z[0]+N+Z[1];if(Q<0)return H(L)?g.stylize(RegExp.prototype.toString.call(L),"regexp"):g.stylize("[Object]","special");g.seen.push(L);var ce;return U?ce=v(g,L,Q,K,V):ce=V.map(function(pe){return E(g,L,Q,K,pe,U)}),g.seen.pop(),D(ce,N,Z)}function h(g,L){if(S(L))return g.stylize("undefined","undefined");if(k(L)){var Q="'"+JSON.stringify(L).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return g.stylize(Q,"string")}if(A(L))return g.stylize(""+L,"number");if(_(L))return g.stylize(""+L,"boolean");if(m(L))return g.stylize("null","null")}function b(g){return"["+Error.prototype.toString.call(g)+"]"}function v(g,L,Q,P,G){for(var V=[],K=0,Y=L.length;K<Y;++K)C(L,String(K))?V.push(E(g,L,Q,P,String(K),!0)):V.push("");return G.forEach(function(N){N.match(/^\d+$/)||V.push(E(g,L,Q,P,N,!0))}),V}function E(g,L,Q,P,G,V){var K,Y,N;if(N=Object.getOwnPropertyDescriptor(L,G)||{value:L[G]},N.get?N.set?Y=g.stylize("[Getter/Setter]","special"):Y=g.stylize("[Getter]","special"):N.set&&(Y=g.stylize("[Setter]","special")),C(P,G)||(K="["+G+"]"),Y||(g.seen.indexOf(N.value)<0?(m(Q)?Y=u(g,N.value,null):Y=u(g,N.value,Q-1),Y.indexOf(`
`)>-1&&(V?Y=Y.split(`
`).map(function(U){return"  "+U}).join(`
`).slice(2):Y=`
`+Y.split(`
`).map(function(U){return"   "+U}).join(`
`))):Y=g.stylize("[Circular]","special")),S(K)){if(V&&G.match(/^\d+$/))return Y;K=JSON.stringify(""+G),K.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(K=K.slice(1,-1),K=g.stylize(K,"name")):(K=K.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),K=g.stylize(K,"string"))}return K+": "+Y}function D(g,L,Q){var P=g.reduce(function(G,V){return V.indexOf(`
`)>=0,G+V.replace(/\u001b\[\d\d?m/g,"").length+1},0);return P>60?Q[0]+(L===""?"":L+`
 `)+" "+g.join(`,
  `)+" "+Q[1]:Q[0]+L+" "+g.join(", ")+" "+Q[1]}t.types=rA;function x(g){return Array.isArray(g)}t.isArray=x;function _(g){return typeof g=="boolean"}t.isBoolean=_;function m(g){return g===null}t.isNull=m;function w(g){return g==null}t.isNullOrUndefined=w;function A(g){return typeof g=="number"}t.isNumber=A;function k(g){return typeof g=="string"}t.isString=k;function z(g){return typeof g=="symbol"}t.isSymbol=z;function S(g){return g===void 0}t.isUndefined=S;function H(g){return re(g)&&f(g)==="[object RegExp]"}t.isRegExp=H,t.types.isRegExp=H;function re(g){return typeof g=="object"&&g!==null}t.isObject=re;function W(g){return re(g)&&f(g)==="[object Date]"}t.isDate=W,t.types.isDate=W;function y(g){return re(g)&&(f(g)==="[object Error]"||g instanceof Error)}t.isError=y,t.types.isNativeError=y;function R(g){return typeof g=="function"}t.isFunction=R;function I(g){return g===null||typeof g=="boolean"||typeof g=="number"||typeof g=="string"||typeof g=="symbol"||typeof g>"u"}t.isPrimitive=I,t.isBuffer=zK;function f(g){return Object.prototype.toString.call(g)}function p(g){return g<10?"0"+g.toString(10):g.toString(10)}var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var g=new Date,L=[p(g.getHours()),p(g.getMinutes()),p(g.getSeconds())].join(":");return[g.getDate(),T[g.getMonth()],L].join(" ")}t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=Sn,t._extend=function(g,L){if(!L||!re(L))return g;for(var Q=Object.keys(L),P=Q.length;P--;)g[Q[P]]=L[Q[P]];return g};function C(g,L){return Object.prototype.hasOwnProperty.call(g,L)}var d=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(L){if(typeof L!="function")throw new TypeError('The "original" argument must be of type Function');if(d&&L[d]){var Q=L[d];if(typeof Q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,d,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var P,G,V=new Promise(function(N,U){P=N,G=U}),K=[],Y=0;Y<arguments.length;Y++)K.push(arguments[Y]);K.push(function(N,U){N?G(N):P(U)});try{L.apply(this,K)}catch(N){G(N)}return V}return Object.setPrototypeOf(Q,Object.getPrototypeOf(L)),d&&Object.defineProperty(Q,d,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,e(L))},t.promisify.custom=d;function B(g,L){if(!g){var Q=new Error("Promise was rejected with a falsy value");Q.reason=g,g=Q}return L(g)}function O(g){if(typeof g!="function")throw new TypeError('The "original" argument must be of type Function');function L(){for(var Q=[],P=0;P<arguments.length;P++)Q.push(arguments[P]);var G=Q.pop();if(typeof G!="function")throw new TypeError("The last argument must be of type Function");var V=this,K=function(){return G.apply(V,arguments)};g.apply(this,Q).then(function(Y){process.nextTick(K.bind(null,null,Y))},function(Y){process.nextTick(B.bind(null,Y,K))})}return Object.setPrototypeOf(L,Object.getPrototypeOf(g)),Object.defineProperties(L,e(g)),L}t.callbackify=O})(tA);const WK=tA,vA=Cr;var Sm=typeof Reflect=="object"?Reflect:null,qK=Sm&&typeof Sm.apply=="function"?Sm.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},VK=Kv;function Kv(){vA.call(this)}WK.inherits(Kv,vA);Kv.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")n_(a,this,e);else for(var c=a.length,l=GK(a,c),r=0;r<c;++r)n_(l[r],this,e);return!0};function n_(t,e,r){try{qK(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function GK(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const KK=VK,JK=1e3,ZK=(t,e)=>t+e,i_=["sync","latest"];let YK=class extends KK{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*JK,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){i_.includes(e)&&this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return i_.map(e=>this.listenerCount(e)).reduce(ZK)}_newPotentialLatest(e){const r=this._currentBlock;r&&s_(e)<=s_(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};var QK=YK;function s_(t){return Number.parseInt(t,16)}const XK=qG,eJ=QK,tJ=1e3;let rJ=class extends eJ{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*tJ,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await o_(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await o_(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await XK(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}};var nJ=rJ;function o_(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Xd={},iJ={get exports(){return Xd},set exports(t){Xd=t}},sJ=function(e){return(r,n,i,s)=>{const o=e[r.method];return o===void 0?i():typeof o=="function"?o(r,n,i,s):(n.result=o,s())}};(function(t){t.exports=sJ})(iJ);var Jv={},y1={},Dh={};Object.defineProperty(Dh,"__esModule",{value:!0});Dh.getUniqueId=void 0;const wA=4294967295;let Am=Math.floor(Math.random()*wA);function oJ(){return Am=(Am+1)%wA,Am}Dh.getUniqueId=oJ;Object.defineProperty(y1,"__esModule",{value:!0});y1.createIdRemapMiddleware=void 0;const aJ=Dh;function cJ(){return(t,e,r,n)=>{const i=t.id,s=aJ.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}y1.createIdRemapMiddleware=cJ;var v1={};Object.defineProperty(v1,"__esModule",{value:!0});v1.createAsyncMiddleware=void 0;function lJ(t){return async(e,r,n,i)=>{let s;const o=new Promise(u=>{s=u});let a=null,c=!1;const l=async()=>{c=!0,n(u=>{a=u,s()}),await o};try{await t(e,r,l),c?(await o,a(null)):i(null)}catch(u){a?a(u):i(u)}}}v1.createAsyncMiddleware=lJ;var w1={};Object.defineProperty(w1,"__esModule",{value:!0});w1.createScaffoldMiddleware=void 0;function uJ(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}w1.createScaffoldMiddleware=uJ;var Bh={},xA={},Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.EthereumProviderError=Do.EthereumRpcError=void 0;const fJ=c9;class _A extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return fJ.default(this.serialize(),pJ,2)}}Do.EthereumRpcError=_A;class hJ extends _A{constructor(e,r,n){if(!dJ(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Do.EthereumProviderError=hJ;function dJ(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function pJ(t,e){if(e!=="[Circular]")return e}var Zv={},Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.errorValues=Bo.errorCodes=void 0;Bo.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Bo.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Bo,r=Do,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(b,v=i){if(Number.isInteger(b)){const E=b.toString();if(h(e.errorValues,E))return e.errorValues[E].message;if(l(b))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return v}t.getMessageFromCode=o;function a(b){if(!Number.isInteger(b))return!1;const v=b.toString();return!!(e.errorValues[v]||l(b))}t.isValidCode=a;function c(b,{fallbackError:v=s,shouldIncludeStack:E=!1}={}){var D,x;if(!v||!Number.isInteger(v.code)||typeof v.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(b instanceof r.EthereumRpcError)return b.serialize();const _={};if(b&&typeof b=="object"&&!Array.isArray(b)&&h(b,"code")&&a(b.code)){const w=b;_.code=w.code,w.message&&typeof w.message=="string"?(_.message=w.message,h(w,"data")&&(_.data=w.data)):(_.message=o(_.code),_.data={originalError:u(b)})}else{_.code=v.code;const w=(D=b)===null||D===void 0?void 0:D.message;_.message=w&&typeof w=="string"?w:v.message,_.data={originalError:u(b)}}const m=(x=b)===null||x===void 0?void 0:x.stack;return E&&b&&m&&typeof m=="string"&&(_.stack=m),_}t.serializeError=c;function l(b){return b>=-32099&&b<=-32e3}function u(b){return b&&typeof b=="object"&&!Array.isArray(b)?Object.assign({},b):b}function h(b,v){return Object.prototype.hasOwnProperty.call(b,v)}})(Zv);var x1={};Object.defineProperty(x1,"__esModule",{value:!0});x1.ethErrors=void 0;const Yv=Do,EA=Zv,an=Bo;x1.ethErrors={rpc:{parse:t=>ci(an.errorCodes.rpc.parse,t),invalidRequest:t=>ci(an.errorCodes.rpc.invalidRequest,t),invalidParams:t=>ci(an.errorCodes.rpc.invalidParams,t),methodNotFound:t=>ci(an.errorCodes.rpc.methodNotFound,t),internal:t=>ci(an.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ci(e,t)},invalidInput:t=>ci(an.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>ci(an.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>ci(an.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>ci(an.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>ci(an.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>ci(an.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Cu(an.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Cu(an.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Cu(an.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Cu(an.errorCodes.provider.disconnected,t),chainDisconnected:t=>Cu(an.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Yv.EthereumProviderError(e,r,n)}}};function ci(t,e){const[r,n]=SA(e);return new Yv.EthereumRpcError(t,r||EA.getMessageFromCode(t),n)}function Cu(t,e){const[r,n]=SA(e);return new Yv.EthereumProviderError(t,r||EA.getMessageFromCode(t),n)}function SA(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Do;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Zv;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=x1;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Bo;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(xA);var gJ=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.JsonRpcEngine=void 0;const mJ=gJ(Gl),li=xA;class $s extends mJ.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await $s._runAllMiddleware(e,r,this._middleware);return o?(await $s._runReturnHandlers(a),i(s)):n(async c=>{try{await $s._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new li.EthereumRpcError(li.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new li.EthereumRpcError(li.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=li.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await $s._runAllMiddleware(e,r,this._middleware);if($s._checkForCompletion(e,r,i),await $s._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await $s._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const l=c||r.error;l&&(r.error=li.serializeError(l)),s([l,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new li.EthereumRpcError(li.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Cm(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new li.EthereumRpcError(li.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Cm(e)}`,{request:e});if(!n)throw new li.EthereumRpcError(li.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Cm(e)}`,{request:e})}}Bh.JsonRpcEngine=$s;function Cm(t){return JSON.stringify(t,null,2)}var _1={};Object.defineProperty(_1,"__esModule",{value:!0});_1.mergeMiddleware=void 0;const bJ=Bh;function yJ(t){const e=new bJ.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}_1.mergeMiddleware=yJ;(function(t){var e=ze&&ze.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=ze&&ze.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(y1,t),r(v1,t),r(w1,t),r(Dh,t),r(Bh,t),r(_1,t)})(Jv);var AA={},Qv={},Zf={},vJ={get exports(){return Zf},set exports(t){Zf=t}};(function(t){var e,r,n,i,s,o,a,c,l,u,h,b,v,E,D,x,_,m,w,A,k,z,S,H,re,W,y,R,I;(function(f){var p=typeof ze=="object"?ze:typeof self=="object"?self:typeof this=="object"?this:{};f(T(p,T(t.exports)));function T(M,C){return M!==p&&(typeof Object.create=="function"?Object.defineProperty(M,"__esModule",{value:!0}):M.__esModule=!0),function(d,B){return M[d]=C?C(d,B):B}}})(function(f){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,C){M.__proto__=C}||function(M,C){for(var d in C)Object.prototype.hasOwnProperty.call(C,d)&&(M[d]=C[d])};e=function(M,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");p(M,C);function d(){this.constructor=M}M.prototype=C===null?Object.create(C):(d.prototype=C.prototype,new d)},r=Object.assign||function(M){for(var C,d=1,B=arguments.length;d<B;d++){C=arguments[d];for(var O in C)Object.prototype.hasOwnProperty.call(C,O)&&(M[O]=C[O])}return M},n=function(M,C){var d={};for(var B in M)Object.prototype.hasOwnProperty.call(M,B)&&C.indexOf(B)<0&&(d[B]=M[B]);if(M!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,B=Object.getOwnPropertySymbols(M);O<B.length;O++)C.indexOf(B[O])<0&&Object.prototype.propertyIsEnumerable.call(M,B[O])&&(d[B[O]]=M[B[O]]);return d},i=function(M,C,d,B){var O=arguments.length,g=O<3?C:B===null?B=Object.getOwnPropertyDescriptor(C,d):B,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(M,C,d,B);else for(var Q=M.length-1;Q>=0;Q--)(L=M[Q])&&(g=(O<3?L(g):O>3?L(C,d,g):L(C,d))||g);return O>3&&g&&Object.defineProperty(C,d,g),g},s=function(M,C){return function(d,B){C(d,B,M)}},o=function(M,C,d,B,O,g){function L(ce){if(ce!==void 0&&typeof ce!="function")throw new TypeError("Function expected");return ce}for(var Q=B.kind,P=Q==="getter"?"get":Q==="setter"?"set":"value",G=!C&&M?B.static?M:M.prototype:null,V=C||(G?Object.getOwnPropertyDescriptor(G,B.name):{}),K,Y=!1,N=d.length-1;N>=0;N--){var U={};for(var Z in B)U[Z]=Z==="access"?{}:B[Z];for(var Z in B.access)U.access[Z]=B.access[Z];U.addInitializer=function(ce){if(Y)throw new TypeError("Cannot add initializers after decoration has completed");g.push(L(ce||null))};var ae=(0,d[N])(Q==="accessor"?{get:V.get,set:V.set}:V[P],U);if(Q==="accessor"){if(ae===void 0)continue;if(ae===null||typeof ae!="object")throw new TypeError("Object expected");(K=L(ae.get))&&(V.get=K),(K=L(ae.set))&&(V.set=K),(K=L(ae.init))&&O.push(K)}else(K=L(ae))&&(Q==="field"?O.push(K):V[P]=K)}G&&Object.defineProperty(G,B.name,V),Y=!0},a=function(M,C,d){for(var B=arguments.length>2,O=0;O<C.length;O++)d=B?C[O].call(M,d):C[O].call(M);return B?d:void 0},c=function(M){return typeof M=="symbol"?M:"".concat(M)},l=function(M,C,d){return typeof C=="symbol"&&(C=C.description?"[".concat(C.description,"]"):""),Object.defineProperty(M,"name",{configurable:!0,value:d?"".concat(d," ",C):C})},u=function(M,C){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(M,C)},h=function(M,C,d,B){function O(g){return g instanceof d?g:new d(function(L){L(g)})}return new(d||(d=Promise))(function(g,L){function Q(V){try{G(B.next(V))}catch(K){L(K)}}function P(V){try{G(B.throw(V))}catch(K){L(K)}}function G(V){V.done?g(V.value):O(V.value).then(Q,P)}G((B=B.apply(M,C||[])).next())})},b=function(M,C){var d={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},B,O,g,L;return L={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function Q(G){return function(V){return P([G,V])}}function P(G){if(B)throw new TypeError("Generator is already executing.");for(;L&&(L=0,G[0]&&(d=0)),d;)try{if(B=1,O&&(g=G[0]&2?O.return:G[0]?O.throw||((g=O.return)&&g.call(O),0):O.next)&&!(g=g.call(O,G[1])).done)return g;switch(O=0,g&&(G=[G[0]&2,g.value]),G[0]){case 0:case 1:g=G;break;case 4:return d.label++,{value:G[1],done:!1};case 5:d.label++,O=G[1],G=[0];continue;case 7:G=d.ops.pop(),d.trys.pop();continue;default:if(g=d.trys,!(g=g.length>0&&g[g.length-1])&&(G[0]===6||G[0]===2)){d=0;continue}if(G[0]===3&&(!g||G[1]>g[0]&&G[1]<g[3])){d.label=G[1];break}if(G[0]===6&&d.label<g[1]){d.label=g[1],g=G;break}if(g&&d.label<g[2]){d.label=g[2],d.ops.push(G);break}g[2]&&d.ops.pop(),d.trys.pop();continue}G=C.call(M,d)}catch(V){G=[6,V],O=0}finally{B=g=0}if(G[0]&5)throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}},v=function(M,C){for(var d in M)d!=="default"&&!Object.prototype.hasOwnProperty.call(C,d)&&I(C,M,d)},I=Object.create?function(M,C,d,B){B===void 0&&(B=d);var O=Object.getOwnPropertyDescriptor(C,d);(!O||("get"in O?!C.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return C[d]}}),Object.defineProperty(M,B,O)}:function(M,C,d,B){B===void 0&&(B=d),M[B]=C[d]},E=function(M){var C=typeof Symbol=="function"&&Symbol.iterator,d=C&&M[C],B=0;if(d)return d.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&B>=M.length&&(M=void 0),{value:M&&M[B++],done:!M}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")},D=function(M,C){var d=typeof Symbol=="function"&&M[Symbol.iterator];if(!d)return M;var B=d.call(M),O,g=[],L;try{for(;(C===void 0||C-- >0)&&!(O=B.next()).done;)g.push(O.value)}catch(Q){L={error:Q}}finally{try{O&&!O.done&&(d=B.return)&&d.call(B)}finally{if(L)throw L.error}}return g},x=function(){for(var M=[],C=0;C<arguments.length;C++)M=M.concat(D(arguments[C]));return M},_=function(){for(var M=0,C=0,d=arguments.length;C<d;C++)M+=arguments[C].length;for(var B=Array(M),O=0,C=0;C<d;C++)for(var g=arguments[C],L=0,Q=g.length;L<Q;L++,O++)B[O]=g[L];return B},m=function(M,C,d){if(d||arguments.length===2)for(var B=0,O=C.length,g;B<O;B++)(g||!(B in C))&&(g||(g=Array.prototype.slice.call(C,0,B)),g[B]=C[B]);return M.concat(g||Array.prototype.slice.call(C))},w=function(M){return this instanceof w?(this.v=M,this):new w(M)},A=function(M,C,d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B=d.apply(M,C||[]),O,g=[];return O={},L("next"),L("throw"),L("return"),O[Symbol.asyncIterator]=function(){return this},O;function L(Y){B[Y]&&(O[Y]=function(N){return new Promise(function(U,Z){g.push([Y,N,U,Z])>1||Q(Y,N)})})}function Q(Y,N){try{P(B[Y](N))}catch(U){K(g[0][3],U)}}function P(Y){Y.value instanceof w?Promise.resolve(Y.value.v).then(G,V):K(g[0][2],Y)}function G(Y){Q("next",Y)}function V(Y){Q("throw",Y)}function K(Y,N){Y(N),g.shift(),g.length&&Q(g[0][0],g[0][1])}},k=function(M){var C,d;return C={},B("next"),B("throw",function(O){throw O}),B("return"),C[Symbol.iterator]=function(){return this},C;function B(O,g){C[O]=M[O]?function(L){return(d=!d)?{value:w(M[O](L)),done:!1}:g?g(L):L}:g}},z=function(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C=M[Symbol.asyncIterator],d;return C?C.call(M):(M=typeof E=="function"?E(M):M[Symbol.iterator](),d={},B("next"),B("throw"),B("return"),d[Symbol.asyncIterator]=function(){return this},d);function B(g){d[g]=M[g]&&function(L){return new Promise(function(Q,P){L=M[g](L),O(Q,P,L.done,L.value)})}}function O(g,L,Q,P){Promise.resolve(P).then(function(G){g({value:G,done:Q})},L)}},S=function(M,C){return Object.defineProperty?Object.defineProperty(M,"raw",{value:C}):M.raw=C,M};var T=Object.create?function(M,C){Object.defineProperty(M,"default",{enumerable:!0,value:C})}:function(M,C){M.default=C};H=function(M){if(M&&M.__esModule)return M;var C={};if(M!=null)for(var d in M)d!=="default"&&Object.prototype.hasOwnProperty.call(M,d)&&I(C,M,d);return T(C,M),C},re=function(M){return M&&M.__esModule?M:{default:M}},W=function(M,C,d,B){if(d==="a"&&!B)throw new TypeError("Private accessor was defined without a getter");if(typeof C=="function"?M!==C||!B:!C.has(M))throw new TypeError("Cannot read private member from an object whose class did not declare it");return d==="m"?B:d==="a"?B.call(M):B?B.value:C.get(M)},y=function(M,C,d,B,O){if(B==="m")throw new TypeError("Private method is not writable");if(B==="a"&&!O)throw new TypeError("Private accessor was defined without a setter");if(typeof C=="function"?M!==C||!O:!C.has(M))throw new TypeError("Cannot write private member to an object whose class did not declare it");return B==="a"?O.call(M,d):O?O.value=d:C.set(M,d),d},R=function(M,C){if(C===null||typeof C!="object"&&typeof C!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof M=="function"?C===M:M.has(C)},f("__extends",e),f("__assign",r),f("__rest",n),f("__decorate",i),f("__param",s),f("__esDecorate",o),f("__runInitializers",a),f("__propKey",c),f("__setFunctionName",l),f("__metadata",u),f("__awaiter",h),f("__generator",b),f("__exportStar",v),f("__createBinding",I),f("__values",E),f("__read",D),f("__spread",x),f("__spreadArrays",_),f("__spreadArray",m),f("__await",w),f("__asyncGenerator",A),f("__asyncDelegator",k),f("__asyncValues",z),f("__makeTemplateObject",S),f("__importStar",H),f("__importDefault",re),f("__classPrivateFieldGet",W),f("__classPrivateFieldSet",y),f("__classPrivateFieldIn",R)})})(vJ);var E1={};Object.defineProperty(E1,"__esModule",{value:!0});var a_=Zf,wJ=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return a_.__awaiter(this,void 0,void 0,function(){var r,n,i;return a_.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();E1.default=wJ;Object.defineProperty(Qv,"__esModule",{value:!0});var c_=Zf,xJ=E1,_J=function(){function t(){this._semaphore=new xJ.default(1)}return t.prototype.acquire=function(){return c_.__awaiter(this,void 0,void 0,function(){var e,r;return c_.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Qv.default=_J;var S1={};Object.defineProperty(S1,"__esModule",{value:!0});S1.withTimeout=void 0;var I0=Zf;function EJ(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return I0.__awaiter(n,void 0,void 0,function(){var o,a,c;return I0.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=l.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return I0.__awaiter(this,void 0,void 0,function(){var s,o;return I0.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}S1.withTimeout=EJ;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Qv;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=E1;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=S1;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(AA);const l_=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...l)=>{e.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):e.errorFirst?i.push((l,u)=>{l?a(l):o(u)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},u_=new WeakMap;var SJ=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=u_.get(o);if(c||(c={},u_.set(o,c)),a in c)return c[a];const l=E=>typeof E=="string"||typeof a=="symbol"?a===E:E.test(a),u=Reflect.getOwnPropertyDescriptor(o,a),h=u===void 0||u.writable||u.configurable,v=(e.include?e.include.some(l):!e.exclude.some(l))&&h;return c[a]=v,v},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const l=i.get(o);if(l)return Reflect.apply(l,a,c);const u=e.excludeMain?o:l_(o,e,s,o);return i.set(o,u),Reflect.apply(u,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const l=i.get(c);if(l)return l;if(typeof c=="function"){const u=l_(c,e,s,o);return i.set(c,u),u}return c}});return s};const AJ=Gl.default;let CJ=class extends AJ{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var Xv=CJ;const IJ=Xv;let MJ=class extends IJ{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var TJ=MJ,Lh={minBlockRef:kJ,maxBlockRef:OJ,sortBlockRefs:ew,bnToHex:RJ,blockRefIsNumber:PJ,hexToInt:ep,incrementHexInt:NJ,intToHex:CA,unsafeRandomBytes:DJ};function kJ(...t){return ew(t)[0]}function OJ(...t){const e=ew(t);return e[e.length-1]}function ew(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:ep(e)-ep(r))}function RJ(t){return"0x"+t.toString(16)}function PJ(t){return t&&!["earliest","latest","pending"].includes(t)}function ep(t){return t==null?t:Number.parseInt(t,16)}function NJ(t){if(t==null)return t;const e=ep(t);return CA(e+1)}function CA(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function DJ(t){let e="0x";for(let r=0;r<t;r++)e+=f_(),e+=f_();return e}function f_(){return Math.floor(Math.random()*16).toString(16)}const BJ=XG,LJ=SJ,$J=TJ,{bnToHex:K1e,hexToInt:M0,incrementHexInt:FJ,minBlockRef:UJ,blockRefIsNumber:jJ}=Lh;let HJ=class extends $J{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new BJ(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=UJ(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=FJ(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await LJ(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(M0(this.params.fromBlock)>=M0(e.blockNumber)||jJ(this.params.toBlock)&&M0(this.params.toBlock)<=M0(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(u=>u.toLowerCase()),a.includes(o))})}};var zJ=HJ,tw=WJ;async function WJ({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=h_(e),s=h_(r)-n+1,o=Array(s).fill().map((c,l)=>n+l).map(qJ);return await Promise.all(o.map(c=>VJ(t,"eth_getBlockByNumber",[c,!1])))}function h_(t){return t==null?t:Number.parseInt(t,16)}function qJ(t){return t==null?t:"0x"+t.toString(16)}function VJ(t,e,r){return new Promise((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(s,o)=>{if(s)return i(s);n(o.result)})})}const GJ=Xv,KJ=tw,{incrementHexInt:JJ}=Lh;let ZJ=class extends GJ{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=JJ(e),o=(await KJ({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var YJ=ZJ;const QJ=Xv,XJ=tw,{incrementHexInt:eZ}=Lh;let tZ=class extends QJ{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=eZ(e),i=await XJ({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var rZ=tZ;const nZ=AA.Mutex,{createAsyncMiddleware:iZ}=Jv,sZ=Xd,oZ=zJ,aZ=YJ,cZ=rZ,{intToHex:IA,hexToInt:Im}=Lh;var lZ=uZ;function uZ({blockTracker:t,provider:e}){let r=0,n={};const i=new nZ,s=fZ({mutex:i}),o=sZ({eth_newFilter:s(Mm(c)),eth_newBlockFilter:s(Mm(l)),eth_newPendingTransactionFilter:s(Mm(u)),eth_uninstallFilter:s(xd(v)),eth_getFilterChanges:s(xd(h)),eth_getFilterLogs:s(xd(b))}),a=async({oldBlock:m,newBlock:w})=>{if(n.length===0)return;const A=await i.acquire();try{await Promise.all(pc(n).map(async k=>{try{await k.update({oldBlock:m,newBlock:w})}catch(z){console.error(z)}}))}catch(k){console.error(k)}A()};return o.newLogFilter=c,o.newBlockFilter=l,o.newPendingTransactionFilter=u,o.uninstallFilter=v,o.getFilterChanges=h,o.getFilterLogs=b,o.destroy=()=>{x()},o;async function c(m){const w=new oZ({provider:e,params:m});return await E(w),w}async function l(){const m=new aZ({provider:e});return await E(m),m}async function u(){const m=new cZ({provider:e});return await E(m),m}async function h(m){const w=Im(m),A=n[w];if(!A)throw new Error(`No filter for index "${w}"`);return A.getChangesAndClear()}async function b(m){const w=Im(m),A=n[w];if(!A)throw new Error(`No filter for index "${w}"`);return A.type==="log"?results=A.getAllResults():results=[],results}async function v(m){const w=Im(m),A=n[w],k=Boolean(A);return k&&await D(w),k}async function E(m){const w=pc(n).length,A=await t.getLatestBlock();await m.initialize({currentBlock:A}),r++,n[r]=m,m.id=r,m.idHex=IA(r);const k=pc(n).length;return _({prevFilterCount:w,newFilterCount:k}),r}async function D(m){const w=pc(n).length;delete n[m];const A=pc(n).length;_({prevFilterCount:w,newFilterCount:A})}async function x(){const m=pc(n).length;n={},_({prevFilterCount:m,newFilterCount:0})}function _({prevFilterCount:m,newFilterCount:w}){if(m===0&&w>0){t.on("sync",a);return}if(m>0&&w===0){t.removeListener("sync",a);return}}}function Mm(t){return xd(async(...e)=>{const r=await t(...e);return IA(r.id)})}function xd(t){return iZ(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function fZ({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function pc(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const hZ=Gl.default,dZ=Xd,{createAsyncMiddleware:d_}=Jv,pZ=lZ,{unsafeRandomBytes:gZ,incrementHexInt:mZ}=Lh,bZ=tw;var yZ=vZ;function vZ({blockTracker:t,provider:e}){const r={},n=pZ({blockTracker:t,provider:e});let i=!1;const s=new hZ,o=dZ({eth_subscribe:d_(a),eth_unsubscribe:d_(c)});return o.destroy=u,{events:s,middleware:o};async function a(h,b){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const v=h.params[0],E=gZ(16);let D;switch(v){case"newHeads":D=x({subId:E});break;case"logs":const m=h.params[1],w=await n.newLogFilter(m);D=_({subId:E,filter:w});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${v}"`)}r[E]=D,b.result=E;return;function x({subId:m}){const w={type:v,destroy:async()=>{t.removeListener("sync",w.update)},update:async({oldBlock:A,newBlock:k})=>{const z=k,S=mZ(A);(await bZ({provider:e,fromBlock:S,toBlock:z})).map(wZ).forEach(W=>{l(m,W)})}};return t.on("sync",w.update),w}function _({subId:m,filter:w}){return w.on("update",k=>l(m,k)),{type:v,destroy:async()=>await n.uninstallFilter(w.idHex)}}}async function c(h,b){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const v=h.params[0],E=r[v];if(!E){b.result=!1;return}delete r[v],await E.destroy(),b.result=!0}function l(h,b){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:h,result:b}})}function u(){s.removeAllListeners();for(const h in r)r[h].destroy(),delete r[h];i=!0}}function wZ(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(g1,"__esModule",{value:!0});g1.SubscriptionManager=void 0;const xZ=nJ,_Z=yZ,p_=()=>{};class EZ{constructor(e){const r=new xZ({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=_Z({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,p_,p_),r}destroy(){this.subscriptionMiddleware.destroy()}}g1.SubscriptionManager=EZ;var rw=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(al,"__esModule",{value:!0});al.CoinbaseWalletProvider=void 0;const SZ=rw(Gl),AZ=rw($a),cn=e1,Tm=Kl,g_=Jl,m_=Fi,yt=Ke,km=rw(jG),CZ=ml,Ut=eA,IZ=g1,b_="DefaultChainId",y_="DefaultJsonRpcUrl";class MZ extends SZ.default{constructor(e){var r,n;super(),this._filterPolyfill=new CZ.FilterPolyfill(this),this._subscriptionManager=new IZ.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,yt.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(m_.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,yt.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,u=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(u,Number(l))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,yt.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(y_))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(y_,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(b_,r.toString(10)),((0,yt.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,yt.ensureIntNumber)(e)===this.getChainId())return!1;const l=await this.initializeRelay(),u=l.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!u&&await l.requestEthereumAccounts().promise;const h=await l.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=h.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=h.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw cn.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Tm.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?g_.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(Ut.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw cn.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw cn.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw cn.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,yt.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,yt.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(m_.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Ut.JSONRPCMethod.eth_accounts:return this._eth_accounts();case Ut.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case Ut.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case Ut.JSONRPCMethod.net_version:return this._net_version();case Ut.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Ut.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case Ut.JSONRPCMethod.eth_sign:return this._eth_sign(n);case Ut.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case Ut.JSONRPCMethod.personal_sign:return this._personal_sign(n);case Ut.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case Ut.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case Ut.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case Ut.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case Ut.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case Ut.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case Ut.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case Ut.JSONRPCMethod.eth_signTypedData_v4:case Ut.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case Ut.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case Ut.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case Ut.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case Ut.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Ut.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case Ut.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case Ut.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case Ut.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case Ut.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case Ut.JSONRPCMethod.eth_subscribe:case Ut.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,yt.ensureAddressString)(e);return this._addresses.map(i=>(0,yt.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Tm.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,yt.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,yt.ensureAddressString)(e.to):null,i=e.value!=null?(0,yt.ensureBN)(e.value):new AZ.default(0),s=e.data?(0,yt.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,yt.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,yt.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,yt.ensureBN)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,yt.ensureBN)(e.maxPriorityFeePerGas):null,u=e.gas!=null?(0,yt.ensureBN)(e.gas):null,h=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:u,chainId:h}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw cn.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw cn.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?cn.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,yt.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(b_);if(!e)return(0,yt.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,yt.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Tm.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?g_.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?cn.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,yt.ensureAddressString)(e[0]),n=(0,yt.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,yt.ensureBuffer)(e[0]),n=(0,yt.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,yt.ensureBuffer)(e[0]),n=(0,yt.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,yt.ensureBuffer)(e[0]),n=(0,yt.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?cn.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,yt.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?cn.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,yt.ensureParsedJSONObject)(e[0]),n=(0,yt.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=km.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,yt.ensureAddressString)(e[0]),n=(0,yt.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=km.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,yt.ensureAddressString)(e[0]),n=(0,yt.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=km.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw cn.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw cn.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw cn.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw cn.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw cn.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw cn.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,yt.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,yt.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,yt.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}al.CoinbaseWalletProvider=MZ;var A1={},C1={},$h,lt,MA,TA,Ef,v_,kA,tp={},OA=[],TZ=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function zs(t,e){for(var r in e)t[r]=e[r];return t}function RA(t){var e=t.parentNode;e&&e.removeChild(t)}function Xy(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?$h.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Sf(t,o,n,i,null)}function Sf(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++MA};return i==null&&lt.vnode!=null&&lt.vnode(s),s}function kZ(){return{current:null}}function Fh(t){return t.children}function Af(t,e){this.props=t,this.context=e}function Yf(t,e){if(e==null)return t.__?Yf(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Yf(t):null}function PA(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return PA(t)}}function e2(t){(!t.__d&&(t.__d=!0)&&Ef.push(t)&&!rp.__r++||v_!==lt.debounceRendering)&&((v_=lt.debounceRendering)||setTimeout)(rp)}function rp(){for(var t;rp.__r=Ef.length;)t=Ef.sort(function(e,r){return e.__v.__b-r.__v.__b}),Ef=[],t.some(function(e){var r,n,i,s,o,a;e.__d&&(o=(s=(r=e).__v).__e,(a=r.__P)&&(n=[],(i=zs({},s)).__v=s.__v+1,nw(a,s,i,r.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o??Yf(s),s.__h),$A(n,s),s.__e!=o&&PA(s)))})}function NA(t,e,r,n,i,s,o,a,c,l){var u,h,b,v,E,D,x,_=n&&n.__k||OA,m=_.length;for(r.__k=[],u=0;u<e.length;u++)if((v=r.__k[u]=(v=e[u])==null||typeof v=="boolean"?null:typeof v=="string"||typeof v=="number"||typeof v=="bigint"?Sf(null,v,null,null,v):Array.isArray(v)?Sf(Fh,{children:v},null,null,null):v.__b>0?Sf(v.type,v.props,v.key,v.ref?v.ref:null,v.__v):v)!=null){if(v.__=r,v.__b=r.__b+1,(b=_[u])===null||b&&v.key==b.key&&v.type===b.type)_[u]=void 0;else for(h=0;h<m;h++){if((b=_[h])&&v.key==b.key&&v.type===b.type){_[h]=void 0;break}b=null}nw(t,v,b=b||tp,i,s,o,a,c,l),E=v.__e,(h=v.ref)&&b.ref!=h&&(x||(x=[]),b.ref&&x.push(b.ref,null,v),x.push(h,v.__c||E,v)),E!=null?(D==null&&(D=E),typeof v.type=="function"&&v.__k===b.__k?v.__d=c=DA(v,c,t):c=LA(t,v,b,_,E,c),typeof r.type=="function"&&(r.__d=c)):c&&b.__e==c&&c.parentNode!=t&&(c=Yf(b))}for(r.__e=D,u=m;u--;)_[u]!=null&&UA(_[u],_[u]);if(x)for(u=0;u<x.length;u++)FA(x[u],x[++u],x[++u])}function DA(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?DA(n,e,r):LA(r,n,n,i,n.__e,e));return e}function BA(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){BA(r,e)}):e.push(t)),e}function LA(t,e,r,n,i,s){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,c=0;(a=a.nextSibling)&&c<n.length;c+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function OZ(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||np(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||np(t,s,e[s],r[s],n)}function w_(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||TZ.test(e)?r:r+"px"}function np(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||w_(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||w_(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?__:x_,s):t.removeEventListener(e,s?__:x_,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function x_(t){this.l[t.type+!1](lt.event?lt.event(t):t)}function __(t){this.l[t.type+!0](lt.event?lt.event(t):t)}function nw(t,e,r,n,i,s,o,a,c){var l,u,h,b,v,E,D,x,_,m,w,A,k,z,S,H=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(l=lt.__b)&&l(e);try{e:if(typeof H=="function"){if(x=e.props,_=(l=H.contextType)&&n[l.__c],m=l?_?_.props.value:l.__:n,r.__c?D=(u=e.__c=r.__c).__=u.__E:("prototype"in H&&H.prototype.render?e.__c=u=new H(x,m):(e.__c=u=new Af(x,m),u.constructor=H,u.render=PZ),_&&_.sub(u),u.props=x,u.state||(u.state={}),u.context=m,u.__n=n,h=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),H.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=zs({},u.__s)),zs(u.__s,H.getDerivedStateFromProps(x,u.__s))),b=u.props,v=u.state,h)H.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(H.getDerivedStateFromProps==null&&x!==b&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(x,m),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(x,u.__s,m)===!1||e.__v===r.__v){for(u.props=x,u.state=u.__s,e.__v!==r.__v&&(u.__d=!1),u.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(re){re&&(re.__=e)}),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(x,u.__s,m),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(b,v,E)})}if(u.context=m,u.props=x,u.__v=e,u.__P=t,A=lt.__r,k=0,"prototype"in H&&H.prototype.render){for(u.state=u.__s,u.__d=!1,A&&A(e),l=u.render(u.props,u.state,u.context),z=0;z<u._sb.length;z++)u.__h.push(u._sb[z]);u._sb=[]}else do u.__d=!1,A&&A(e),l=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++k<25);u.state=u.__s,u.getChildContext!=null&&(n=zs(zs({},n),u.getChildContext())),h||u.getSnapshotBeforeUpdate==null||(E=u.getSnapshotBeforeUpdate(b,v)),S=l!=null&&l.type===Fh&&l.key==null?l.props.children:l,NA(t,Array.isArray(S)?S:[S],e,r,n,i,s,o,a,c),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),D&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=RZ(r.__e,e,r,n,i,s,o,c);(l=lt.diffed)&&l(e)}catch(re){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),lt.__e(re,e,r)}}function $A(t,e){lt.__c&&lt.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){lt.__e(n,r.__v)}})}function RZ(t,e,r,n,i,s,o,a){var c,l,u,h=r.props,b=e.props,v=e.type,E=0;if(v==="svg"&&(i=!0),s!=null){for(;E<s.length;E++)if((c=s[E])&&"setAttribute"in c==!!v&&(v?c.localName===v:c.nodeType===3)){t=c,s[E]=null;break}}if(t==null){if(v===null)return document.createTextNode(b);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,b.is&&b),s=null,a=!1}if(v===null)h===b||a&&t.data===b||(t.data=b);else{if(s=s&&$h.call(t.childNodes),l=(h=r.props||tp).dangerouslySetInnerHTML,u=b.dangerouslySetInnerHTML,!a){if(s!=null)for(h={},E=0;E<t.attributes.length;E++)h[t.attributes[E].name]=t.attributes[E].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(OZ(t,b,h,i,a),u)e.__k=[];else if(E=e.props.children,NA(t,Array.isArray(E)?E:[E],e,r,n,i&&v!=="foreignObject",s,o,s?s[0]:r.__k&&Yf(r,0),a),s!=null)for(E=s.length;E--;)s[E]!=null&&RA(s[E]);a||("value"in b&&(E=b.value)!==void 0&&(E!==t.value||v==="progress"&&!E||v==="option"&&E!==h.value)&&np(t,"value",E,h.value,!1),"checked"in b&&(E=b.checked)!==void 0&&E!==t.checked&&np(t,"checked",E,h.checked,!1))}return t}function FA(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){lt.__e(n,r)}}function UA(t,e,r){var n,i;if(lt.unmount&&lt.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||FA(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){lt.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&UA(n[i],e,r||typeof t.type!="function");r||t.__e==null||RA(t.__e),t.__=t.__e=t.__d=void 0}function PZ(t,e,r){return this.constructor(t,r)}function jA(t,e,r){var n,i,s;lt.__&&lt.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],nw(e,t=(!n&&r||e).__k=Xy(Fh,null,[t]),i||tp,tp,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?$h.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),$A(s,t)}function HA(t,e){jA(t,e,HA)}function NZ(t,e,r){var n,i,s,o=zs({},t.props);for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?$h.call(arguments,2):r),Sf(t.type,o,n||t.key,i||t.ref,null)}function DZ(t,e){var r={__c:e="__cC"+kA++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(e2)},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}$h=OA.slice,lt={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},MA=0,TA=function(t){return t!=null&&t.constructor===void 0},Af.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=zs({},this.state),typeof t=="function"&&(t=t(zs({},r),this.props)),t&&zs(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),e2(this))},Af.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),e2(this))},Af.prototype.render=Fh,Ef=[],rp.__r=0,kA=0;const BZ=Object.freeze(Object.defineProperty({__proto__:null,Component:Af,Fragment:Fh,cloneElement:NZ,createContext:DZ,createElement:Xy,createRef:kZ,h:Xy,hydrate:HA,get isValidElement(){return TA},get options(){return lt},render:jA,toChildArray:BA},Symbol.toStringTag,{value:"Module"})),ei=Ht(BZ);var I1={};function zA(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=zA(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function E_(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=zA(t))&&(n&&(n+=" "),n+=e);return n}const LZ=Object.freeze(Object.defineProperty({__proto__:null,clsx:E_,default:E_},Symbol.toStringTag,{value:"Module"})),M1=Ht(LZ);var Ko,nr,Om,S_,bl=0,WA=[],_d=[],A_=lt.__b,C_=lt.__r,I_=lt.diffed,M_=lt.__c,T_=lt.unmount;function tc(t,e){lt.__h&&lt.__h(nr,t,bl||e),bl=0;var r=nr.__H||(nr.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:_d}),r.__[t]}function qA(t){return bl=1,VA(KA,t)}function VA(t,e,r){var n=tc(Ko++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):KA(void 0,e),function(s){var o=n.__N?n.__N[0]:n.__[0],a=n.t(o,s);o!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=nr,!nr.u)){nr.u=!0;var i=nr.shouldComponentUpdate;nr.shouldComponentUpdate=function(s,o,a){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(u){return u.__c});if(c.every(function(u){return!u.__N}))return!i||i.call(this,s,o,a);var l=!1;return c.forEach(function(u){if(u.__N){var h=u.__[0];u.__=u.__N,u.__N=void 0,h!==u.__[0]&&(l=!0)}}),!(!l&&n.__c.props===s)&&(!i||i.call(this,s,o,a))}}return n.__N||n.__}function $Z(t,e){var r=tc(Ko++,3);!lt.__s&&sw(r.__H,e)&&(r.__=t,r.i=e,nr.__H.__h.push(r))}function GA(t,e){var r=tc(Ko++,4);!lt.__s&&sw(r.__H,e)&&(r.__=t,r.i=e,nr.__h.push(r))}function FZ(t){return bl=5,iw(function(){return{current:t}},[])}function UZ(t,e,r){bl=6,GA(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function iw(t,e){var r=tc(Ko++,7);return sw(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function jZ(t,e){return bl=8,iw(function(){return t},e)}function HZ(t){var e=nr.context[t.__c],r=tc(Ko++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(nr)),e.props.value):t.__}function zZ(t,e){lt.useDebugValue&&lt.useDebugValue(e?e(t):t)}function WZ(t){var e=tc(Ko++,10),r=qA();return e.__=t,nr.componentDidCatch||(nr.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function qZ(){var t=tc(Ko++,11);if(!t.__){for(var e=nr.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function VZ(){for(var t;t=WA.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Ed),t.__H.__h.forEach(t2),t.__H.__h=[]}catch(e){t.__H.__h=[],lt.__e(e,t.__v)}}lt.__b=function(t){nr=null,A_&&A_(t)},lt.__r=function(t){C_&&C_(t),Ko=0;var e=(nr=t.__c).__H;e&&(Om===nr?(e.__h=[],nr.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=_d,r.__N=r.i=void 0})):(e.__h.forEach(Ed),e.__h.forEach(t2),e.__h=[])),Om=nr},lt.diffed=function(t){I_&&I_(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(WA.push(e)!==1&&S_===lt.requestAnimationFrame||((S_=lt.requestAnimationFrame)||GZ)(VZ)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==_d&&(r.__=r.__V),r.i=void 0,r.__V=_d})),Om=nr=null},lt.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Ed),r.__h=r.__h.filter(function(n){return!n.__||t2(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],lt.__e(n,r.__v)}}),M_&&M_(t,e)},lt.unmount=function(t){T_&&T_(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Ed(n)}catch(i){e=i}}),r.__H=void 0,e&&lt.__e(e,r.__v))};var k_=typeof requestAnimationFrame=="function";function GZ(t){var e,r=function(){clearTimeout(n),k_&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);k_&&(e=requestAnimationFrame(r))}function Ed(t){var e=nr,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),nr=e}function t2(t){var e=nr;t.__c=t.__(),nr=e}function sw(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function KA(t,e){return typeof e=="function"?e(t):e}const KZ=Object.freeze(Object.defineProperty({__proto__:null,useCallback:jZ,useContext:HZ,useDebugValue:zZ,useEffect:$Z,useErrorBoundary:WZ,useId:qZ,useImperativeHandle:UZ,useLayoutEffect:GA,useMemo:iw,useReducer:VA,useRef:FZ,useState:qA},Symbol.toStringTag,{value:"Module"})),Uh=Ht(KZ);var fs={},T1={};Object.defineProperty(T1,"__esModule",{value:!0});T1.LIB_VERSION=void 0;T1.LIB_VERSION="3.6.3";var k1={};Object.defineProperty(k1,"__esModule",{value:!0});k1.CloseIcon=void 0;const O_=ei;function JZ(t){return(0,O_.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,O_.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}k1.CloseIcon=JZ;var ow={};Object.defineProperty(ow,"__esModule",{value:!0});ow.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var aw={};Object.defineProperty(aw,"__esModule",{value:!0});aw.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var O1={};Object.defineProperty(O1,"__esModule",{value:!0});O1.QRCodeIcon=void 0;const Vi=ei;function ZZ(t){return(0,Vi.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Vi.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,Vi.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,Vi.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,Vi.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,Vi.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,Vi.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,Vi.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,Vi.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,Vi.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}O1.QRCodeIcon=ZZ;var cw={};Object.defineProperty(cw,"__esModule",{value:!0});const YZ=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;cw.default=YZ;var lw={};Object.defineProperty(lw,"__esModule",{value:!0});lw.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var R1={};Object.defineProperty(R1,"__esModule",{value:!0});R1.StatusDotIcon=void 0;const R_=ei;function QZ(t){return(0,R_.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,R_.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}R1.StatusDotIcon=QZ;var P1={};function JA(t){this.mode=qn.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}JA.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function hs(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}hs.prototype={addData:function(t){var e=new JA(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=hs.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ur.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,l=this.modules[s][a];l&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=ur.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=ur.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=ur.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var l=ur.getMask(e,n,o-a);l&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};hs.PAD0=236;hs.PAD1=17;hs.createData=function(t,e,r){for(var n=cs.getRSBlocks(t,e),i=new ZA,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),ur.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(hs.PAD0,8),i.getLengthInBits()>=a*8));)i.put(hs.PAD1,8);return hs.createBytes(i,n)};hs.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,l=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,l),s[a]=new Array(c);for(var u=0;u<s[a].length;u++)s[a][u]=255&t.buffer[u+r];r+=c;var h=ur.getErrorCorrectPolynomial(l),b=new Kc(s[a],h.getLength()-1),v=b.mod(h);o[a]=new Array(h.getLength()-1);for(var u=0;u<o[a].length;u++){var E=u+v.getLength()-o[a].length;o[a][u]=E>=0?v.get(E):0}}for(var D=0,u=0;u<e.length;u++)D+=e[u].totalCount;for(var x=new Array(D),_=0,u=0;u<n;u++)for(var a=0;a<e.length;a++)u<s[a].length&&(x[_++]=s[a][u]);for(var u=0;u<i;u++)for(var a=0;a<e.length;a++)u<o[a].length&&(x[_++]=o[a][u]);return x};var qn={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Eo={L:1,M:0,Q:3,H:2},lo={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ur={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;ur.getBCHDigit(e)-ur.getBCHDigit(ur.G15)>=0;)e^=ur.G15<<ur.getBCHDigit(e)-ur.getBCHDigit(ur.G15);return(t<<10|e)^ur.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;ur.getBCHDigit(e)-ur.getBCHDigit(ur.G18)>=0;)e^=ur.G18<<ur.getBCHDigit(e)-ur.getBCHDigit(ur.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return ur.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case lo.PATTERN000:return(e+r)%2==0;case lo.PATTERN001:return e%2==0;case lo.PATTERN010:return r%3==0;case lo.PATTERN011:return(e+r)%3==0;case lo.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case lo.PATTERN101:return e*r%2+e*r%3==0;case lo.PATTERN110:return(e*r%2+e*r%3)%2==0;case lo.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Kc([1],0),r=0;r<t;r++)e=e.multiply(new Kc([1,Wr.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case qn.MODE_NUMBER:return 10;case qn.MODE_ALPHA_NUM:return 9;case qn.MODE_8BIT_BYTE:return 8;case qn.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case qn.MODE_NUMBER:return 12;case qn.MODE_ALPHA_NUM:return 11;case qn.MODE_8BIT_BYTE:return 16;case qn.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case qn.MODE_NUMBER:return 14;case qn.MODE_ALPHA_NUM:return 13;case qn.MODE_8BIT_BYTE:return 16;case qn.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var u=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&u++;var h=Math.abs(100*u/e/e-50)/5;return r+=h*10,r}},Wr={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Wr.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Wr.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Xr=0;Xr<8;Xr++)Wr.EXP_TABLE[Xr]=1<<Xr;for(var Xr=8;Xr<256;Xr++)Wr.EXP_TABLE[Xr]=Wr.EXP_TABLE[Xr-4]^Wr.EXP_TABLE[Xr-5]^Wr.EXP_TABLE[Xr-6]^Wr.EXP_TABLE[Xr-8];for(var Xr=0;Xr<255;Xr++)Wr.LOG_TABLE[Wr.EXP_TABLE[Xr]]=Xr;function Kc(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Kc.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Wr.gexp(Wr.glog(this.get(r))+Wr.glog(t.get(n)));return new Kc(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Wr.glog(this.get(0))-Wr.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Wr.gexp(Wr.glog(t.get(n))+e);return new Kc(r,0).mod(t)}};function cs(t,e){this.totalCount=t,this.dataCount=e}cs.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];cs.getRSBlocks=function(t,e){var r=cs.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],l=0;l<o;l++)i.push(new cs(a,c));return i};cs.getRsBlockTable=function(t,e){switch(e){case Eo.L:return cs.RS_BLOCK_TABLE[(t-1)*4+0];case Eo.M:return cs.RS_BLOCK_TABLE[(t-1)*4+1];case Eo.Q:return cs.RS_BLOCK_TABLE[(t-1)*4+2];case Eo.H:return cs.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function ZA(){this.buffer=[],this.length=0}ZA.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Rm=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function YA(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Eo.L;case"M":return Eo.M;case"Q":return Eo.Q;case"H":return Eo.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,l){for(var u=i(c),h=1,b=0,v=0,E=Rm.length;v<=E;v++){var D=Rm[v];if(!D)throw new Error("Content too long: expected "+b+" but got "+u);switch(l){case"L":b=D[0];break;case"M":b=D[1];break;case"Q":b=D[2];break;case"H":b=D[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(u<=b)break;h++}if(h>Rm.length)throw new Error("Content too long");return h}function i(c){var l=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new hs(o,a),this.qrcode.addData(s),this.qrcode.make()}YA.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,l=o/(c+2*e.padding),u=a/(c+2*e.padding),h=typeof e.join<"u"?!!e.join:!1,b=typeof e.swap<"u"?!!e.swap:!1,v=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,E=typeof e.predefined<"u"?!!e.predefined:!1,D=E?i+'<defs><path id="qrmodule" d="M0 0 h'+u+" v"+l+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",x=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,_="",m="",w=0;w<c;w++)for(var A=0;A<c;A++){var k=r[A][w];if(k){var z=A*l+e.padding*l,S=w*u+e.padding*u;if(b){var H=z;z=S,S=H}if(h){var re=l+z,W=u+S;z=Number.isInteger(z)?Number(z):z.toFixed(2),S=Number.isInteger(S)?Number(S):S.toFixed(2),re=Number.isInteger(re)?Number(re):re.toFixed(2),W=Number.isInteger(W)?Number(W):W.toFixed(2),m+="M"+z+","+S+" V"+W+" H"+re+" V"+S+" H"+z+" Z "}else E?_+=i+'<use x="'+z.toString()+'" y="'+S.toString()+'" href="#qrmodule" />'+s:_+=i+'<rect x="'+z.toString()+'" y="'+S.toString()+'" width="'+l+'" height="'+u+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}h&&(_=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+m+'" />');let y="";if(this.options.image!==void 0&&this.options.image.svg){const I=o*this.options.image.width/100,f=a*this.options.image.height/100,p=o/2-I/2,T=a/2-f/2;y+=`<svg x="${p}" y="${T}" width="${I}" height="${f}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,y+=this.options.image.svg+s,y+="</svg>"}var R="";switch(t.container){case"svg":v&&(R+='<?xml version="1.0" standalone="yes"?>'+s),R+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,R+=D+x+_,R+=y,R+="</svg>";break;case"svg-viewbox":v&&(R+='<?xml version="1.0" standalone="yes"?>'+s),R+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,R+=D+x+_,R+=y,R+="</svg>";break;case"g":R+='<g width="'+o+'" height="'+a+'">'+s,R+=D+x+_,R+=y,R+="</g>";break;default:R+=(D+x+_+y).replace(/^\s+/,"");break}return R};var XZ=YA,eY=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(P1,"__esModule",{value:!0});P1.QRCode=void 0;const tY=ei,P_=Uh,rY=eY(XZ),nY=t=>{const[e,r]=(0,P_.useState)("");return(0,P_.useEffect)(()=>{var n,i;const s=new rY.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,tY.h)("img",{src:e,alt:"QR Code"}):null};P1.QRCode=nY;var N1={},uw={};Object.defineProperty(uw,"__esModule",{value:!0});uw.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var iY=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(N1,"__esModule",{value:!0});N1.Spinner=void 0;const T0=ei,sY=iY(uw),oY=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,T0.h)("div",{class:"-cbwsdk-spinner"},(0,T0.h)("style",null,sY.default),(0,T0.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,T0.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};N1.Spinner=oY;var fw={};Object.defineProperty(fw,"__esModule",{value:!0});fw.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var nu=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fs,"__esModule",{value:!0});fs.CoinbaseAppSteps=fs.CoinbaseWalletSteps=fs.ConnectItem=fs.ConnectContent=void 0;const bi=nu(M1),tt=ei,N_=Uh,aY=Ke,cY=T1,lY=k1,uY=nu(ow),fY=nu(aw),QA=O1,hY=nu(cw),dY=nu(lw),pY=R1,gY=P1,mY=N1,bY=nu(fw),D_={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:fY.default,steps:eC},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:uY.default,steps:tC}},yY=t=>{switch(t){case"coinbase-app":return hY.default;case"coinbase-wallet-app":default:return dY.default}},r2=t=>t==="light"?"#FFFFFF":"#0A0B0D";function vY(t){const{theme:e}=t,[r,n]=(0,N_.useState)("coinbase-wallet-app"),i=(0,N_.useCallback)(l=>{n(l)},[]),s=(0,aY.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=D_[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,tt.h)("div",{"data-testid":"connect-content",class:(0,bi.default)("-cbwsdk-connect-content",e)},(0,tt.h)("style",null,bY.default),(0,tt.h)("div",{class:"-cbwsdk-connect-content-header"},(0,tt.h)("h2",{class:(0,bi.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,tt.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,tt.h)(lY.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,tt.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,tt.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,tt.h)("div",null,Object.entries(D_).map(([l,u])=>(0,tt.h)(XA,{key:l,title:u.title,description:u.description,icon:u.icon,selected:r===l,onClick:()=>i(l),theme:e}))),c&&(0,tt.h)("div",{class:(0,bi.default)("-cbwsdk-connect-content-update-app",e)},"Dont see a ",(0,tt.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,tt.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,tt.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,tt.h)(gY.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:yY(r),width:25,height:25}}),(0,tt.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:cY.LIB_VERSION}),(0,tt.h)("input",{type:"hidden",value:s})),(0,tt.h)(a,{theme:e}),!t.isConnected&&(0,tt.h)("div",{"data-testid":"connecting-spinner",class:(0,bi.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,tt.h)(mY.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,tt.h)("p",null,"Connecting...")))))}fs.ConnectContent=vY;function XA({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,tt.h)("div",{onClick:s,class:(0,bi.default)("-cbwsdk-connect-item",i,{selected:n})},(0,tt.h)("div",null,(0,tt.h)("img",{src:r,alt:t})),(0,tt.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,tt.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,tt.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}fs.ConnectItem=XA;function eC({theme:t}){return(0,tt.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,tt.h)("li",{class:(0,bi.default)("-cbwsdk-wallet-steps-item",t)},(0,tt.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,tt.h)("li",{class:(0,bi.default)("-cbwsdk-wallet-steps-item",t)},(0,tt.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,tt.h)("span",null,"Tap ",(0,tt.h)("strong",null,"Scan")," "),(0,tt.h)("span",{class:(0,bi.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,tt.h)(QA.QRCodeIcon,{fill:r2(t)})))))}fs.CoinbaseWalletSteps=eC;function tC({theme:t}){return(0,tt.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,tt.h)("li",{class:(0,bi.default)("-cbwsdk-wallet-steps-item",t)},(0,tt.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,tt.h)("li",{class:(0,bi.default)("-cbwsdk-wallet-steps-item",t)},(0,tt.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,tt.h)("span",null,"Tap ",(0,tt.h)("strong",null,"More")),(0,tt.h)("span",{class:(0,bi.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,tt.h)(pY.StatusDotIcon,{fill:r2(t)})),(0,tt.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,tt.h)("strong",null,"Scan")),(0,tt.h)("span",{class:(0,bi.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,tt.h)(QA.QRCodeIcon,{fill:r2(t)})))))}fs.CoinbaseAppSteps=tC;var D1={},B1={};Object.defineProperty(B1,"__esModule",{value:!0});B1.ArrowLeftIcon=void 0;const B_=ei;function wY(t){return(0,B_.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,B_.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}B1.ArrowLeftIcon=wY;var L1={};Object.defineProperty(L1,"__esModule",{value:!0});L1.LaptopIcon=void 0;const Pm=ei;function xY(t){return(0,Pm.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Pm.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Pm.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}L1.LaptopIcon=xY;var $1={};Object.defineProperty($1,"__esModule",{value:!0});$1.SafeIcon=void 0;const L_=ei;function _Y(t){return(0,L_.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,L_.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}$1.SafeIcon=_Y;var hw={};Object.defineProperty(hw,"__esModule",{value:!0});hw.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var rC=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(D1,"__esModule",{value:!0});D1.TryExtensionContent=void 0;const na=rC(M1),Mr=ei,Nm=Uh,EY=B1,SY=L1,AY=$1,CY=rC(hw);function IY({theme:t}){const[e,r]=(0,Nm.useState)(!1),n=(0,Nm.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Nm.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,Mr.h)("div",{class:(0,na.default)("-cbwsdk-try-extension",t)},(0,Mr.h)("style",null,CY.default),(0,Mr.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Mr.h)("h3",{class:(0,na.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Mr.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Mr.h)("button",{class:(0,na.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Mr.h)("div",null,!e&&(0,Mr.h)(EY.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Mr.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Mr.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Mr.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Mr.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Mr.h)("span",{class:(0,na.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Mr.h)(SY.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Mr.h)("div",{class:(0,na.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Mr.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Mr.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Mr.h)("span",{class:(0,na.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Mr.h)(AY.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Mr.h)("div",{class:(0,na.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}D1.TryExtensionContent=IY;var dw={};Object.defineProperty(dw,"__esModule",{value:!0});dw.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var nC=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(I1,"__esModule",{value:!0});I1.ConnectDialog=void 0;const Dm=nC(M1),ia=ei,Bm=Uh,MY=fs,TY=D1,kY=nC(dw),OY=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Bm.useState)(!e),[s,o]=(0,Bm.useState)(!e);(0,Bm.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,ia.h)("div",{class:(0,Dm.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,ia.h)("style",null,kY.default),(0,ia.h)("div",{class:(0,Dm.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,ia.h)("div",{class:"-cbwsdk-connect-dialog"},(0,ia.h)("div",{class:(0,Dm.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,ia.h)(MY.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,ia.h)(TY.TryExtensionContent,{theme:a}))))};I1.ConnectDialog=OY;Object.defineProperty(C1,"__esModule",{value:!0});C1.LinkFlow=void 0;const Lm=ei,$_=Xl,RY=I1;class PY{constructor(e){this.extensionUI$=new $_.BehaviorSubject({}),this.subscriptions=new $_.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,Lm.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,Lm.render)((0,Lm.h)(RY.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}C1.LinkFlow=PY;var iC={},pw={};Object.defineProperty(pw,"__esModule",{value:!0});pw.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=ze&&ze.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(M1),n=ei,i=Uh,s=e(pw),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(h){switch(h){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(b){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=b.darkMode}attach(b){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",b.appendChild(this.root),this.render()}presentItem(b){const v=this.nextItemKey++;return this.items.set(v,b),this.render(),()=>{this.items.delete(v),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([b,v])=>(0,n.h)(t.SnackbarInstance,Object.assign({},v,{key:b}))))),this.root)}}t.Snackbar=c;const l=h=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},h.children));t.SnackbarContainer=l;const u=({autoExpand:h,message:b,menuItems:v,appSrc:E})=>{const[D,x]=(0,i.useState)(!0),[_,m]=(0,i.useState)(h??!1);(0,i.useEffect)(()=>{const A=[window.setTimeout(()=>{x(!1)},1),window.setTimeout(()=>{m(!0)},1e4)];return()=>{A.forEach(window.clearTimeout)}});const w=()=>{m(!_)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",D&&"-cbwsdk-snackbar-instance-hidden",_&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:w},(0,n.h)("img",{src:a(E),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},b),(0,n.h)("div",{class:"-gear-container"},!_&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),v&&v.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},v.map((A,k)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",A.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:A.onClick,key:k},(0,n.h)("svg",{width:A.svgWidth,height:A.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":A.defaultFillRule,"clip-rule":A.defaultClipRule,d:A.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",A.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},A.info)))))};t.SnackbarInstance=u})(iC);var F1={},gw={};Object.defineProperty(gw,"__esModule",{value:!0});gw.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var NY=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(F1,"__esModule",{value:!0});F1.injectCssReset=void 0;const DY=NY(gw);function BY(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(DY.default)),document.documentElement.appendChild(t)}F1.injectCssReset=BY;Object.defineProperty(A1,"__esModule",{value:!0});A1.WalletSDKUI=void 0;const LY=C1,$Y=iC,FY=F1;class UY{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new $Y.Snackbar({darkMode:e.darkMode}),this.linkFlow=new LY.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,FY.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}A1.WalletSDKUI=UY;var U1={},j1={};Object.defineProperty(j1,"__esModule",{value:!0});var $c;(function(t){t.typeOfFunction="function",t.boolTrue=!0})($c||($c={}));function sC(t,e,r){if(!r||typeof r.value!==$c.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:$c.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:$c.boolTrue,writable:$c.boolTrue}),n}}}j1.bind=sC;j1.default=sC;var H1={},gi={};Object.defineProperty(gi,"__esModule",{value:!0});gi.ClientMessagePublishEvent=gi.ClientMessageSetSessionConfig=gi.ClientMessageGetSessionConfig=gi.ClientMessageIsLinked=gi.ClientMessageHostSession=void 0;function jY(t){return Object.assign({type:"HostSession"},t)}gi.ClientMessageHostSession=jY;function HY(t){return Object.assign({type:"IsLinked"},t)}gi.ClientMessageIsLinked=HY;function zY(t){return Object.assign({type:"GetSessionConfig"},t)}gi.ClientMessageGetSessionConfig=zY;function WY(t){return Object.assign({type:"SetSessionConfig"},t)}gi.ClientMessageSetSessionConfig=WY;function qY(t){return Object.assign({type:"PublishEvent"},t)}gi.ClientMessagePublishEvent=qY;var oC={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Xl,r=s1;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(oC);var z1={};Object.defineProperty(z1,"__esModule",{value:!0});z1.isServerMessageFail=void 0;function VY(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}z1.isServerMessageFail=VY;Object.defineProperty(H1,"__esModule",{value:!0});H1.WalletSDKConnection=void 0;const Mi=Xl,Pt=s1,Iu=Jl,gc=Oh,Mu=gi,Tu=Kl,k0=oC,$m=z1,F_=1e4,GY=6e4;class KY{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Mi.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,gc.IntNumber)(1),this.connectedSubject=new Mi.BehaviorSubject(!1),this.linkedSubject=new Mi.BehaviorSubject(!1),this.sessionConfigSubject=new Mi.ReplaySubject(1);const o=new k0.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,Pt.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Tu.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Iu.Session.hash(e)})}),(0,Pt.skip)(1),(0,Pt.filter)(a=>a===k0.ConnectionState.DISCONNECTED&&!this.destroyed),(0,Pt.delay)(5e3),(0,Pt.filter)(a=>!this.destroyed),(0,Pt.flatMap)(a=>o.connect()),(0,Pt.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,Pt.skip)(2),(0,Pt.switchMap)(a=>(0,Mi.iif)(()=>a===k0.ConnectionState.CONNECTED,this.authenticate().pipe((0,Pt.tap)(c=>this.sendIsLinked()),(0,Pt.tap)(c=>this.sendGetSessionConfig()),(0,Pt.map)(c=>!0)),(0,Mi.of)(!1))),(0,Pt.distinctUntilChanged)(),(0,Pt.catchError)(a=>(0,Mi.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,Pt.skip)(1),(0,Pt.switchMap)(a=>(0,Mi.iif)(()=>a===k0.ConnectionState.CONNECTED,(0,Mi.timer)(0,F_)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,Pt.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,Pt.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(Tu.EVENTS.LINKED,{sessionIdHash:Iu.Session.hash(e),linked:l.linked,type:a.type,onlineGuests:l.onlineGuests}),this.linkedSubject.next(l.linked||l.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,Pt.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(Tu.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Iu.Session.hash(e),metadata_keys:l&&l.metadata?Object.keys(l.metadata):void 0}),this.sessionConfigSubject.next({webhookId:l.webhookId,webhookUrl:l.webhookUrl,metadata:l.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Tu.EVENTS.STARTED_CONNECTING,{sessionIdHash:Iu.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Tu.EVENTS.DISCONNECTED,{sessionIdHash:Iu.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,Pt.filter)(e=>e),(0,Pt.take)(1),(0,Pt.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,Pt.filter)(e=>e),(0,Pt.take)(1),(0,Pt.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,Pt.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,Pt.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Mu.ClientMessageSetSessionConfig)({id:(0,gc.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,Pt.flatMap)(i=>this.makeRequest(n)),(0,Pt.map)(i=>{if((0,$m.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Mu.ClientMessagePublishEvent)({id:(0,gc.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,Pt.flatMap)(s=>this.makeRequest(i)),(0,Pt.map)(s=>{if((0,$m.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>F_*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=GY){const n=e.id;try{this.sendData(e)}catch(i){return(0,Mi.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,Pt.timeoutWith)(r,(0,Mi.throwError)(new Error(`request ${n} timed out`))),(0,Pt.filter)(i=>i.id===n),(0,Pt.take)(1))}authenticate(){const e=(0,Mu.ClientMessageHostSession)({id:(0,gc.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,Pt.map)(r=>{if((0,$m.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Mu.ClientMessageIsLinked)({id:(0,gc.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Mu.ClientMessageGetSessionConfig)({id:(0,gc.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}H1.WalletSDKConnection=KY;var W1={};Object.defineProperty(W1,"__esModule",{value:!0});W1.WalletUIError=void 0;class Qf extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}W1.WalletUIError=Qf;Qf.UserRejectedRequest=new Qf("User rejected request");Qf.SwitchEthereumChainUnsupportedChainId=new Qf("Unsupported chainId",4902);var yl={};Object.defineProperty(yl,"__esModule",{value:!0});yl.decrypt=yl.encrypt=void 0;const JY=Xl,ip=Ke;async function ZY(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,ip.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),l=new Uint8Array(a),u=new Uint8Array(c),h=new Uint8Array([...r,...l,...u]);return(0,ip.uint8ArrayToHex)(h)}yl.encrypt=ZY;function YY(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new JY.Observable(r=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,ip.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,ip.hexStringToUint8Array)(t),s=i.slice(0,12),o=i.slice(12,28),a=i.slice(28),c=new Uint8Array([...a,...o]),l={name:"AES-GCM",iv:new Uint8Array(s)};try{const u=await window.crypto.subtle.decrypt(l,n,c),h=new TextDecoder;r.next(h.decode(u)),r.complete()}catch(u){r.error(u)}})()})}yl.decrypt=YY;var mw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(mw);var q1={},V1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(V1);Object.defineProperty(q1,"__esModule",{value:!0});q1.Web3RequestCanceledMessage=void 0;const QY=V1;function XY(t){return{type:QY.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}q1.Web3RequestCanceledMessage=XY;var G1={};Object.defineProperty(G1,"__esModule",{value:!0});G1.Web3RequestMessage=void 0;const eQ=V1;function tQ(t){return Object.assign({type:eQ.RelayMessageType.WEB3_REQUEST},t)}G1.Web3RequestMessage=tQ;var ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.EthereumAddressFromSignedMessageResponse=ar.SubmitEthereumTransactionResponse=ar.SignEthereumTransactionResponse=ar.SignEthereumMessageResponse=ar.isRequestEthereumAccountsResponse=ar.SelectProviderResponse=ar.WatchAssetReponse=ar.RequestEthereumAccountsResponse=ar.SwitchEthereumChainResponse=ar.AddEthereumChainResponse=ar.ErrorResponse=void 0;const Cs=mw;function rQ(t,e,r){return{method:t,errorMessage:e,errorCode:r}}ar.ErrorResponse=rQ;function nQ(t){return{method:Cs.Web3Method.addEthereumChain,result:t}}ar.AddEthereumChainResponse=nQ;function iQ(t){return{method:Cs.Web3Method.switchEthereumChain,result:t}}ar.SwitchEthereumChainResponse=iQ;function sQ(t){return{method:Cs.Web3Method.requestEthereumAccounts,result:t}}ar.RequestEthereumAccountsResponse=sQ;function oQ(t){return{method:Cs.Web3Method.watchAsset,result:t}}ar.WatchAssetReponse=oQ;function aQ(t){return{method:Cs.Web3Method.selectProvider,result:t}}ar.SelectProviderResponse=aQ;function cQ(t){return t&&t.method===Cs.Web3Method.requestEthereumAccounts}ar.isRequestEthereumAccountsResponse=cQ;function lQ(t){return{method:Cs.Web3Method.signEthereumMessage,result:t}}ar.SignEthereumMessageResponse=lQ;function uQ(t){return{method:Cs.Web3Method.signEthereumTransaction,result:t}}ar.SignEthereumTransactionResponse=uQ;function fQ(t){return{method:Cs.Web3Method.submitEthereumTransaction,result:t}}ar.SubmitEthereumTransactionResponse=fQ;function hQ(t){return{method:Cs.Web3Method.ethereumAddressFromSignedMessage,result:t}}ar.EthereumAddressFromSignedMessageResponse=hQ;var vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.isWeb3ResponseMessage=vl.Web3ResponseMessage=void 0;const aC=V1;function dQ(t){return Object.assign({type:aC.RelayMessageType.WEB3_RESPONSE},t)}vl.Web3ResponseMessage=dQ;function pQ(t){return t&&t.type===aC.RelayMessageType.WEB3_RESPONSE}vl.isWeb3ResponseMessage=pQ;var gQ=ze&&ze.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mQ=ze&&ze.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cC=ze&&ze.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},bQ=ze&&ze.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gQ(e,t,r);return mQ(e,t),e},yQ=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(U1,"__esModule",{value:!0});U1.WalletSDKRelay=void 0;const lC=yQ(j1),U_=e1,ku=Xl,kr=s1,ln=Kl,vQ=H1,Fm=W1,wQ=Oh,or=Ke,uo=bQ(yl),fo=Jl,O0=Fi,jr=mw,xQ=q1,_Q=G1,Wn=ar,mn=vl;class Pi extends O0.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new ku.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new ku.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=fo.Session.load(this.storage)||new fo.Session(this.storage).save(),r=new vQ.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(ln.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,kr.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,kr.skip)(1),(0,kr.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(O0.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const l=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(ln.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:l})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,kr.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(ln.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,kr.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,kr.mergeMap)(i=>uo.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(O0.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(ln.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,kr.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,kr.mergeMap)(i=>uo.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(O0.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(ln.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,kr.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,kr.mergeMap)(i=>(0,ku.zip)(uo.decrypt(i.metadata.ChainId,e.secret),uo.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,kr.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(ln.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,kr.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,kr.mergeMap)(i=>uo.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Pi.accountRequestCallbackIds.size>0&&(Array.from(Pi.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,mn.Web3ResponseMessage)({id:s,response:(0,Wn.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Pi.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(ln.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,kr.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,kr.mergeMap)(i=>uo.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(ln.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,kr.timeout)(1e3),(0,kr.catchError)(e=>(0,ku.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(ln.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(ln.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=fo.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(ln.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:fo.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:c,connection:l}=this.subscribe();this._session=a,this.connection=l,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(ln.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:jr.Web3Method.signEthereumMessage,params:{message:(0,or.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:jr.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,or.hexStringFromBuffer)(e,!0),signature:(0,or.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:jr.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,or.bigIntStringFromBN)(e.weiValue),data:(0,or.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,or.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,or.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,or.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,or.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:jr.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,or.bigIntStringFromBN)(e.weiValue),data:(0,or.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,or.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,or.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,or.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,or.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:jr.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,or.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:jr.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,or.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:jr.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,or.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,_Q.Web3RequestMessage)({id:e,request:r}),s=fo.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(ln.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?fo.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(ln.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?fo.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,mn.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,xQ.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new ku.Observable(s=>{uo.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,kr.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add(uo.decrypt(e.data,this.session.secret).pipe((0,kr.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,mn.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(ln.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(ln.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Wn.isRequestEthereumAccountsResponse)(n)){Pi.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Pi.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,mn.Web3ResponseMessage)({id:e,response:(0,Wn.ErrorResponse)(r,(n??Fm.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:jr.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,or.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,l=>{if(this.ui.hideRequestEthereumAccounts(),l.errorMessage)return o(new Error(l.errorMessage));s(l)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let l;try{(0,or.isInIFrame)()&&window.top?l=window.top.location:l=window.location}catch{l=window.location}l.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(l.href)}`;return}if(this.ui.inlineAccountsResponse()){const l=u=>{this.handleWeb3ResponseMessage((0,mn.Web3ResponseMessage)({id:r,response:(0,Wn.RequestEthereumAccountsResponse)(u)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:l})}else{const l=U_.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(l)})}Pi.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:jr.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,or.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,u=>{if(u.errorMessage)return a(new Error(u.errorMessage));o(u)});const c=u=>{this.handleWeb3ResponseMessage((0,mn.Web3ResponseMessage)({id:n,response:(0,Wn.SelectProviderResponse)(wQ.ProviderType.Unselected)}))},l=u=>{this.handleWeb3ResponseMessage((0,mn.Web3ResponseMessage)({id:n,response:(0,Wn.SelectProviderResponse)(u)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:jr.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const l=(0,or.randomBytesHex)(8),u=b=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,b),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}));const h=new Promise((b,v)=>{this.relayEventManager.callbacks.set(l,x=>{if(c==null||c(),x.errorMessage)return v(new Error(x.errorMessage));b(x)});const E=x=>{this.handleWeb3ResponseMessage((0,mn.Web3ResponseMessage)({id:l,response:(0,Wn.WatchAssetReponse)(!1)}))},D=()=>{this.handleWeb3ResponseMessage((0,mn.Web3ResponseMessage)({id:l,response:(0,Wn.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:D,onCancel:E,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:u,promise:h}}addEthereumChain(e,r,n,i,s,o){const a={method:jr.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const l=(0,or.randomBytesHex)(8),u=b=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,b),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload})),{promise:new Promise((b,v)=>{this.relayEventManager.callbacks.set(l,x=>{if(c==null||c(),x.errorMessage)return v(new Error(x.errorMessage));b(x)});const E=x=>{this.handleWeb3ResponseMessage((0,mn.Web3ResponseMessage)({id:l,response:(0,Wn.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},D=x=>{this.handleWeb3ResponseMessage((0,mn.Web3ResponseMessage)({id:l,response:(0,Wn.AddEthereumChainResponse)({isApproved:!0,rpcUrl:x})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:E,onApprove:D,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:u}}switchEthereumChain(e,r){const n={method:jr.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,or.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,h=>{if(h.errorMessage&&h.errorCode)return c(U_.ethErrors.provider.custom({code:h.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(h.errorMessage)return c(new Error(h.errorMessage));a(h)});const l=h=>{if(typeof h=="number"){const b=h;this.handleWeb3ResponseMessage((0,mn.Web3ResponseMessage)({id:i,response:(0,Wn.ErrorResponse)(jr.Web3Method.switchEthereumChain,Fm.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,b)}))}else h instanceof Fm.WalletUIError?this.handleErrorResponse(i,jr.Web3Method.switchEthereumChain,h,h.errorCode):this.handleWeb3ResponseMessage((0,mn.Web3ResponseMessage)({id:i,response:(0,Wn.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},u=h=>{this.handleWeb3ResponseMessage((0,mn.Web3ResponseMessage)({id:i,response:(0,Wn.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:h})}))};this.ui.switchEthereumChain({onCancel:l,onApprove:u,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return fo.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,mn.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case jr.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case jr.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case jr.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case jr.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Pi.accountRequestCallbackIds=new Set;cC([lC.default],Pi.prototype,"resetAndReload",null);cC([lC.default],Pi.prototype,"handleIncomingEvent",null);U1.WalletSDKRelay=Pi;var K1={};Object.defineProperty(K1,"__esModule",{value:!0});K1.WalletSDKRelayEventManager=void 0;const EQ=Ke;class SQ{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,EQ.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}K1.WalletSDKRelayEventManager=SQ;const AQ="@coinbase/wallet-sdk",CQ="3.6.3",IQ="Coinbase Wallet JavaScript SDK",MQ=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],TQ="dist/index.js",kQ="dist/index.d.ts",OQ="https://github.com/coinbase/coinbase-wallet-sdk.git",RQ="Coinbase, Inc.",PQ="Apache-2.0",NQ={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},DQ={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},BQ={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},LQ={node:">= 10.0.0"},$Q={name:AQ,version:CQ,description:IQ,keywords:MQ,main:TQ,types:kQ,repository:OQ,author:RQ,license:PQ,scripts:NQ,dependencies:DQ,devDependencies:BQ,engines:LQ};Object.defineProperty(zf,"__esModule",{value:!0});zf.CoinbaseWalletSDK=void 0;const FQ=Yp,UQ=Qp,jQ=al,HQ=A1,zQ=U1,WQ=K1,qQ=Ke,VQ={}.LINK_API_URL||"https://www.walletlink.org",uC={}.SDK_VERSION||$Q.version||"unknown";class J1{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||VQ;let o;if(e.uiConstructor?o=e.uiConstructor:o=l=>new HQ.WalletSDKUI(l),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new UQ.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",J1.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new WQ.WalletSDKRelayEventManager,this._relay=new zQ.WalletSDKRelay({linkAPIUrl:s,version:uC,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new jQ.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,qQ.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,FQ.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}zf.CoinbaseWalletSDK=J1;J1.VERSION=uC;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=zf,r=al;var n=zf;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=al;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Sv);const GQ=F8(Sv),KQ=_k({__proto__:null,default:GQ},[Sv]),JQ="PARSE_ERROR",ZQ="INVALID_REQUEST",YQ="METHOD_NOT_FOUND",QQ="INVALID_PARAMS",fC="INTERNAL_ERROR",bw="SERVER_ERROR",XQ=[-32700,-32600,-32601,-32602,-32603],Cf={[JQ]:{code:-32700,message:"Parse error"},[ZQ]:{code:-32600,message:"Invalid Request"},[YQ]:{code:-32601,message:"Method not found"},[QQ]:{code:-32602,message:"Invalid params"},[fC]:{code:-32603,message:"Internal error"},[bw]:{code:-32e3,message:"Server error"}},hC=bw;function eX(t){return XQ.includes(t)}function j_(t){return Object.keys(Cf).includes(t)?Cf[t]:Cf[hC]}function tX(t){const e=Object.values(Cf).find(r=>r.code===t);return e||Cf[hC]}function dC(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var rc={},Rs={},H_;function rX(){if(H_)return Rs;H_=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.isBrowserCryptoAvailable=Rs.getSubtleCrypto=Rs.getBrowerCrypto=void 0;function t(){return(ze==null?void 0:ze.crypto)||(ze==null?void 0:ze.msCrypto)||{}}Rs.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Rs.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Rs.isBrowserCryptoAvailable=r,Rs}var Ps={},z_;function nX(){if(z_)return Ps;z_=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.isBrowser=Ps.isNode=Ps.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Ps.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Ps.isNode=e;function r(){return!t()&&!e()}return Ps.isBrowser=r,Ps}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ye;e.__exportStar(rX(),t),e.__exportStar(nX(),t)})(rc);function pC(){const t=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}function Z1(t,e,r){return{id:r||pC(),jsonrpc:"2.0",method:t,params:e}}function yw(t,e){return{id:t,jsonrpc:"2.0",result:e}}function wl(t,e,r){return{id:t,jsonrpc:"2.0",error:iX(e,r)}}function iX(t,e){return typeof t>"u"?j_(fC):(typeof t=="string"&&(t=Object.assign(Object.assign({},j_(bw)),{message:t})),typeof e<"u"&&(t.data=e),eX(t.code)&&(t=tX(t.code)),t)}let gC=class{};class sX extends gC{constructor(e){super()}}class oX extends gC{constructor(){super()}}class aX extends oX{constructor(e){super()}}const cX="^https?:",lX="^wss?:";function uX(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function mC(t,e){const r=uX(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function W_(t){return mC(t,cX)}function q_(t){return mC(t,lX)}function fX(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function bC(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function vw(t){return bC(t)&&"method"in t}function ww(t){return bC(t)&&(Fs(t)||Ri(t))}function Fs(t){return"result"in t}function Ri(t){return"error"in t}class Ga extends aX{constructor(e){super(e),this.events=new Cr.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Z1(e.method,e.params||[]),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Ri(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),ww(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}}var sp={},hX={get exports(){return sp},set exports(t){sp=t}};(function(t,e){var r=typeof self<"u"?self:ze,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c(f){return f&&DataView.prototype.isPrototypeOf(f)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(f){return f&&l.indexOf(Object.prototype.toString.call(f))>-1};function h(f){if(typeof f!="string"&&(f=String(f)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(f))throw new TypeError("Invalid character in header field name");return f.toLowerCase()}function b(f){return typeof f!="string"&&(f=String(f)),f}function v(f){var p={next:function(){var T=f.shift();return{done:T===void 0,value:T}}};return a.iterable&&(p[Symbol.iterator]=function(){return p}),p}function E(f){this.map={},f instanceof E?f.forEach(function(p,T){this.append(T,p)},this):Array.isArray(f)?f.forEach(function(p){this.append(p[0],p[1])},this):f&&Object.getOwnPropertyNames(f).forEach(function(p){this.append(p,f[p])},this)}E.prototype.append=function(f,p){f=h(f),p=b(p);var T=this.map[f];this.map[f]=T?T+", "+p:p},E.prototype.delete=function(f){delete this.map[h(f)]},E.prototype.get=function(f){return f=h(f),this.has(f)?this.map[f]:null},E.prototype.has=function(f){return this.map.hasOwnProperty(h(f))},E.prototype.set=function(f,p){this.map[h(f)]=b(p)},E.prototype.forEach=function(f,p){for(var T in this.map)this.map.hasOwnProperty(T)&&f.call(p,this.map[T],T,this)},E.prototype.keys=function(){var f=[];return this.forEach(function(p,T){f.push(T)}),v(f)},E.prototype.values=function(){var f=[];return this.forEach(function(p){f.push(p)}),v(f)},E.prototype.entries=function(){var f=[];return this.forEach(function(p,T){f.push([T,p])}),v(f)},a.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function D(f){if(f.bodyUsed)return Promise.reject(new TypeError("Already read"));f.bodyUsed=!0}function x(f){return new Promise(function(p,T){f.onload=function(){p(f.result)},f.onerror=function(){T(f.error)}})}function _(f){var p=new FileReader,T=x(p);return p.readAsArrayBuffer(f),T}function m(f){var p=new FileReader,T=x(p);return p.readAsText(f),T}function w(f){for(var p=new Uint8Array(f),T=new Array(p.length),M=0;M<p.length;M++)T[M]=String.fromCharCode(p[M]);return T.join("")}function A(f){if(f.slice)return f.slice(0);var p=new Uint8Array(f.byteLength);return p.set(new Uint8Array(f)),p.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(f){this._bodyInit=f,f?typeof f=="string"?this._bodyText=f:a.blob&&Blob.prototype.isPrototypeOf(f)?this._bodyBlob=f:a.formData&&FormData.prototype.isPrototypeOf(f)?this._bodyFormData=f:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)?this._bodyText=f.toString():a.arrayBuffer&&a.blob&&c(f)?(this._bodyArrayBuffer=A(f.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(f)||u(f))?this._bodyArrayBuffer=A(f):this._bodyText=f=Object.prototype.toString.call(f):this._bodyText="",this.headers.get("content-type")||(typeof f=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var f=D(this);if(f)return f;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?D(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var f=D(this);if(f)return f;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(re)}),this.json=function(){return this.text().then(JSON.parse)},this}var z=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(f){var p=f.toUpperCase();return z.indexOf(p)>-1?p:f}function H(f,p){p=p||{};var T=p.body;if(f instanceof H){if(f.bodyUsed)throw new TypeError("Already read");this.url=f.url,this.credentials=f.credentials,p.headers||(this.headers=new E(f.headers)),this.method=f.method,this.mode=f.mode,this.signal=f.signal,!T&&f._bodyInit!=null&&(T=f._bodyInit,f.bodyUsed=!0)}else this.url=String(f);if(this.credentials=p.credentials||this.credentials||"same-origin",(p.headers||!this.headers)&&(this.headers=new E(p.headers)),this.method=S(p.method||this.method||"GET"),this.mode=p.mode||this.mode||null,this.signal=p.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(T)}H.prototype.clone=function(){return new H(this,{body:this._bodyInit})};function re(f){var p=new FormData;return f.trim().split("&").forEach(function(T){if(T){var M=T.split("="),C=M.shift().replace(/\+/g," "),d=M.join("=").replace(/\+/g," ");p.append(decodeURIComponent(C),decodeURIComponent(d))}}),p}function W(f){var p=new E,T=f.replace(/\r?\n[\t ]+/g," ");return T.split(/\r?\n/).forEach(function(M){var C=M.split(":"),d=C.shift().trim();if(d){var B=C.join(":").trim();p.append(d,B)}}),p}k.call(H.prototype);function y(f,p){p||(p={}),this.type="default",this.status=p.status===void 0?200:p.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in p?p.statusText:"OK",this.headers=new E(p.headers),this.url=p.url||"",this._initBody(f)}k.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},y.error=function(){var f=new y(null,{status:0,statusText:""});return f.type="error",f};var R=[301,302,303,307,308];y.redirect=function(f,p){if(R.indexOf(p)===-1)throw new RangeError("Invalid status code");return new y(null,{status:p,headers:{location:f}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(p,T){this.message=p,this.name=T;var M=Error(p);this.stack=M.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function I(f,p){return new Promise(function(T,M){var C=new H(f,p);if(C.signal&&C.signal.aborted)return M(new o.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function B(){d.abort()}d.onload=function(){var O={status:d.status,statusText:d.statusText,headers:W(d.getAllResponseHeaders()||"")};O.url="responseURL"in d?d.responseURL:O.headers.get("X-Request-URL");var g="response"in d?d.response:d.responseText;T(new y(g,O))},d.onerror=function(){M(new TypeError("Network request failed"))},d.ontimeout=function(){M(new TypeError("Network request failed"))},d.onabort=function(){M(new o.DOMException("Aborted","AbortError"))},d.open(C.method,C.url,!0),C.credentials==="include"?d.withCredentials=!0:C.credentials==="omit"&&(d.withCredentials=!1),"responseType"in d&&a.blob&&(d.responseType="blob"),C.headers.forEach(function(O,g){d.setRequestHeader(g,O)}),C.signal&&(C.signal.addEventListener("abort",B),d.onreadystatechange=function(){d.readyState===4&&C.signal.removeEventListener("abort",B)}),d.send(typeof C._bodyInit>"u"?null:C._bodyInit)})}return I.polyfill=!0,s.fetch||(s.fetch=I,s.Headers=E,s.Request=H,s.Response=y),o.Headers=E,o.Request=H,o.Response=y,o.fetch=I,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(hX,sp);const V_=F8(sp);function xw(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function Xf(t){return typeof t=="string"?t:JSON.stringify(t)}const dX={Accept:"application/json","Content-Type":"application/json"},pX="POST",G_={headers:dX,method:pX},K_=10;class jh{constructor(e){if(this.url=e,this.events=new Cr.EventEmitter,this.isAvailable=!1,this.registering=!1,!W_(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,r){this.isAvailable||await this.register();try{const n=Xf(e),s=await(await V_(this.url,Object.assign(Object.assign({},G_),{body:n}))).json();this.onPayload({data:s})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!W_(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{const r=Xf({id:1,jsonrpc:"2.0",method:"test",params:[]});await V_(e,Object.assign(Object.assign({},G_),{body:r})),this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?xw(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=wl(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return dC(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>K_&&this.events.setMaxListeners(K_)}}var _w={},zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.getLocalStorage=zt.getLocalStorageOrThrow=zt.getCrypto=zt.getCryptoOrThrow=vC=zt.getLocation=zt.getLocationOrThrow=Ew=zt.getNavigator=zt.getNavigatorOrThrow=yC=zt.getDocument=zt.getDocumentOrThrow=zt.getFromWindowOrThrow=zt.getFromWindow=void 0;function nc(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}zt.getFromWindow=nc;function iu(t){const e=nc(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}zt.getFromWindowOrThrow=iu;function gX(){return iu("document")}zt.getDocumentOrThrow=gX;function mX(){return nc("document")}var yC=zt.getDocument=mX;function bX(){return iu("navigator")}zt.getNavigatorOrThrow=bX;function yX(){return nc("navigator")}var Ew=zt.getNavigator=yX;function vX(){return iu("location")}zt.getLocationOrThrow=vX;function wX(){return nc("location")}var vC=zt.getLocation=wX;function xX(){return iu("crypto")}zt.getCryptoOrThrow=xX;function _X(){return nc("crypto")}zt.getCrypto=_X;function EX(){return iu("localStorage")}zt.getLocalStorageOrThrow=EX;function SX(){return nc("localStorage")}zt.getLocalStorage=SX;Object.defineProperty(_w,"__esModule",{value:!0});var wC=_w.getWindowMetadata=void 0;const J_=zt;function AX(){let t,e;try{t=J_.getDocumentOrThrow(),e=J_.getLocationOrThrow()}catch{return null}function r(){const h=t.getElementsByTagName("link"),b=[];for(let v=0;v<h.length;v++){const E=h[v],D=E.getAttribute("rel");if(D&&D.toLowerCase().indexOf("icon")>-1){const x=E.getAttribute("href");if(x)if(x.toLowerCase().indexOf("https:")===-1&&x.toLowerCase().indexOf("http:")===-1&&x.indexOf("//")!==0){let _=e.protocol+"//"+e.host;if(x.indexOf("/")===0)_+=x;else{const m=e.pathname.split("/");m.pop();const w=m.join("/");_+=w+"/"+x}b.push(_)}else if(x.indexOf("//")===0){const _=e.protocol+x;b.push(_)}else b.push(x)}}return b}function n(...h){const b=t.getElementsByTagName("meta");for(let v=0;v<b.length;v++){const E=b[v],D=["itemprop","property","name"].map(x=>E.getAttribute(x)).filter(x=>x?h.includes(x):!1);if(D.length&&D){const x=E.getAttribute("content");if(x)return x}}return""}function i(){let h=n("name","og:site_name","og:title","twitter:title");return h||(h=t.title),h}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=r();return{description:a,url:c,icons:l,name:o}}wC=_w.getWindowMetadata=AX;var rr={};Object.defineProperty(rr,"__esModule",{value:!0});var xC=rr.getLocalStorage=RC=rr.getLocalStorageOrThrow=OC=rr.getCrypto=kC=rr.getCryptoOrThrow=TC=rr.getLocation=MC=rr.getLocationOrThrow=IC=rr.getNavigator=CC=rr.getNavigatorOrThrow=AC=rr.getDocument=SC=rr.getDocumentOrThrow=EC=rr.getFromWindowOrThrow=_C=rr.getFromWindow=void 0;function ic(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}var _C=rr.getFromWindow=ic;function su(t){const e=ic(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}var EC=rr.getFromWindowOrThrow=su;function CX(){return su("document")}var SC=rr.getDocumentOrThrow=CX;function IX(){return ic("document")}var AC=rr.getDocument=IX;function MX(){return su("navigator")}var CC=rr.getNavigatorOrThrow=MX;function TX(){return ic("navigator")}var IC=rr.getNavigator=TX;function kX(){return su("location")}var MC=rr.getLocationOrThrow=kX;function OX(){return ic("location")}var TC=rr.getLocation=OX;function RX(){return su("crypto")}var kC=rr.getCryptoOrThrow=RX;function PX(){return ic("crypto")}var OC=rr.getCrypto=PX;function NX(){return su("localStorage")}var RC=rr.getLocalStorageOrThrow=NX;function DX(){return ic("localStorage")}xC=rr.getLocalStorage=DX;var BX=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n},LX=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),$X=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),FX=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),UX=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),jX=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),HX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,zX=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Z_=3,WX=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",HX]],Y_=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function qX(t){return t?Q_(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new jX:typeof navigator<"u"?Q_(navigator.userAgent):KX()}function VX(t){return t!==""&&WX.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function Q_(t){var e=VX(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new UX;var i=n[1]&&n[1].split(/[._]/).slice(0,3);i?i.length<Z_&&(i=BX(i,JX(Z_-i.length))):i=[];var s=i.join("."),o=GX(t),a=zX.exec(t);return a&&a[1]?new FX(r,s,o,a[1]):new LX(r,s,o)}function GX(t){for(var e=0,r=Y_.length;e<r;e++){var n=Y_[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function KX(){var t=typeof process<"u"&&process.version;return t?new $X(process.version.slice(1)):null}function JX(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}function Y1(t){return qX(t)}function Q1(){const t=Y1();return t&&t.os?t.os:void 0}function PC(){const t=Q1();return t?t.toLowerCase().includes("android"):!1}function NC(){const t=Q1();return t?t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function DC(){return Q1()?PC()||NC():!1}function BC(){const t=Y1();return t&&t.name?t.name.toLowerCase()==="node":!1}function LC(){return!BC()&&!!$C()}const ZX=_C,YX=EC,QX=SC,XX=AC,eee=CC,$C=IC,tee=MC,FC=TC,ree=kC,nee=OC,iee=RC,X1=xC;function n2(){return wC()}function see(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function oee(t){return typeof t=="string"?t:JSON.stringify(t)}const UC=see,jC=oee;function Sw(t,e){const r=jC(e),n=X1();n&&n.setItem(t,r)}function Aw(t){let e=null,r=null;const n=X1();return n&&(r=n.getItem(t)),e=r&&UC(r),e}function Cw(t){const e=X1();e&&e.removeItem(t)}const op="WALLETCONNECT_DEEPLINK_CHOICE";function aee(t,e){const r=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${r}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}function cee(t){const e=t.href.split("?")[0];Sw(op,Object.assign(Object.assign({},t),{href:e}))}function HC(t,e){return t.filter(r=>r.name.toLowerCase().includes(e.toLowerCase()))[0]}function lee(t,e){let r=t;return e&&(r=e.map(n=>HC(t,n)).filter(Boolean)),r}const zC="https://registry.walletconnect.com";function uee(){return zC+"/api/v2/wallets"}function fee(){return zC+"/api/v2/dapps"}function WC(t,e="mobile"){var r;return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:(r=t.image_url.sm)!==null&&r!==void 0?r:"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}function hee(t,e="mobile"){return Object.values(t).filter(r=>!!r[e].universal||!!r[e].native).map(r=>WC(r,e))}const dee=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:Y1,detectOS:Q1,formatIOSMobile:aee,formatMobileRegistry:hee,formatMobileRegistryEntry:WC,getClientMeta:n2,getCrypto:nee,getCryptoOrThrow:ree,getDappRegistryUrl:fee,getDocument:XX,getDocumentOrThrow:QX,getFromWindow:ZX,getFromWindowOrThrow:YX,getLocal:Aw,getLocalStorage:X1,getLocalStorageOrThrow:iee,getLocation:FC,getLocationOrThrow:tee,getMobileLinkRegistry:lee,getMobileRegistryEntry:HC,getNavigator:$C,getNavigatorOrThrow:eee,getWalletRegistryUrl:uee,isAndroid:PC,isBrowser:LC,isIOS:NC,isMobile:DC,isNode:BC,mobileLinkChoiceKey:op,removeLocal:Cw,safeJsonParse:UC,safeJsonStringify:jC,saveMobileLinkInfo:cee,setLocal:Sw},Symbol.toStringTag,{value:"Module"})),pee=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],Iw=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],gee={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var i2={},mee={get exports(){return i2},set exports(t){i2=t}};(function(t){(function(e,r){function n(W,y){if(!W)throw new Error(y||"Assertion failed")}function i(W,y){W.super_=y;var R=function(){};R.prototype=y.prototype,W.prototype=new R,W.prototype.constructor=W}function s(W,y,R){if(s.isBN(W))return W;this.negative=0,this.words=null,this.length=0,this.red=null,W!==null&&((y==="le"||y==="be")&&(R=y,y=10),this._init(W||0,y||10,R||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{o=Ll.Buffer}catch{}s.isBN=function(y){return y instanceof s?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===s.wordSize&&Array.isArray(y.words)},s.max=function(y,R){return y.cmp(R)>0?y:R},s.min=function(y,R){return y.cmp(R)<0?y:R},s.prototype._init=function(y,R,I){if(typeof y=="number")return this._initNumber(y,R,I);if(typeof y=="object")return this._initArray(y,R,I);R==="hex"&&(R=16),n(R===(R|0)&&R>=2&&R<=36),y=y.toString().replace(/\s+/g,"");var f=0;y[0]==="-"&&f++,R===16?this._parseHex(y,f):this._parseBase(y,R,f),y[0]==="-"&&(this.negative=1),this.strip(),I==="le"&&this._initArray(this.toArray(),R,I)},s.prototype._initNumber=function(y,R,I){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(n(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),I==="le"&&this._initArray(this.toArray(),R,I)},s.prototype._initArray=function(y,R,I){if(n(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var p,T,M=0;if(I==="be")for(f=y.length-1,p=0;f>=0;f-=3)T=y[f]|y[f-1]<<8|y[f-2]<<16,this.words[p]|=T<<M&67108863,this.words[p+1]=T>>>26-M&67108863,M+=24,M>=26&&(M-=26,p++);else if(I==="le")for(f=0,p=0;f<y.length;f+=3)T=y[f]|y[f+1]<<8|y[f+2]<<16,this.words[p]|=T<<M&67108863,this.words[p+1]=T>>>26-M&67108863,M+=24,M>=26&&(M-=26,p++);return this.strip()};function a(W,y,R){for(var I=0,f=Math.min(W.length,R),p=y;p<f;p++){var T=W.charCodeAt(p)-48;I<<=4,T>=49&&T<=54?I|=T-49+10:T>=17&&T<=22?I|=T-17+10:I|=T&15}return I}s.prototype._parseHex=function(y,R){this.length=Math.ceil((y.length-R)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var f,p,T=0;for(I=y.length-6,f=0;I>=R;I-=6)p=a(y,I,I+6),this.words[f]|=p<<T&67108863,this.words[f+1]|=p>>>26-T&4194303,T+=24,T>=26&&(T-=26,f++);I+6!==R&&(p=a(y,R,I+6),this.words[f]|=p<<T&67108863,this.words[f+1]|=p>>>26-T&4194303),this.strip()};function c(W,y,R,I){for(var f=0,p=Math.min(W.length,R),T=y;T<p;T++){var M=W.charCodeAt(T)-48;f*=I,M>=49?f+=M-49+10:M>=17?f+=M-17+10:f+=M}return f}s.prototype._parseBase=function(y,R,I){this.words=[0],this.length=1;for(var f=0,p=1;p<=67108863;p*=R)f++;f--,p=p/R|0;for(var T=y.length-I,M=T%f,C=Math.min(T,T-M)+I,d=0,B=I;B<C;B+=f)d=c(y,B,B+f,R),this.imuln(p),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(M!==0){var O=1;for(d=c(y,B,y.length,R),B=0;B<M;B++)O*=R;this.imuln(O),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}},s.prototype.copy=function(y){y.words=new Array(this.length);for(var R=0;R<this.length;R++)y.words[R]=this.words[R];y.length=this.length,y.negative=this.negative,y.red=this.red},s.prototype.clone=function(){var y=new s(null);return this.copy(y),y},s.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(y,R){y=y||10,R=R|0||1;var I;if(y===16||y==="hex"){I="";for(var f=0,p=0,T=0;T<this.length;T++){var M=this.words[T],C=((M<<f|p)&16777215).toString(16);p=M>>>24-f&16777215,p!==0||T!==this.length-1?I=l[6-C.length]+C+I:I=C+I,f+=2,f>=26&&(f-=26,T--)}for(p!==0&&(I=p.toString(16)+I);I.length%R!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}if(y===(y|0)&&y>=2&&y<=36){var d=u[y],B=h[y];I="";var O=this.clone();for(O.negative=0;!O.isZero();){var g=O.modn(B).toString(y);O=O.idivn(B),O.isZero()?I=g+I:I=l[d-g.length]+g+I}for(this.isZero()&&(I="0"+I);I.length%R!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(y,R){return n(typeof o<"u"),this.toArrayLike(o,y,R)},s.prototype.toArray=function(y,R){return this.toArrayLike(Array,y,R)},s.prototype.toArrayLike=function(y,R,I){var f=this.byteLength(),p=I||Math.max(1,f);n(f<=p,"byte array longer than desired length"),n(p>0,"Requested array length <= 0"),this.strip();var T=R==="le",M=new y(p),C,d,B=this.clone();if(T){for(d=0;!B.isZero();d++)C=B.andln(255),B.iushrn(8),M[d]=C;for(;d<p;d++)M[d]=0}else{for(d=0;d<p-f;d++)M[d]=0;for(d=0;!B.isZero();d++)C=B.andln(255),B.iushrn(8),M[p-d-1]=C}return M},Math.clz32?s.prototype._countBits=function(y){return 32-Math.clz32(y)}:s.prototype._countBits=function(y){var R=y,I=0;return R>=4096&&(I+=13,R>>>=13),R>=64&&(I+=7,R>>>=7),R>=8&&(I+=4,R>>>=4),R>=2&&(I+=2,R>>>=2),I+R},s.prototype._zeroBits=function(y){if(y===0)return 26;var R=y,I=0;return R&8191||(I+=13,R>>>=13),R&127||(I+=7,R>>>=7),R&15||(I+=4,R>>>=4),R&3||(I+=2,R>>>=2),R&1||I++,I},s.prototype.bitLength=function(){var y=this.words[this.length-1],R=this._countBits(y);return(this.length-1)*26+R};function b(W){for(var y=new Array(W.bitLength()),R=0;R<y.length;R++){var I=R/26|0,f=R%26;y[R]=(W.words[I]&1<<f)>>>f}return y}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,R=0;R<this.length;R++){var I=this._zeroBits(this.words[R]);if(y+=I,I!==26)break}return y},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},s.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var R=0;R<y.length;R++)this.words[R]=this.words[R]|y.words[R];return this.strip()},s.prototype.ior=function(y){return n((this.negative|y.negative)===0),this.iuor(y)},s.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},s.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},s.prototype.iuand=function(y){var R;this.length>y.length?R=y:R=this;for(var I=0;I<R.length;I++)this.words[I]=this.words[I]&y.words[I];return this.length=R.length,this.strip()},s.prototype.iand=function(y){return n((this.negative|y.negative)===0),this.iuand(y)},s.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},s.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},s.prototype.iuxor=function(y){var R,I;this.length>y.length?(R=this,I=y):(R=y,I=this);for(var f=0;f<I.length;f++)this.words[f]=R.words[f]^I.words[f];if(this!==R)for(;f<R.length;f++)this.words[f]=R.words[f];return this.length=R.length,this.strip()},s.prototype.ixor=function(y){return n((this.negative|y.negative)===0),this.iuxor(y)},s.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},s.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},s.prototype.inotn=function(y){n(typeof y=="number"&&y>=0);var R=Math.ceil(y/26)|0,I=y%26;this._expand(R),I>0&&R--;for(var f=0;f<R;f++)this.words[f]=~this.words[f]&67108863;return I>0&&(this.words[f]=~this.words[f]&67108863>>26-I),this.strip()},s.prototype.notn=function(y){return this.clone().inotn(y)},s.prototype.setn=function(y,R){n(typeof y=="number"&&y>=0);var I=y/26|0,f=y%26;return this._expand(I+1),R?this.words[I]=this.words[I]|1<<f:this.words[I]=this.words[I]&~(1<<f),this.strip()},s.prototype.iadd=function(y){var R;if(this.negative!==0&&y.negative===0)return this.negative=0,R=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,R=this.isub(y),y.negative=1,R._normSign();var I,f;this.length>y.length?(I=this,f=y):(I=y,f=this);for(var p=0,T=0;T<f.length;T++)R=(I.words[T]|0)+(f.words[T]|0)+p,this.words[T]=R&67108863,p=R>>>26;for(;p!==0&&T<I.length;T++)R=(I.words[T]|0)+p,this.words[T]=R&67108863,p=R>>>26;if(this.length=I.length,p!==0)this.words[this.length]=p,this.length++;else if(I!==this)for(;T<I.length;T++)this.words[T]=I.words[T];return this},s.prototype.add=function(y){var R;return y.negative!==0&&this.negative===0?(y.negative=0,R=this.sub(y),y.negative^=1,R):y.negative===0&&this.negative!==0?(this.negative=0,R=y.sub(this),this.negative=1,R):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},s.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var R=this.iadd(y);return y.negative=1,R._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var I=this.cmp(y);if(I===0)return this.negative=0,this.length=1,this.words[0]=0,this;var f,p;I>0?(f=this,p=y):(f=y,p=this);for(var T=0,M=0;M<p.length;M++)R=(f.words[M]|0)-(p.words[M]|0)+T,T=R>>26,this.words[M]=R&67108863;for(;T!==0&&M<f.length;M++)R=(f.words[M]|0)+T,T=R>>26,this.words[M]=R&67108863;if(T===0&&M<f.length&&f!==this)for(;M<f.length;M++)this.words[M]=f.words[M];return this.length=Math.max(this.length,M),f!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(y){return this.clone().isub(y)};function v(W,y,R){R.negative=y.negative^W.negative;var I=W.length+y.length|0;R.length=I,I=I-1|0;var f=W.words[0]|0,p=y.words[0]|0,T=f*p,M=T&67108863,C=T/67108864|0;R.words[0]=M;for(var d=1;d<I;d++){for(var B=C>>>26,O=C&67108863,g=Math.min(d,y.length-1),L=Math.max(0,d-W.length+1);L<=g;L++){var Q=d-L|0;f=W.words[Q]|0,p=y.words[L]|0,T=f*p+O,B+=T/67108864|0,O=T&67108863}R.words[d]=O|0,C=B|0}return C!==0?R.words[d]=C|0:R.length--,R.strip()}var E=function(y,R,I){var f=y.words,p=R.words,T=I.words,M=0,C,d,B,O=f[0]|0,g=O&8191,L=O>>>13,Q=f[1]|0,P=Q&8191,G=Q>>>13,V=f[2]|0,K=V&8191,Y=V>>>13,N=f[3]|0,U=N&8191,Z=N>>>13,ae=f[4]|0,ce=ae&8191,pe=ae>>>13,ee=f[5]|0,j=ee&8191,q=ee>>>13,X=f[6]|0,ie=X&8191,fe=X>>>13,de=f[7]|0,ge=de&8191,be=de>>>13,Ae=f[8]|0,we=Ae&8191,J=Ae>>>13,$=f[9]|0,F=$&8191,te=$>>>13,se=p[0]|0,oe=se&8191,le=se>>>13,ke=p[1]|0,_e=ke&8191,Ce=ke>>>13,rt=p[2]|0,Ie=rt&8191,qe=rt>>>13,dr=p[3]|0,Je=dr&8191,Ze=dr>>>13,Tt=p[4]|0,Re=Tt&8191,De=Tt>>>13,kt=p[5]|0,Be=kt&8191,Pe=kt>>>13,Dt=p[6]|0,Fe=Dt&8191,Ue=Dt>>>13,Bt=p[7]|0,je=Bt&8191,$e=Bt>>>13,Ot=p[8]|0,Oe=Ot&8191,He=Ot>>>13,Lt=p[9]|0,Xe=Lt&8191,et=Lt>>>13;I.negative=y.negative^R.negative,I.length=19,C=Math.imul(g,oe),d=Math.imul(g,le),d=d+Math.imul(L,oe)|0,B=Math.imul(L,le);var Kr=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,C=Math.imul(P,oe),d=Math.imul(P,le),d=d+Math.imul(G,oe)|0,B=Math.imul(G,le),C=C+Math.imul(g,_e)|0,d=d+Math.imul(g,Ce)|0,d=d+Math.imul(L,_e)|0,B=B+Math.imul(L,Ce)|0;var ft=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(ft>>>26)|0,ft&=67108863,C=Math.imul(K,oe),d=Math.imul(K,le),d=d+Math.imul(Y,oe)|0,B=Math.imul(Y,le),C=C+Math.imul(P,_e)|0,d=d+Math.imul(P,Ce)|0,d=d+Math.imul(G,_e)|0,B=B+Math.imul(G,Ce)|0,C=C+Math.imul(g,Ie)|0,d=d+Math.imul(g,qe)|0,d=d+Math.imul(L,Ie)|0,B=B+Math.imul(L,qe)|0;var Rt=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,C=Math.imul(U,oe),d=Math.imul(U,le),d=d+Math.imul(Z,oe)|0,B=Math.imul(Z,le),C=C+Math.imul(K,_e)|0,d=d+Math.imul(K,Ce)|0,d=d+Math.imul(Y,_e)|0,B=B+Math.imul(Y,Ce)|0,C=C+Math.imul(P,Ie)|0,d=d+Math.imul(P,qe)|0,d=d+Math.imul(G,Ie)|0,B=B+Math.imul(G,qe)|0,C=C+Math.imul(g,Je)|0,d=d+Math.imul(g,Ze)|0,d=d+Math.imul(L,Je)|0,B=B+Math.imul(L,Ze)|0;var Dr=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,C=Math.imul(ce,oe),d=Math.imul(ce,le),d=d+Math.imul(pe,oe)|0,B=Math.imul(pe,le),C=C+Math.imul(U,_e)|0,d=d+Math.imul(U,Ce)|0,d=d+Math.imul(Z,_e)|0,B=B+Math.imul(Z,Ce)|0,C=C+Math.imul(K,Ie)|0,d=d+Math.imul(K,qe)|0,d=d+Math.imul(Y,Ie)|0,B=B+Math.imul(Y,qe)|0,C=C+Math.imul(P,Je)|0,d=d+Math.imul(P,Ze)|0,d=d+Math.imul(G,Je)|0,B=B+Math.imul(G,Ze)|0,C=C+Math.imul(g,Re)|0,d=d+Math.imul(g,De)|0,d=d+Math.imul(L,Re)|0,B=B+Math.imul(L,De)|0;var Br=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,C=Math.imul(j,oe),d=Math.imul(j,le),d=d+Math.imul(q,oe)|0,B=Math.imul(q,le),C=C+Math.imul(ce,_e)|0,d=d+Math.imul(ce,Ce)|0,d=d+Math.imul(pe,_e)|0,B=B+Math.imul(pe,Ce)|0,C=C+Math.imul(U,Ie)|0,d=d+Math.imul(U,qe)|0,d=d+Math.imul(Z,Ie)|0,B=B+Math.imul(Z,qe)|0,C=C+Math.imul(K,Je)|0,d=d+Math.imul(K,Ze)|0,d=d+Math.imul(Y,Je)|0,B=B+Math.imul(Y,Ze)|0,C=C+Math.imul(P,Re)|0,d=d+Math.imul(P,De)|0,d=d+Math.imul(G,Re)|0,B=B+Math.imul(G,De)|0,C=C+Math.imul(g,Be)|0,d=d+Math.imul(g,Pe)|0,d=d+Math.imul(L,Be)|0,B=B+Math.imul(L,Pe)|0;var Lr=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,C=Math.imul(ie,oe),d=Math.imul(ie,le),d=d+Math.imul(fe,oe)|0,B=Math.imul(fe,le),C=C+Math.imul(j,_e)|0,d=d+Math.imul(j,Ce)|0,d=d+Math.imul(q,_e)|0,B=B+Math.imul(q,Ce)|0,C=C+Math.imul(ce,Ie)|0,d=d+Math.imul(ce,qe)|0,d=d+Math.imul(pe,Ie)|0,B=B+Math.imul(pe,qe)|0,C=C+Math.imul(U,Je)|0,d=d+Math.imul(U,Ze)|0,d=d+Math.imul(Z,Je)|0,B=B+Math.imul(Z,Ze)|0,C=C+Math.imul(K,Re)|0,d=d+Math.imul(K,De)|0,d=d+Math.imul(Y,Re)|0,B=B+Math.imul(Y,De)|0,C=C+Math.imul(P,Be)|0,d=d+Math.imul(P,Pe)|0,d=d+Math.imul(G,Be)|0,B=B+Math.imul(G,Pe)|0,C=C+Math.imul(g,Fe)|0,d=d+Math.imul(g,Ue)|0,d=d+Math.imul(L,Fe)|0,B=B+Math.imul(L,Ue)|0;var $r=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+($r>>>26)|0,$r&=67108863,C=Math.imul(ge,oe),d=Math.imul(ge,le),d=d+Math.imul(be,oe)|0,B=Math.imul(be,le),C=C+Math.imul(ie,_e)|0,d=d+Math.imul(ie,Ce)|0,d=d+Math.imul(fe,_e)|0,B=B+Math.imul(fe,Ce)|0,C=C+Math.imul(j,Ie)|0,d=d+Math.imul(j,qe)|0,d=d+Math.imul(q,Ie)|0,B=B+Math.imul(q,qe)|0,C=C+Math.imul(ce,Je)|0,d=d+Math.imul(ce,Ze)|0,d=d+Math.imul(pe,Je)|0,B=B+Math.imul(pe,Ze)|0,C=C+Math.imul(U,Re)|0,d=d+Math.imul(U,De)|0,d=d+Math.imul(Z,Re)|0,B=B+Math.imul(Z,De)|0,C=C+Math.imul(K,Be)|0,d=d+Math.imul(K,Pe)|0,d=d+Math.imul(Y,Be)|0,B=B+Math.imul(Y,Pe)|0,C=C+Math.imul(P,Fe)|0,d=d+Math.imul(P,Ue)|0,d=d+Math.imul(G,Fe)|0,B=B+Math.imul(G,Ue)|0,C=C+Math.imul(g,je)|0,d=d+Math.imul(g,$e)|0,d=d+Math.imul(L,je)|0,B=B+Math.imul(L,$e)|0;var sr=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(sr>>>26)|0,sr&=67108863,C=Math.imul(we,oe),d=Math.imul(we,le),d=d+Math.imul(J,oe)|0,B=Math.imul(J,le),C=C+Math.imul(ge,_e)|0,d=d+Math.imul(ge,Ce)|0,d=d+Math.imul(be,_e)|0,B=B+Math.imul(be,Ce)|0,C=C+Math.imul(ie,Ie)|0,d=d+Math.imul(ie,qe)|0,d=d+Math.imul(fe,Ie)|0,B=B+Math.imul(fe,qe)|0,C=C+Math.imul(j,Je)|0,d=d+Math.imul(j,Ze)|0,d=d+Math.imul(q,Je)|0,B=B+Math.imul(q,Ze)|0,C=C+Math.imul(ce,Re)|0,d=d+Math.imul(ce,De)|0,d=d+Math.imul(pe,Re)|0,B=B+Math.imul(pe,De)|0,C=C+Math.imul(U,Be)|0,d=d+Math.imul(U,Pe)|0,d=d+Math.imul(Z,Be)|0,B=B+Math.imul(Z,Pe)|0,C=C+Math.imul(K,Fe)|0,d=d+Math.imul(K,Ue)|0,d=d+Math.imul(Y,Fe)|0,B=B+Math.imul(Y,Ue)|0,C=C+Math.imul(P,je)|0,d=d+Math.imul(P,$e)|0,d=d+Math.imul(G,je)|0,B=B+Math.imul(G,$e)|0,C=C+Math.imul(g,Oe)|0,d=d+Math.imul(g,He)|0,d=d+Math.imul(L,Oe)|0,B=B+Math.imul(L,He)|0;var Dn=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,C=Math.imul(F,oe),d=Math.imul(F,le),d=d+Math.imul(te,oe)|0,B=Math.imul(te,le),C=C+Math.imul(we,_e)|0,d=d+Math.imul(we,Ce)|0,d=d+Math.imul(J,_e)|0,B=B+Math.imul(J,Ce)|0,C=C+Math.imul(ge,Ie)|0,d=d+Math.imul(ge,qe)|0,d=d+Math.imul(be,Ie)|0,B=B+Math.imul(be,qe)|0,C=C+Math.imul(ie,Je)|0,d=d+Math.imul(ie,Ze)|0,d=d+Math.imul(fe,Je)|0,B=B+Math.imul(fe,Ze)|0,C=C+Math.imul(j,Re)|0,d=d+Math.imul(j,De)|0,d=d+Math.imul(q,Re)|0,B=B+Math.imul(q,De)|0,C=C+Math.imul(ce,Be)|0,d=d+Math.imul(ce,Pe)|0,d=d+Math.imul(pe,Be)|0,B=B+Math.imul(pe,Pe)|0,C=C+Math.imul(U,Fe)|0,d=d+Math.imul(U,Ue)|0,d=d+Math.imul(Z,Fe)|0,B=B+Math.imul(Z,Ue)|0,C=C+Math.imul(K,je)|0,d=d+Math.imul(K,$e)|0,d=d+Math.imul(Y,je)|0,B=B+Math.imul(Y,$e)|0,C=C+Math.imul(P,Oe)|0,d=d+Math.imul(P,He)|0,d=d+Math.imul(G,Oe)|0,B=B+Math.imul(G,He)|0,C=C+Math.imul(g,Xe)|0,d=d+Math.imul(g,et)|0,d=d+Math.imul(L,Xe)|0,B=B+Math.imul(L,et)|0;var Bn=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,C=Math.imul(F,_e),d=Math.imul(F,Ce),d=d+Math.imul(te,_e)|0,B=Math.imul(te,Ce),C=C+Math.imul(we,Ie)|0,d=d+Math.imul(we,qe)|0,d=d+Math.imul(J,Ie)|0,B=B+Math.imul(J,qe)|0,C=C+Math.imul(ge,Je)|0,d=d+Math.imul(ge,Ze)|0,d=d+Math.imul(be,Je)|0,B=B+Math.imul(be,Ze)|0,C=C+Math.imul(ie,Re)|0,d=d+Math.imul(ie,De)|0,d=d+Math.imul(fe,Re)|0,B=B+Math.imul(fe,De)|0,C=C+Math.imul(j,Be)|0,d=d+Math.imul(j,Pe)|0,d=d+Math.imul(q,Be)|0,B=B+Math.imul(q,Pe)|0,C=C+Math.imul(ce,Fe)|0,d=d+Math.imul(ce,Ue)|0,d=d+Math.imul(pe,Fe)|0,B=B+Math.imul(pe,Ue)|0,C=C+Math.imul(U,je)|0,d=d+Math.imul(U,$e)|0,d=d+Math.imul(Z,je)|0,B=B+Math.imul(Z,$e)|0,C=C+Math.imul(K,Oe)|0,d=d+Math.imul(K,He)|0,d=d+Math.imul(Y,Oe)|0,B=B+Math.imul(Y,He)|0,C=C+Math.imul(P,Xe)|0,d=d+Math.imul(P,et)|0,d=d+Math.imul(G,Xe)|0,B=B+Math.imul(G,et)|0;var Ln=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,C=Math.imul(F,Ie),d=Math.imul(F,qe),d=d+Math.imul(te,Ie)|0,B=Math.imul(te,qe),C=C+Math.imul(we,Je)|0,d=d+Math.imul(we,Ze)|0,d=d+Math.imul(J,Je)|0,B=B+Math.imul(J,Ze)|0,C=C+Math.imul(ge,Re)|0,d=d+Math.imul(ge,De)|0,d=d+Math.imul(be,Re)|0,B=B+Math.imul(be,De)|0,C=C+Math.imul(ie,Be)|0,d=d+Math.imul(ie,Pe)|0,d=d+Math.imul(fe,Be)|0,B=B+Math.imul(fe,Pe)|0,C=C+Math.imul(j,Fe)|0,d=d+Math.imul(j,Ue)|0,d=d+Math.imul(q,Fe)|0,B=B+Math.imul(q,Ue)|0,C=C+Math.imul(ce,je)|0,d=d+Math.imul(ce,$e)|0,d=d+Math.imul(pe,je)|0,B=B+Math.imul(pe,$e)|0,C=C+Math.imul(U,Oe)|0,d=d+Math.imul(U,He)|0,d=d+Math.imul(Z,Oe)|0,B=B+Math.imul(Z,He)|0,C=C+Math.imul(K,Xe)|0,d=d+Math.imul(K,et)|0,d=d+Math.imul(Y,Xe)|0,B=B+Math.imul(Y,et)|0;var $n=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+($n>>>26)|0,$n&=67108863,C=Math.imul(F,Je),d=Math.imul(F,Ze),d=d+Math.imul(te,Je)|0,B=Math.imul(te,Ze),C=C+Math.imul(we,Re)|0,d=d+Math.imul(we,De)|0,d=d+Math.imul(J,Re)|0,B=B+Math.imul(J,De)|0,C=C+Math.imul(ge,Be)|0,d=d+Math.imul(ge,Pe)|0,d=d+Math.imul(be,Be)|0,B=B+Math.imul(be,Pe)|0,C=C+Math.imul(ie,Fe)|0,d=d+Math.imul(ie,Ue)|0,d=d+Math.imul(fe,Fe)|0,B=B+Math.imul(fe,Ue)|0,C=C+Math.imul(j,je)|0,d=d+Math.imul(j,$e)|0,d=d+Math.imul(q,je)|0,B=B+Math.imul(q,$e)|0,C=C+Math.imul(ce,Oe)|0,d=d+Math.imul(ce,He)|0,d=d+Math.imul(pe,Oe)|0,B=B+Math.imul(pe,He)|0,C=C+Math.imul(U,Xe)|0,d=d+Math.imul(U,et)|0,d=d+Math.imul(Z,Xe)|0,B=B+Math.imul(Z,et)|0;var Fn=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,C=Math.imul(F,Re),d=Math.imul(F,De),d=d+Math.imul(te,Re)|0,B=Math.imul(te,De),C=C+Math.imul(we,Be)|0,d=d+Math.imul(we,Pe)|0,d=d+Math.imul(J,Be)|0,B=B+Math.imul(J,Pe)|0,C=C+Math.imul(ge,Fe)|0,d=d+Math.imul(ge,Ue)|0,d=d+Math.imul(be,Fe)|0,B=B+Math.imul(be,Ue)|0,C=C+Math.imul(ie,je)|0,d=d+Math.imul(ie,$e)|0,d=d+Math.imul(fe,je)|0,B=B+Math.imul(fe,$e)|0,C=C+Math.imul(j,Oe)|0,d=d+Math.imul(j,He)|0,d=d+Math.imul(q,Oe)|0,B=B+Math.imul(q,He)|0,C=C+Math.imul(ce,Xe)|0,d=d+Math.imul(ce,et)|0,d=d+Math.imul(pe,Xe)|0,B=B+Math.imul(pe,et)|0;var nn=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(nn>>>26)|0,nn&=67108863,C=Math.imul(F,Be),d=Math.imul(F,Pe),d=d+Math.imul(te,Be)|0,B=Math.imul(te,Pe),C=C+Math.imul(we,Fe)|0,d=d+Math.imul(we,Ue)|0,d=d+Math.imul(J,Fe)|0,B=B+Math.imul(J,Ue)|0,C=C+Math.imul(ge,je)|0,d=d+Math.imul(ge,$e)|0,d=d+Math.imul(be,je)|0,B=B+Math.imul(be,$e)|0,C=C+Math.imul(ie,Oe)|0,d=d+Math.imul(ie,He)|0,d=d+Math.imul(fe,Oe)|0,B=B+Math.imul(fe,He)|0,C=C+Math.imul(j,Xe)|0,d=d+Math.imul(j,et)|0,d=d+Math.imul(q,Xe)|0,B=B+Math.imul(q,et)|0;var Un=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,C=Math.imul(F,Fe),d=Math.imul(F,Ue),d=d+Math.imul(te,Fe)|0,B=Math.imul(te,Ue),C=C+Math.imul(we,je)|0,d=d+Math.imul(we,$e)|0,d=d+Math.imul(J,je)|0,B=B+Math.imul(J,$e)|0,C=C+Math.imul(ge,Oe)|0,d=d+Math.imul(ge,He)|0,d=d+Math.imul(be,Oe)|0,B=B+Math.imul(be,He)|0,C=C+Math.imul(ie,Xe)|0,d=d+Math.imul(ie,et)|0,d=d+Math.imul(fe,Xe)|0,B=B+Math.imul(fe,et)|0;var jn=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(jn>>>26)|0,jn&=67108863,C=Math.imul(F,je),d=Math.imul(F,$e),d=d+Math.imul(te,je)|0,B=Math.imul(te,$e),C=C+Math.imul(we,Oe)|0,d=d+Math.imul(we,He)|0,d=d+Math.imul(J,Oe)|0,B=B+Math.imul(J,He)|0,C=C+Math.imul(ge,Xe)|0,d=d+Math.imul(ge,et)|0,d=d+Math.imul(be,Xe)|0,B=B+Math.imul(be,et)|0;var Ir=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,C=Math.imul(F,Oe),d=Math.imul(F,He),d=d+Math.imul(te,Oe)|0,B=Math.imul(te,He),C=C+Math.imul(we,Xe)|0,d=d+Math.imul(we,et)|0,d=d+Math.imul(J,Xe)|0,B=B+Math.imul(J,et)|0;var Ts=(M+C|0)+((d&8191)<<13)|0;M=(B+(d>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,C=Math.imul(F,Xe),d=Math.imul(F,et),d=d+Math.imul(te,Xe)|0,B=Math.imul(te,et);var ks=(M+C|0)+((d&8191)<<13)|0;return M=(B+(d>>>13)|0)+(ks>>>26)|0,ks&=67108863,T[0]=Kr,T[1]=ft,T[2]=Rt,T[3]=Dr,T[4]=Br,T[5]=Lr,T[6]=$r,T[7]=sr,T[8]=Dn,T[9]=Bn,T[10]=Ln,T[11]=$n,T[12]=Fn,T[13]=nn,T[14]=Un,T[15]=jn,T[16]=Ir,T[17]=Ts,T[18]=ks,M!==0&&(T[19]=M,I.length++),I};Math.imul||(E=v);function D(W,y,R){R.negative=y.negative^W.negative,R.length=W.length+y.length;for(var I=0,f=0,p=0;p<R.length-1;p++){var T=f;f=0;for(var M=I&67108863,C=Math.min(p,y.length-1),d=Math.max(0,p-W.length+1);d<=C;d++){var B=p-d,O=W.words[B]|0,g=y.words[d]|0,L=O*g,Q=L&67108863;T=T+(L/67108864|0)|0,Q=Q+M|0,M=Q&67108863,T=T+(Q>>>26)|0,f+=T>>>26,T&=67108863}R.words[p]=M,I=T,T=f}return I!==0?R.words[p]=I:R.length--,R.strip()}function x(W,y,R){var I=new _;return I.mulp(W,y,R)}s.prototype.mulTo=function(y,R){var I,f=this.length+y.length;return this.length===10&&y.length===10?I=E(this,y,R):f<63?I=v(this,y,R):f<1024?I=D(this,y,R):I=x(this,y,R),I};function _(W,y){this.x=W,this.y=y}_.prototype.makeRBT=function(y){for(var R=new Array(y),I=s.prototype._countBits(y)-1,f=0;f<y;f++)R[f]=this.revBin(f,I,y);return R},_.prototype.revBin=function(y,R,I){if(y===0||y===I-1)return y;for(var f=0,p=0;p<R;p++)f|=(y&1)<<R-p-1,y>>=1;return f},_.prototype.permute=function(y,R,I,f,p,T){for(var M=0;M<T;M++)f[M]=R[y[M]],p[M]=I[y[M]]},_.prototype.transform=function(y,R,I,f,p,T){this.permute(T,y,R,I,f,p);for(var M=1;M<p;M<<=1)for(var C=M<<1,d=Math.cos(2*Math.PI/C),B=Math.sin(2*Math.PI/C),O=0;O<p;O+=C)for(var g=d,L=B,Q=0;Q<M;Q++){var P=I[O+Q],G=f[O+Q],V=I[O+Q+M],K=f[O+Q+M],Y=g*V-L*K;K=g*K+L*V,V=Y,I[O+Q]=P+V,f[O+Q]=G+K,I[O+Q+M]=P-V,f[O+Q+M]=G-K,Q!==C&&(Y=d*g-B*L,L=d*L+B*g,g=Y)}},_.prototype.guessLen13b=function(y,R){var I=Math.max(R,y)|1,f=I&1,p=0;for(I=I/2|0;I;I=I>>>1)p++;return 1<<p+1+f},_.prototype.conjugate=function(y,R,I){if(!(I<=1))for(var f=0;f<I/2;f++){var p=y[f];y[f]=y[I-f-1],y[I-f-1]=p,p=R[f],R[f]=-R[I-f-1],R[I-f-1]=-p}},_.prototype.normalize13b=function(y,R){for(var I=0,f=0;f<R/2;f++){var p=Math.round(y[2*f+1]/R)*8192+Math.round(y[2*f]/R)+I;y[f]=p&67108863,p<67108864?I=0:I=p/67108864|0}return y},_.prototype.convert13b=function(y,R,I,f){for(var p=0,T=0;T<R;T++)p=p+(y[T]|0),I[2*T]=p&8191,p=p>>>13,I[2*T+1]=p&8191,p=p>>>13;for(T=2*R;T<f;++T)I[T]=0;n(p===0),n((p&-8192)===0)},_.prototype.stub=function(y){for(var R=new Array(y),I=0;I<y;I++)R[I]=0;return R},_.prototype.mulp=function(y,R,I){var f=2*this.guessLen13b(y.length,R.length),p=this.makeRBT(f),T=this.stub(f),M=new Array(f),C=new Array(f),d=new Array(f),B=new Array(f),O=new Array(f),g=new Array(f),L=I.words;L.length=f,this.convert13b(y.words,y.length,M,f),this.convert13b(R.words,R.length,B,f),this.transform(M,T,C,d,f,p),this.transform(B,T,O,g,f,p);for(var Q=0;Q<f;Q++){var P=C[Q]*O[Q]-d[Q]*g[Q];d[Q]=C[Q]*g[Q]+d[Q]*O[Q],C[Q]=P}return this.conjugate(C,d,f),this.transform(C,d,L,T,f,p),this.conjugate(L,T,f),this.normalize13b(L,f),I.negative=y.negative^R.negative,I.length=y.length+R.length,I.strip()},s.prototype.mul=function(y){var R=new s(null);return R.words=new Array(this.length+y.length),this.mulTo(y,R)},s.prototype.mulf=function(y){var R=new s(null);return R.words=new Array(this.length+y.length),x(this,y,R)},s.prototype.imul=function(y){return this.clone().mulTo(y,this)},s.prototype.imuln=function(y){n(typeof y=="number"),n(y<67108864);for(var R=0,I=0;I<this.length;I++){var f=(this.words[I]|0)*y,p=(f&67108863)+(R&67108863);R>>=26,R+=f/67108864|0,R+=p>>>26,this.words[I]=p&67108863}return R!==0&&(this.words[I]=R,this.length++),this},s.prototype.muln=function(y){return this.clone().imuln(y)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(y){var R=b(y);if(R.length===0)return new s(1);for(var I=this,f=0;f<R.length&&R[f]===0;f++,I=I.sqr());if(++f<R.length)for(var p=I.sqr();f<R.length;f++,p=p.sqr())R[f]!==0&&(I=I.mul(p));return I},s.prototype.iushln=function(y){n(typeof y=="number"&&y>=0);var R=y%26,I=(y-R)/26,f=67108863>>>26-R<<26-R,p;if(R!==0){var T=0;for(p=0;p<this.length;p++){var M=this.words[p]&f,C=(this.words[p]|0)-M<<R;this.words[p]=C|T,T=M>>>26-R}T&&(this.words[p]=T,this.length++)}if(I!==0){for(p=this.length-1;p>=0;p--)this.words[p+I]=this.words[p];for(p=0;p<I;p++)this.words[p]=0;this.length+=I}return this.strip()},s.prototype.ishln=function(y){return n(this.negative===0),this.iushln(y)},s.prototype.iushrn=function(y,R,I){n(typeof y=="number"&&y>=0);var f;R?f=(R-R%26)/26:f=0;var p=y%26,T=Math.min((y-p)/26,this.length),M=67108863^67108863>>>p<<p,C=I;if(f-=T,f=Math.max(0,f),C){for(var d=0;d<T;d++)C.words[d]=this.words[d];C.length=T}if(T!==0)if(this.length>T)for(this.length-=T,d=0;d<this.length;d++)this.words[d]=this.words[d+T];else this.words[0]=0,this.length=1;var B=0;for(d=this.length-1;d>=0&&(B!==0||d>=f);d--){var O=this.words[d]|0;this.words[d]=B<<26-p|O>>>p,B=O&M}return C&&B!==0&&(C.words[C.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(y,R,I){return n(this.negative===0),this.iushrn(y,R,I)},s.prototype.shln=function(y){return this.clone().ishln(y)},s.prototype.ushln=function(y){return this.clone().iushln(y)},s.prototype.shrn=function(y){return this.clone().ishrn(y)},s.prototype.ushrn=function(y){return this.clone().iushrn(y)},s.prototype.testn=function(y){n(typeof y=="number"&&y>=0);var R=y%26,I=(y-R)/26,f=1<<R;if(this.length<=I)return!1;var p=this.words[I];return!!(p&f)},s.prototype.imaskn=function(y){n(typeof y=="number"&&y>=0);var R=y%26,I=(y-R)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=I)return this;if(R!==0&&I++,this.length=Math.min(I,this.length),R!==0){var f=67108863^67108863>>>R<<R;this.words[this.length-1]&=f}return this.strip()},s.prototype.maskn=function(y){return this.clone().imaskn(y)},s.prototype.iaddn=function(y){return n(typeof y=="number"),n(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},s.prototype._iaddn=function(y){this.words[0]+=y;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},s.prototype.isubn=function(y){if(n(typeof y=="number"),n(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this.strip()},s.prototype.addn=function(y){return this.clone().iaddn(y)},s.prototype.subn=function(y){return this.clone().isubn(y)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(y,R,I){var f=y.length+I,p;this._expand(f);var T,M=0;for(p=0;p<y.length;p++){T=(this.words[p+I]|0)+M;var C=(y.words[p]|0)*R;T-=C&67108863,M=(T>>26)-(C/67108864|0),this.words[p+I]=T&67108863}for(;p<this.length-I;p++)T=(this.words[p+I]|0)+M,M=T>>26,this.words[p+I]=T&67108863;if(M===0)return this.strip();for(n(M===-1),M=0,p=0;p<this.length;p++)T=-(this.words[p]|0)+M,M=T>>26,this.words[p]=T&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(y,R){var I=this.length-y.length,f=this.clone(),p=y,T=p.words[p.length-1]|0,M=this._countBits(T);I=26-M,I!==0&&(p=p.ushln(I),f.iushln(I),T=p.words[p.length-1]|0);var C=f.length-p.length,d;if(R!=="mod"){d=new s(null),d.length=C+1,d.words=new Array(d.length);for(var B=0;B<d.length;B++)d.words[B]=0}var O=f.clone()._ishlnsubmul(p,1,C);O.negative===0&&(f=O,d&&(d.words[C]=1));for(var g=C-1;g>=0;g--){var L=(f.words[p.length+g]|0)*67108864+(f.words[p.length+g-1]|0);for(L=Math.min(L/T|0,67108863),f._ishlnsubmul(p,L,g);f.negative!==0;)L--,f.negative=0,f._ishlnsubmul(p,1,g),f.isZero()||(f.negative^=1);d&&(d.words[g]=L)}return d&&d.strip(),f.strip(),R!=="div"&&I!==0&&f.iushrn(I),{div:d||null,mod:f}},s.prototype.divmod=function(y,R,I){if(n(!y.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var f,p,T;return this.negative!==0&&y.negative===0?(T=this.neg().divmod(y,R),R!=="mod"&&(f=T.div.neg()),R!=="div"&&(p=T.mod.neg(),I&&p.negative!==0&&p.iadd(y)),{div:f,mod:p}):this.negative===0&&y.negative!==0?(T=this.divmod(y.neg(),R),R!=="mod"&&(f=T.div.neg()),{div:f,mod:T.mod}):this.negative&y.negative?(T=this.neg().divmod(y.neg(),R),R!=="div"&&(p=T.mod.neg(),I&&p.negative!==0&&p.isub(y)),{div:T.div,mod:p}):y.length>this.length||this.cmp(y)<0?{div:new s(0),mod:this}:y.length===1?R==="div"?{div:this.divn(y.words[0]),mod:null}:R==="mod"?{div:null,mod:new s(this.modn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new s(this.modn(y.words[0]))}:this._wordDiv(y,R)},s.prototype.div=function(y){return this.divmod(y,"div",!1).div},s.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},s.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},s.prototype.divRound=function(y){var R=this.divmod(y);if(R.mod.isZero())return R.div;var I=R.div.negative!==0?R.mod.isub(y):R.mod,f=y.ushrn(1),p=y.andln(1),T=I.cmp(f);return T<0||p===1&&T===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},s.prototype.modn=function(y){n(y<=67108863);for(var R=(1<<26)%y,I=0,f=this.length-1;f>=0;f--)I=(R*I+(this.words[f]|0))%y;return I},s.prototype.idivn=function(y){n(y<=67108863);for(var R=0,I=this.length-1;I>=0;I--){var f=(this.words[I]|0)+R*67108864;this.words[I]=f/y|0,R=f%y}return this.strip()},s.prototype.divn=function(y){return this.clone().idivn(y)},s.prototype.egcd=function(y){n(y.negative===0),n(!y.isZero());var R=this,I=y.clone();R.negative!==0?R=R.umod(y):R=R.clone();for(var f=new s(1),p=new s(0),T=new s(0),M=new s(1),C=0;R.isEven()&&I.isEven();)R.iushrn(1),I.iushrn(1),++C;for(var d=I.clone(),B=R.clone();!R.isZero();){for(var O=0,g=1;!(R.words[0]&g)&&O<26;++O,g<<=1);if(O>0)for(R.iushrn(O);O-- >0;)(f.isOdd()||p.isOdd())&&(f.iadd(d),p.isub(B)),f.iushrn(1),p.iushrn(1);for(var L=0,Q=1;!(I.words[0]&Q)&&L<26;++L,Q<<=1);if(L>0)for(I.iushrn(L);L-- >0;)(T.isOdd()||M.isOdd())&&(T.iadd(d),M.isub(B)),T.iushrn(1),M.iushrn(1);R.cmp(I)>=0?(R.isub(I),f.isub(T),p.isub(M)):(I.isub(R),T.isub(f),M.isub(p))}return{a:T,b:M,gcd:I.iushln(C)}},s.prototype._invmp=function(y){n(y.negative===0),n(!y.isZero());var R=this,I=y.clone();R.negative!==0?R=R.umod(y):R=R.clone();for(var f=new s(1),p=new s(0),T=I.clone();R.cmpn(1)>0&&I.cmpn(1)>0;){for(var M=0,C=1;!(R.words[0]&C)&&M<26;++M,C<<=1);if(M>0)for(R.iushrn(M);M-- >0;)f.isOdd()&&f.iadd(T),f.iushrn(1);for(var d=0,B=1;!(I.words[0]&B)&&d<26;++d,B<<=1);if(d>0)for(I.iushrn(d);d-- >0;)p.isOdd()&&p.iadd(T),p.iushrn(1);R.cmp(I)>=0?(R.isub(I),f.isub(p)):(I.isub(R),p.isub(f))}var O;return R.cmpn(1)===0?O=f:O=p,O.cmpn(0)<0&&O.iadd(y),O},s.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var R=this.clone(),I=y.clone();R.negative=0,I.negative=0;for(var f=0;R.isEven()&&I.isEven();f++)R.iushrn(1),I.iushrn(1);do{for(;R.isEven();)R.iushrn(1);for(;I.isEven();)I.iushrn(1);var p=R.cmp(I);if(p<0){var T=R;R=I,I=T}else if(p===0||I.cmpn(1)===0)break;R.isub(I)}while(!0);return I.iushln(f)},s.prototype.invm=function(y){return this.egcd(y).a.umod(y)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(y){return this.words[0]&y},s.prototype.bincn=function(y){n(typeof y=="number");var R=y%26,I=(y-R)/26,f=1<<R;if(this.length<=I)return this._expand(I+1),this.words[I]|=f,this;for(var p=f,T=I;p!==0&&T<this.length;T++){var M=this.words[T]|0;M+=p,p=M>>>26,M&=67108863,this.words[T]=M}return p!==0&&(this.words[T]=p,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(y){var R=y<0;if(this.negative!==0&&!R)return-1;if(this.negative===0&&R)return 1;this.strip();var I;if(this.length>1)I=1;else{R&&(y=-y),n(y<=67108863,"Number is too big");var f=this.words[0]|0;I=f===y?0:f<y?-1:1}return this.negative!==0?-I|0:I},s.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var R=this.ucmp(y);return this.negative!==0?-R|0:R},s.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var R=0,I=this.length-1;I>=0;I--){var f=this.words[I]|0,p=y.words[I]|0;if(f!==p){f<p?R=-1:f>p&&(R=1);break}}return R},s.prototype.gtn=function(y){return this.cmpn(y)===1},s.prototype.gt=function(y){return this.cmp(y)===1},s.prototype.gten=function(y){return this.cmpn(y)>=0},s.prototype.gte=function(y){return this.cmp(y)>=0},s.prototype.ltn=function(y){return this.cmpn(y)===-1},s.prototype.lt=function(y){return this.cmp(y)===-1},s.prototype.lten=function(y){return this.cmpn(y)<=0},s.prototype.lte=function(y){return this.cmp(y)<=0},s.prototype.eqn=function(y){return this.cmpn(y)===0},s.prototype.eq=function(y){return this.cmp(y)===0},s.red=function(y){return new H(y)},s.prototype.toRed=function(y){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(y){return this.red=y,this},s.prototype.forceRed=function(y){return n(!this.red,"Already a number in reduction context"),this._forceRed(y)},s.prototype.redAdd=function(y){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},s.prototype.redIAdd=function(y){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},s.prototype.redSub=function(y){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},s.prototype.redISub=function(y){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},s.prototype.redShl=function(y){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},s.prototype.redMul=function(y){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},s.prototype.redIMul=function(y){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(y){return n(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var m={k256:null,p224:null,p192:null,p25519:null};function w(W,y){this.name=W,this.p=new s(y,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}w.prototype._tmp=function(){var y=new s(null);return y.words=new Array(Math.ceil(this.n/13)),y},w.prototype.ireduce=function(y){var R=y,I;do this.split(R,this.tmp),R=this.imulK(R),R=R.iadd(this.tmp),I=R.bitLength();while(I>this.n);var f=I<this.n?-1:R.ucmp(this.p);return f===0?(R.words[0]=0,R.length=1):f>0?R.isub(this.p):R.strip(),R},w.prototype.split=function(y,R){y.iushrn(this.n,0,R)},w.prototype.imulK=function(y){return y.imul(this.k)};function A(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(A,w),A.prototype.split=function(y,R){for(var I=4194303,f=Math.min(y.length,9),p=0;p<f;p++)R.words[p]=y.words[p];if(R.length=f,y.length<=9){y.words[0]=0,y.length=1;return}var T=y.words[9];for(R.words[R.length++]=T&I,p=10;p<y.length;p++){var M=y.words[p]|0;y.words[p-10]=(M&I)<<4|T>>>22,T=M}T>>>=22,y.words[p-10]=T,T===0&&y.length>10?y.length-=10:y.length-=9},A.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var R=0,I=0;I<y.length;I++){var f=y.words[I]|0;R+=f*977,y.words[I]=R&67108863,R=f*64+(R/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function k(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(k,w);function z(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(z,w);function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(S,w),S.prototype.imulK=function(y){for(var R=0,I=0;I<y.length;I++){var f=(y.words[I]|0)*19+R,p=f&67108863;f>>>=26,y.words[I]=p,R=f}return R!==0&&(y.words[y.length++]=R),y},s._prime=function(y){if(m[y])return m[y];var R;if(y==="k256")R=new A;else if(y==="p224")R=new k;else if(y==="p192")R=new z;else if(y==="p25519")R=new S;else throw new Error("Unknown prime "+y);return m[y]=R,R};function H(W){if(typeof W=="string"){var y=s._prime(W);this.m=y.p,this.prime=y}else n(W.gtn(1),"modulus must be greater than 1"),this.m=W,this.prime=null}H.prototype._verify1=function(y){n(y.negative===0,"red works only with positives"),n(y.red,"red works only with red numbers")},H.prototype._verify2=function(y,R){n((y.negative|R.negative)===0,"red works only with positives"),n(y.red&&y.red===R.red,"red works only with red numbers")},H.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):y.umod(this.m)._forceRed(this)},H.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},H.prototype.add=function(y,R){this._verify2(y,R);var I=y.add(R);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},H.prototype.iadd=function(y,R){this._verify2(y,R);var I=y.iadd(R);return I.cmp(this.m)>=0&&I.isub(this.m),I},H.prototype.sub=function(y,R){this._verify2(y,R);var I=y.sub(R);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},H.prototype.isub=function(y,R){this._verify2(y,R);var I=y.isub(R);return I.cmpn(0)<0&&I.iadd(this.m),I},H.prototype.shl=function(y,R){return this._verify1(y),this.imod(y.ushln(R))},H.prototype.imul=function(y,R){return this._verify2(y,R),this.imod(y.imul(R))},H.prototype.mul=function(y,R){return this._verify2(y,R),this.imod(y.mul(R))},H.prototype.isqr=function(y){return this.imul(y,y.clone())},H.prototype.sqr=function(y){return this.mul(y,y)},H.prototype.sqrt=function(y){if(y.isZero())return y.clone();var R=this.m.andln(3);if(n(R%2===1),R===3){var I=this.m.add(new s(1)).iushrn(2);return this.pow(y,I)}for(var f=this.m.subn(1),p=0;!f.isZero()&&f.andln(1)===0;)p++,f.iushrn(1);n(!f.isZero());var T=new s(1).toRed(this),M=T.redNeg(),C=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,C).cmp(M)!==0;)d.redIAdd(M);for(var B=this.pow(d,f),O=this.pow(y,f.addn(1).iushrn(1)),g=this.pow(y,f),L=p;g.cmp(T)!==0;){for(var Q=g,P=0;Q.cmp(T)!==0;P++)Q=Q.redSqr();n(P<L);var G=this.pow(B,new s(1).iushln(L-P-1));O=O.redMul(G),B=G.redSqr(),g=g.redMul(B),L=P}return O},H.prototype.invm=function(y){var R=y._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},H.prototype.pow=function(y,R){if(R.isZero())return new s(1).toRed(this);if(R.cmpn(1)===0)return y.clone();var I=4,f=new Array(1<<I);f[0]=new s(1).toRed(this),f[1]=y;for(var p=2;p<f.length;p++)f[p]=this.mul(f[p-1],y);var T=f[0],M=0,C=0,d=R.bitLength()%26;for(d===0&&(d=26),p=R.length-1;p>=0;p--){for(var B=R.words[p],O=d-1;O>=0;O--){var g=B>>O&1;if(T!==f[0]&&(T=this.sqr(T)),g===0&&M===0){C=0;continue}M<<=1,M|=g,C++,!(C!==I&&(p!==0||O!==0))&&(T=this.mul(T,f[M]),C=0,M=0)}d=26}return T},H.prototype.convertTo=function(y){var R=y.umod(this.m);return R===y?R.clone():R},H.prototype.convertFrom=function(y){var R=y.clone();return R.red=null,R},s.mont=function(y){return new re(y)};function re(W){H.call(this,W),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(re,H),re.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},re.prototype.convertFrom=function(y){var R=this.imod(y.mul(this.rinv));return R.red=null,R},re.prototype.imul=function(y,R){if(y.isZero()||R.isZero())return y.words[0]=0,y.length=1,y;var I=y.imul(R),f=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=I.isub(f).iushrn(this.shift),T=p;return p.cmp(this.m)>=0?T=p.isub(this.m):p.cmpn(0)<0&&(T=p.iadd(this.m)),T._forceRed(this)},re.prototype.mul=function(y,R){if(y.isZero()||R.isZero())return new s(0)._forceRed(this);var I=y.mul(R),f=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=I.isub(f).iushrn(this.shift),T=p;return p.cmp(this.m)>=0?T=p.isub(this.m):p.cmpn(0)<0&&(T=p.iadd(this.m)),T._forceRed(this)},re.prototype.invm=function(y){var R=this.imod(y._invmp(this.m).mul(this.r2));return R._forceRed(this)}})(t,ze)})(mee);const bee=i2;var yee=Mw;Mw.strict=qC;Mw.loose=VC;var vee=Object.prototype.toString,wee={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Mw(t){return qC(t)||VC(t)}function qC(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function VC(t){return wee[vee.call(t)]}var xee=yee.strict,_ee=function(e){if(xee(e)){var r=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),r}else return Buffer.from(e)};const GC="hex",KC="utf8",eg="0";function xl(t){return new Uint8Array(t)}function JC(t,e=!1){const r=t.toString(GC);return e?ou(r):r}function Eee(t){return t.toString(KC)}function tg(t){return _ee(t)}function Jc(t,e=!1){return JC(tg(t),e)}function See(t){return Eee(tg(t))}function Aee(t){return Buffer.from(Lo(t),GC)}function Zc(t){return xl(Aee(t))}function Tw(t){return Buffer.from(t,KC)}function Cee(t){return xl(Tw(t))}function Iee(t,e=!1){return JC(Tw(t),e)}function Mee(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function ZC(...t){let e=[];return t.forEach(r=>e=e.concat(Array.from(r))),new Uint8Array([...e])}function Tee(t,e=8){const r=t%e;return r?(t-r)/e*e+e:t}function kee(t,e=8,r=eg){return Oee(t,Tee(t.length,e),r)}function Oee(t,e,r=eg){return Pee(t,e,!0,r)}function Lo(t){return t.replace(/^0x/,"")}function ou(t){return t.startsWith("0x")?t:`0x${t}`}function YC(t){return t=Lo(t),t=kee(t,2),t&&(t=ou(t)),t}function Ree(t){const e=t.startsWith("0x");return t=Lo(t),t=t.startsWith(eg)?t.substring(1):t,e?ou(t):t}function Pee(t,e,r,n=eg){const i=e-t.length;let s=t;if(i>0){const o=n.repeat(i);s=r?o+t:t+o}return s}function s2(t){return tg(new Uint8Array(t))}function Nee(t,e){return Jc(new Uint8Array(t),!e)}function Dee(t){return xl(t).buffer}function Bee(t){return Tw(t)}function Lee(t,e){return Iee(t,!e)}function $ee(t){return Zc(t).buffer}function QC(t,e){const r=Lo(YC(new bee(t).toString(16)));return e?r:ou(r)}function R0(t){return YC(t)}function Fee(t){return Ree(ou(t))}const Uee=pC;function Um(){return((e,r)=>{for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r})()}function jee(t,e){let r;const n=gee[t];return n&&(r=`https://${n}.infura.io/v3/${e}`),r}function Hee(t,e){let r;const n=jee(t,e.infuraId);return e.custom&&e.custom[t]?r=e.custom[t]:n&&(r=n),r}function zee(t){return t===""||typeof t=="string"&&t.trim()===""}function Wee(t){return!(t&&t.length)}function XC(t,e){return Mee(t,e)}function qee(t){return typeof t.method<"u"}function sf(t){return typeof t.result<"u"}function ap(t){return typeof t.error<"u"}function X_(t){return typeof t.event<"u"}function Vee(t){return pee.includes(t)||t.startsWith("wc_")}function Gee(t){return t.method.startsWith("wc_")?!0:!Iw.includes(t.method)}function Kee(t){t=Lo(t.toLowerCase());const e=Lo(kd.keccak_256(Bee(t)));let r="";for(let n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return ou(r)}const Jee=t=>t?t.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t)?!0:t===Kee(t):!1:!1;function e4(t){return!Wee(t)&&!XC(t[0])&&(t[0]=Lee(t[0])),t}function jm(t){if(typeof t.type<"u"&&t.type!=="0")return t;if(typeof t.from>"u"||!Jee(t.from))throw new Error("Transaction object must include a valid 'from' value.");function e(i){let s=i;return(typeof i=="number"||typeof i=="string"&&!zee(i))&&(XC(i)?typeof i=="string"&&(s=R0(i)):s=QC(i)),typeof s=="string"&&(s=Fee(s)),s}const r={from:R0(t.from),to:typeof t.to>"u"?void 0:R0(t.to),gasPrice:typeof t.gasPrice>"u"?"":e(t.gasPrice),gas:typeof t.gas>"u"?typeof t.gasLimit>"u"?"":e(t.gasLimit):e(t.gas),value:typeof t.value>"u"?"":e(t.value),nonce:typeof t.nonce>"u"?"":e(t.nonce),data:typeof t.data>"u"?"":R0(t.data)||"0x"},n=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach(i=>{(typeof r[i]>"u"||typeof r[i]=="string"&&!r[i].trim().length)&&n.includes(i)&&delete r[i]}),r}function Zee(t){const e=t.message||"Failed or Rejected Request";let r=-32e3;if(t&&!t.code)switch(e){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3;break}const n={code:r,message:e};return t.data&&(n.data=t.data),n}var kw={},rg=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),eI="%[a-f0-9]{2}",t4=new RegExp("("+eI+")|([^%]+?)","gi"),r4=new RegExp("("+eI+")+","gi");function o2(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],o2(r),o2(n))}function Yee(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(t4)||[],r=1;r<e.length;r++)t=o2(e,r).join(""),e=t.match(t4)||[];return t}}function Qee(t){for(var e={"%FE%FF":"","%FF%FE":""},r=r4.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=Yee(r[0]);n!==r[0]&&(e[r[0]]=n)}r=r4.exec(t)}e["%C2"]="";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}var ng=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return Qee(t)}},ig=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]};(function(t){const e=rg,r=ng,n=ig,i=x=>x==null;function s(x){switch(x.arrayFormat){case"index":return _=>(m,w)=>{const A=m.length;return w===void 0||x.skipNull&&w===null||x.skipEmptyString&&w===""?m:w===null?[...m,[c(_,x),"[",A,"]"].join("")]:[...m,[c(_,x),"[",c(A,x),"]=",c(w,x)].join("")]};case"bracket":return _=>(m,w)=>w===void 0||x.skipNull&&w===null||x.skipEmptyString&&w===""?m:w===null?[...m,[c(_,x),"[]"].join("")]:[...m,[c(_,x),"[]=",c(w,x)].join("")];case"comma":case"separator":return _=>(m,w)=>w==null||w.length===0?m:m.length===0?[[c(_,x),"=",c(w,x)].join("")]:[[m,c(w,x)].join(x.arrayFormatSeparator)];default:return _=>(m,w)=>w===void 0||x.skipNull&&w===null||x.skipEmptyString&&w===""?m:w===null?[...m,c(_,x)]:[...m,[c(_,x),"=",c(w,x)].join("")]}}function o(x){let _;switch(x.arrayFormat){case"index":return(m,w,A)=>{if(_=/\[(\d*)\]$/.exec(m),m=m.replace(/\[\d*\]$/,""),!_){A[m]=w;return}A[m]===void 0&&(A[m]={}),A[m][_[1]]=w};case"bracket":return(m,w,A)=>{if(_=/(\[\])$/.exec(m),m=m.replace(/\[\]$/,""),!_){A[m]=w;return}if(A[m]===void 0){A[m]=[w];return}A[m]=[].concat(A[m],w)};case"comma":case"separator":return(m,w,A)=>{const z=typeof w=="string"&&w.split("").indexOf(x.arrayFormatSeparator)>-1?w.split(x.arrayFormatSeparator).map(S=>l(S,x)):w===null?w:l(w,x);A[m]=z};default:return(m,w,A)=>{if(A[m]===void 0){A[m]=w;return}A[m]=[].concat(A[m],w)}}}function a(x){if(typeof x!="string"||x.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function c(x,_){return _.encode?_.strict?e(x):encodeURIComponent(x):x}function l(x,_){return _.decode?r(x):x}function u(x){return Array.isArray(x)?x.sort():typeof x=="object"?u(Object.keys(x)).sort((_,m)=>Number(_)-Number(m)).map(_=>x[_]):x}function h(x){const _=x.indexOf("#");return _!==-1&&(x=x.slice(0,_)),x}function b(x){let _="";const m=x.indexOf("#");return m!==-1&&(_=x.slice(m)),_}function v(x){x=h(x);const _=x.indexOf("?");return _===-1?"":x.slice(_+1)}function E(x,_){return _.parseNumbers&&!Number.isNaN(Number(x))&&typeof x=="string"&&x.trim()!==""?x=Number(x):_.parseBooleans&&x!==null&&(x.toLowerCase()==="true"||x.toLowerCase()==="false")&&(x=x.toLowerCase()==="true"),x}function D(x,_){_=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},_),a(_.arrayFormatSeparator);const m=o(_),w=Object.create(null);if(typeof x!="string"||(x=x.trim().replace(/^[?#&]/,""),!x))return w;for(const A of x.split("&")){let[k,z]=n(_.decode?A.replace(/\+/g," "):A,"=");z=z===void 0?null:["comma","separator"].includes(_.arrayFormat)?z:l(z,_),m(l(k,_),z,w)}for(const A of Object.keys(w)){const k=w[A];if(typeof k=="object"&&k!==null)for(const z of Object.keys(k))k[z]=E(k[z],_);else w[A]=E(k,_)}return _.sort===!1?w:(_.sort===!0?Object.keys(w).sort():Object.keys(w).sort(_.sort)).reduce((A,k)=>{const z=w[k];return Boolean(z)&&typeof z=="object"&&!Array.isArray(z)?A[k]=u(z):A[k]=z,A},Object.create(null))}t.extract=v,t.parse=D,t.stringify=(x,_)=>{if(!x)return"";_=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},_),a(_.arrayFormatSeparator);const m=z=>_.skipNull&&i(x[z])||_.skipEmptyString&&x[z]==="",w=s(_),A={};for(const z of Object.keys(x))m(z)||(A[z]=x[z]);const k=Object.keys(A);return _.sort!==!1&&k.sort(_.sort),k.map(z=>{const S=x[z];return S===void 0?"":S===null?c(z,_):Array.isArray(S)?S.reduce(w(z),[]).join("&"):c(z,_)+"="+c(S,_)}).filter(z=>z.length>0).join("&")},t.parseUrl=(x,_)=>{_=Object.assign({decode:!0},_);const[m,w]=n(x,"#");return Object.assign({url:m.split("?")[0]||"",query:D(v(x),_)},_&&_.parseFragmentIdentifier&&w?{fragmentIdentifier:l(w,_)}:{})},t.stringifyUrl=(x,_)=>{_=Object.assign({encode:!0,strict:!0},_);const m=h(x.url).split("?")[0]||"",w=t.extract(x.url),A=t.parse(w,{sort:!1}),k=Object.assign(A,x.query);let z=t.stringify(k,_);z&&(z=`?${z}`);let S=b(x.url);return x.fragmentIdentifier&&(S=`#${c(x.fragmentIdentifier,_)}`),`${m}${z}${S}`}})(kw);function Xee(t){const e=t.indexOf("?")!==-1?t.indexOf("?"):void 0;return typeof e<"u"?t.substr(e):""}function ete(t,e){let r=tI(t);return r=Object.assign(Object.assign({},r),e),t=tte(r),t}function tI(t){return kw.parse(t)}function tte(t){return kw.stringify(t)}function rte(t){return typeof t.bridge<"u"}function nte(t){const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r);function s(h){const b="@",v=h.split(b);return{handshakeTopic:v[0],version:parseInt(v[1],10)}}const o=s(i),a=typeof r<"u"?t.substr(r):"";function c(h){const b=tI(h);return{key:b.key||"",bridge:b.bridge||""}}const l=c(a);return Object.assign(Object.assign({protocol:n},o),l)}class ite{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,r){this._eventEmitters.push({event:e,callback:r})}trigger(e){let r=[];e&&(r=this._eventEmitters.filter(n=>n.event===e)),r.forEach(n=>{n.callback()})}}const ste=typeof global.WebSocket<"u"?global.WebSocket:require("ws");class ote{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new ite,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,r,n){if(!r||typeof r!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:r,type:"pub",payload:e,silent:!!n})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,r){this._events.push({event:e,callback:r})}_socketCreate(){if(this._nextSocket)return;const e=ate(this._url,this._protocol,this._version);if(this._nextSocket=new ste(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=r=>this._socketReceive(r),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=r=>this._socketError(r),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const r=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(r):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let r;try{r=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:r.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const n=this._events.filter(i=>i.event==="message");n&&n.length&&n.forEach(i=>i.callback(r))}}_socketError(e){const r=this._events.filter(n=>n.event==="error");r&&r.length&&r.forEach(n=>n.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(r=>this._queue.push({topic:r,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(r=>this._socketSend(r)),this._queue=[]}}function ate(t,e,r){var n,i;const o=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),a=LC()?{protocol:e,version:r,env:"browser",host:((n=FC())===null||n===void 0?void 0:n.host)||""}:{protocol:e,version:r,env:((i=Y1())===null||i===void 0?void 0:i.name)||""},c=ete(Xee(o[1]||""),a);return o[0]+"?"+c}const Hm="Session currently connected",sa="Session currently disconnected",cte="Session Rejected",lte="Missing JSON RPC response",ute='JSON-RPC success response must include "result" field',fte='JSON-RPC error response must include "error" field',hte='JSON RPC request must have valid "method" value',dte='JSON RPC request must have valid "id" value',pte="Missing one of the required parameters: bridge / uri / session",n4="JSON RPC response format is invalid",gte="URI format is invalid",mte="QRCode Modal not provided",i4="User close QRCode Modal";class bte{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(r=>r.event!==e)}trigger(e){let r=[],n;qee(e)?n=e.method:sf(e)||ap(e)?n=`response:${e.id}`:X_(e)?n=e.event:n="",n&&(r=this._eventEmitters.filter(i=>i.event===n)),(!r||!r.length)&&!Vee(n)&&!X_(n)&&(r=this._eventEmitters.filter(i=>i.event==="call_request")),r.forEach(i=>{if(ap(e)){const s=new Error(e.error.message);i.callback(s,null)}else i.callback(null,e)})}}class yte{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const r=Aw(this.storageId);return r&&rte(r)&&(e=r),e}setSession(e){return Sw(this.storageId,e),e}removeSession(){Cw(this.storageId)}}const vte="walletconnect.org",wte="abcdefghijklmnopqrstuvwxyz0123456789",rI=wte.split("").map(t=>`https://${t}.bridge.walletconnect.org`);function xte(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function _te(t){return xte(t).split(".").slice(-2).join(".")}function Ete(){return Math.floor(Math.random()*rI.length)}function Ste(){return rI[Ete()]}function Ate(t){return _te(t)===vte}function Cte(t){return Ate(t)?Ste():t}class Ite{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new bte,this._clientMeta=n2()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new yte(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...Iw,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(pte);e.connectorOpts.bridge&&(this.bridge=Cte(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const r=e.connectorOpts.session||this._getStorageSession();r&&(this.session=r),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new ote({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){e&&(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const r=$ee(e);this._key=r}get key(){return this._key?Nee(this._key,!0):""}set clientId(e){e&&(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=Um()),this._clientId}set peerId(e){e&&(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=n2()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){e&&(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){e&&(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:r,bridge:n,key:i}=this._parseUri(e);this.handshakeTopic=r,this.bridge=n,this.key=i}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){e&&(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,r){const n={event:e,callback:r};this._eventManager.subscribe(n)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const r=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=r.id,this.handshakeTopic=Um(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(i4)});const n=()=>{this.killSession()};try{const i=await this._sendCallRequest(r);return i&&n(),i}catch(i){throw n(),i}}async connect(e){if(!this._qrcodeModal)throw new Error(mte);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(r,n)=>{this.on("modal_closed",()=>n(new Error(i4))),this.on("connect",(i,s)=>{if(i)return n(i);r(s.params[0])})}))}async createSession(e){if(this._connected)throw new Error(Hm);if(this.pending)return;this._key=await this._generateKey();const r=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=r.id,this.handshakeTopic=Um(),this._sendSessionRequest(r,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(Hm);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},n={id:this.handshakeId,jsonrpc:"2.0",result:r};this._sendResponse(n),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(Hm);const r=e&&e.message?e.message:cte,n=this._formatResponse({id:this.handshakeId,error:{message:r}});this._sendResponse(n),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(sa);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},n=this._formatRequest({method:"wc_sessionUpdate",params:[r]});this._sendSessionRequest(n,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const r=e?e.message:"Session Disconnected",n={approved:!1,chainId:null,networkId:null,accounts:null},i=this._formatRequest({method:"wc_sessionUpdate",params:[n]});await this._sendRequest(i),this._handleSessionDisconnect(r)}async sendTransaction(e){if(!this._connected)throw new Error(sa);const r=jm(e),n=this._formatRequest({method:"eth_sendTransaction",params:[r]});return await this._sendCallRequest(n)}async signTransaction(e){if(!this._connected)throw new Error(sa);const r=jm(e),n=this._formatRequest({method:"eth_signTransaction",params:[r]});return await this._sendCallRequest(n)}async signMessage(e){if(!this._connected)throw new Error(sa);const r=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(r)}async signPersonalMessage(e){if(!this._connected)throw new Error(sa);e=e4(e);const r=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(r)}async signTypedData(e){if(!this._connected)throw new Error(sa);const r=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(r)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const r=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(r)}unsafeSend(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),new Promise((n,i)=>{this._subscribeToResponse(e.id,(s,o)=>{if(s){i(s);return}if(!o)throw new Error(lte);n(o)})})}async sendCustomRequest(e,r){if(!this._connected)throw new Error(sa);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return QC(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=jm(e.params[0]));break;case"personal_sign":e.params&&(e.params=e4(e.params));break}const n=this._formatRequest(e);return await this._sendCallRequest(n,r)}approveRequest(e){if(sf(e)){const r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(ute)}rejectRequest(e){if(ap(e)){const r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(fte)}transportClose(){this._transport.close()}async _sendRequest(e,r){const n=this._formatRequest(e),i=await this._encrypt(n),s=typeof(r==null?void 0:r.topic)<"u"?r.topic:this.peerId,o=JSON.stringify(i),a=typeof(r==null?void 0:r.forcePushNotification)<"u"?!r.forcePushNotification:Gee(n);this._transport.send(o,s,a)}async _sendResponse(e){const r=await this._encrypt(e),n=this.peerId,i=JSON.stringify(r),s=!0;this._transport.send(i,n,s)}async _sendSessionRequest(e,r,n){this._sendRequest(e,n),this._subscribeToSessionResponse(e.id,r)}_sendCallRequest(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error(hte);return{id:typeof e.id>"u"?Uee():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(dte);const r={id:e.id,jsonrpc:"2.0"};if(ap(e)){const n=Zee(e.error);return Object.assign(Object.assign(Object.assign({},r),e),{error:n})}else if(sf(e))return Object.assign(Object.assign({},r),e);throw new Error(n4)}_handleSessionDisconnect(e){const r=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),Cw(op)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,r){r?r.approved?(this._connected?(r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),r.peerId&&!this.peerId&&(this.peerId=r.peerId),r.peerMeta&&!this.peerMeta&&(this.peerMeta=r.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let n;try{n=JSON.parse(e.payload)}catch{return}const i=await this._decrypt(n);i&&this._eventManager.trigger(i)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,r){this.on(`response:${e}`,r)}_subscribeToSessionResponse(e,r){this._subscribeToResponse(e,(n,i)=>{if(n){this._handleSessionResponse(n.message);return}sf(i)?this._handleSessionResponse(r,i.result):i.error&&i.error.message?this._handleSessionResponse(i.error.message):this._handleSessionResponse(r)})}_subscribeToCallResponse(e){return new Promise((r,n)=>{this._subscribeToResponse(e,(i,s)=>{if(i){n(i);return}sf(s)?r(s.result):s.error&&s.error.message?n(s.error):n(new Error(n4))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,r)=>{const{request:n}=r.params[0];if(DC()&&this._signingMethods.includes(n.method)){const i=Aw(op);i&&(window.location.href=i.href)}}),this.on("wc_sessionRequest",(e,r)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=r.id,this.peerId=r.params[0].peerId,this.peerMeta=r.params[0].peerMeta;const n=Object.assign(Object.assign({},r),{method:"session_request"});this._eventManager.trigger(n)}),this.on("wc_sessionUpdate",(e,r)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",r.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,r=this.handshakeTopic,n=this.version,i=encodeURIComponent(this.bridge),s=this.key;return`${e}:${r}@${n}?bridge=${i}&key=${s}`}_parseUri(e){const r=nte(e);if(r.protocol===this.protocol){if(!r.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const n=r.handshakeTopic;if(!r.bridge)throw Error("Invalid or missing bridge url parameter value");const i=decodeURIComponent(r.bridge);if(!r.key)throw Error("Invalid or missing key parameter value");const s=r.key;return{handshakeTopic:n,bridge:i,key:s}}else throw new Error(gte)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.encrypt(e,r):null}async _decrypt(e){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.decrypt(e,r):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const r={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(n,i)=>{if(n)throw n;if(e.peerMeta){const s=i.params[0].peerMeta.name;r.peerName=s}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function Mte(t){return rc.getBrowerCrypto().getRandomValues(new Uint8Array(t))}const nI=256,iI=nI,Tte=nI,$o="AES-CBC",kte=`SHA-${iI}`,a2="HMAC",Ote="encrypt",Rte="decrypt",Pte="sign",Nte="verify";function Dte(t){return t===$o?{length:iI,name:$o}:{hash:{name:kte},name:a2}}function Bte(t){return t===$o?[Ote,Rte]:[Pte,Nte]}async function Ow(t,e=$o){return rc.getSubtleCrypto().importKey("raw",t,Dte(e),!0,Bte(e))}async function Lte(t,e,r){const n=rc.getSubtleCrypto(),i=await Ow(e,$o),s=await n.encrypt({iv:t,name:$o},i,r);return new Uint8Array(s)}async function $te(t,e,r){const n=rc.getSubtleCrypto(),i=await Ow(e,$o),s=await n.decrypt({iv:t,name:$o},i,r);return new Uint8Array(s)}async function Fte(t,e){const r=rc.getSubtleCrypto(),n=await Ow(t,a2),i=await r.sign({length:Tte,name:a2},n,e);return new Uint8Array(i)}function Ute(t,e,r){return Lte(t,e,r)}function jte(t,e,r){return $te(t,e,r)}async function sI(t,e){return await Fte(t,e)}async function oI(t){const e=(t||256)/8,r=Mte(e);return Dee(tg(r))}async function aI(t,e){const r=Zc(t.data),n=Zc(t.iv),i=Zc(t.hmac),s=Jc(i,!1),o=ZC(r,n),a=await sI(e,o),c=Jc(a,!1);return Lo(s)===Lo(c)}async function Hte(t,e,r){const n=xl(s2(e)),i=r||await oI(128),s=xl(s2(i)),o=Jc(s,!1),a=JSON.stringify(t),c=Cee(a),l=await Ute(s,n,c),u=Jc(l,!1),h=ZC(l,s),b=await sI(n,h),v=Jc(b,!1);return{data:u,hmac:v,iv:o}}async function zte(t,e){const r=xl(s2(e));if(!r)throw new Error("Missing key: required for decryption");if(!await aI(t,r))return null;const i=Zc(t.data),s=Zc(t.iv),o=await jte(s,r,i),a=See(o);let c;try{c=JSON.parse(a)}catch{return null}return c}const Wte=Object.freeze(Object.defineProperty({__proto__:null,decrypt:zte,encrypt:Hte,generateKey:oI,verifyHmac:aI},Symbol.toStringTag,{value:"Module"}));class qte extends Ite{constructor(e,r){super({cryptoLib:Wte,connectorOpts:e,pushServerOpts:r})}}const Vte=Ht(dee);var Hh={},Gte=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},cI={},Jo={},Kte={}.toString,Rw=Array.isArray||function(t){return Kte.call(t)=="[object Array]"},Jte=Rw;function Zte(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}Ct.TYPED_ARRAY_SUPPORT=Zte();var s4=Ct.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Ct(t,e,r){return!Ct.TYPED_ARRAY_SUPPORT&&!(this instanceof Ct)?new Ct(t,e,r):typeof t=="number"?lI(this,t):nre(this,t,e,r)}Ct.TYPED_ARRAY_SUPPORT&&(Ct.prototype.__proto__=Uint8Array.prototype,Ct.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Ct[Symbol.species]===Ct&&Object.defineProperty(Ct,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function Pw(t){if(t>=s4)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s4.toString(16)+" bytes");return t|0}function Yte(t){return t!==t}function _l(t,e){var r;return Ct.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=Ct.prototype):(r=t,r===null&&(r=new Ct(e)),r.length=e),r}function lI(t,e){var r=_l(t,e<0?0:Pw(e)|0);if(!Ct.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)r[n]=0;return r}function Qte(t,e){var r=fI(e)|0,n=_l(t,r),i=n.write(e);return i!==r&&(n=n.slice(0,i)),n}function c2(t,e){for(var r=e.length<0?0:Pw(e.length)|0,n=_l(t,r),i=0;i<r;i+=1)n[i]=e[i]&255;return n}function Xte(t,e,r,n){if(r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var i;return r===void 0&&n===void 0?i=new Uint8Array(e):n===void 0?i=new Uint8Array(e,r):i=new Uint8Array(e,r,n),Ct.TYPED_ARRAY_SUPPORT?i.__proto__=Ct.prototype:i=c2(t,i),i}function ere(t,e){if(Ct.isBuffer(e)){var r=Pw(e.length)|0,n=_l(t,r);return n.length===0||e.copy(n,0,0,r),n}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Yte(e.length)?_l(t,0):c2(t,e);if(e.type==="Buffer"&&Array.isArray(e.data))return c2(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function uI(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function fI(t){if(Ct.isBuffer(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var e=t.length;return e===0?0:uI(t).length}function tre(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function rre(t,e,r,n){return tre(uI(e,t.length-r),t,r,n)}function nre(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Xte(t,e,r,n):typeof e=="string"?Qte(t,e):ere(t,e)}Ct.prototype.write=function(e,r,n){r===void 0?(n=this.length,r=0):n===void 0&&typeof r=="string"?(n=this.length,r=0):isFinite(r)&&(r=r|0,isFinite(n)?n=n|0:n=void 0);var i=this.length-r;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");return rre(this,e,r,n)};Ct.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(Ct.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=Ct.prototype;else{var s=r-e;i=new Ct(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+e]}return i};Ct.prototype.copy=function(e,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var s=i-n,o;if(this===e&&n<r&&r<i)for(o=s-1;o>=0;--o)e[o+r]=this[o+n];else if(s<1e3||!Ct.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+r]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),r);return s};Ct.prototype.fill=function(e,r,n){if(typeof e=="string"){if(typeof r=="string"?(r=0,n=this.length):typeof n=="string"&&(n=this.length),e.length===1){var i=e.charCodeAt(0);i<256&&(e=i)}}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{var o=Ct.isBuffer(e)?e:new Ct(e),a=o.length;for(s=0;s<n-r;++s)this[s+r]=o[s%a]}return this};Ct.concat=function(e,r){if(!Jte(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return _l(null,0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=lI(null,r),s=0;for(n=0;n<e.length;++n){var o=e[n];if(!Ct.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i};Ct.byteLength=fI;Ct.prototype._isBuffer=!0;Ct.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};Jo.alloc=function(t){var e=new Ct(t);return e.fill(0),e};Jo.from=function(t){return new Ct(t)};var ti={},Nw,ire=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ti.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ti.getSymbolTotalCodewords=function(e){return ire[e]};ti.getBCHDigit=function(t){for(var e=0;t!==0;)e++,t>>>=1;return e};ti.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Nw=e};ti.isKanjiModeEnabled=function(){return typeof Nw<"u"};ti.toSJIS=function(e){return Nw(e)};var sg={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");var n=r.toLowerCase();switch(n){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(sg);function hI(){this.buffer=[],this.length=0}hI.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var sre=hI,o4=Jo;function zh(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=o4.alloc(t*t),this.reservedBit=o4.alloc(t*t)}zh.prototype.set=function(t,e,r,n){var i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};zh.prototype.get=function(t,e){return this.data[t*this.size+e]};zh.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};zh.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var ore=zh,dI={};(function(t){var e=ti.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];for(var i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7],c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){for(var i=[],s=t.getRowColCoords(n),o=s.length,a=0;a<o;a++)for(var c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(dI);var pI={},are=ti.getSymbolSize,a4=7;pI.getPositions=function(e){var r=are(e);return[[0,0],[r-a4,0],[0,r-a4]]};var gI={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){for(var s=i.size,o=0,a=0,c=0,l=null,u=null,h=0;h<s;h++){a=c=0,l=u=null;for(var b=0;b<s;b++){var v=i.get(h,b);v===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=v,a=1),v=i.get(b,h),v===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=v,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){for(var s=i.size,o=0,a=0;a<s-1;a++)for(var c=0;c<s-1;c++){var l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){for(var s=i.size,o=0,a=0,c=0,l=0;l<s;l++){a=c=0;for(var u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){for(var s=0,o=i.data.length,a=0;a<o;a++)s+=i.data[a];var c=Math.abs(Math.ceil(s*100/o/5)-10);return c*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){for(var o=s.size,a=0;a<o;a++)for(var c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,r(i,c,a))},t.getBestMask=function(i,s){for(var o=Object.keys(t.Patterns).length,a=0,c=1/0,l=0;l<o;l++){s(l),t.applyMask(l,i);var u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(gI);var og={},So=sg,P0=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],N0=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];og.getBlocksCount=function(e,r){switch(r){case So.L:return P0[(e-1)*4+0];case So.M:return P0[(e-1)*4+1];case So.Q:return P0[(e-1)*4+2];case So.H:return P0[(e-1)*4+3];default:return}};og.getTotalCodewordsCount=function(e,r){switch(r){case So.L:return N0[(e-1)*4+0];case So.M:return N0[(e-1)*4+1];case So.Q:return N0[(e-1)*4+2];case So.H:return N0[(e-1)*4+3];default:return}};var mI={},ag={},bI=Jo,If=bI.alloc(512),cp=bI.alloc(256);(function(){for(var e=1,r=0;r<255;r++)If[r]=e,cp[e]=r,e<<=1,e&256&&(e^=285);for(r=255;r<512;r++)If[r]=If[r-255]})();ag.log=function(e){if(e<1)throw new Error("log("+e+")");return cp[e]};ag.exp=function(e){return If[e]};ag.mul=function(e,r){return e===0||r===0?0:If[cp[e]+cp[r]]};(function(t){var e=Jo,r=ag;t.mul=function(i,s){for(var o=e.alloc(i.length+s.length-1),a=0;a<i.length;a++)for(var c=0;c<s.length;c++)o[a+c]^=r.mul(i[a],s[c]);return o},t.mod=function(i,s){for(var o=e.from(i);o.length-s.length>=0;){for(var a=o[0],c=0;c<s.length;c++)o[c]^=r.mul(s[c],a);for(var l=0;l<o.length&&o[l]===0;)l++;o=o.slice(l)}return o},t.generateECPolynomial=function(i){for(var s=e.from([1]),o=0;o<i;o++)s=t.mul(s,[1,r.exp(o)]);return s}})(mI);var yI={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=wh,r=Zp,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var ee=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(ee,j),ee.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(ee){if(ee>i)throw new RangeError('The value "'+ee+'" is invalid for option "size"');var j=new Uint8Array(ee);return Object.setPrototypeOf(j,a.prototype),j}function a(ee,j,q){if(typeof ee=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(ee)}return c(ee,j,q)}a.poolSize=8192;function c(ee,j,q){if(typeof ee=="string")return b(ee,j);if(ArrayBuffer.isView(ee))return E(ee);if(ee==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee);if(ae(ee,ArrayBuffer)||ee&&ae(ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(ee,SharedArrayBuffer)||ee&&ae(ee.buffer,SharedArrayBuffer)))return D(ee,j,q);if(typeof ee=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var X=ee.valueOf&&ee.valueOf();if(X!=null&&X!==ee)return a.from(X,j,q);var ie=x(ee);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ee[Symbol.toPrimitive]=="function")return a.from(ee[Symbol.toPrimitive]("string"),j,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee)}a.from=function(ee,j,q){return c(ee,j,q)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(ee){if(typeof ee!="number")throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function u(ee,j,q){return l(ee),ee<=0?o(ee):j!==void 0?typeof q=="string"?o(ee).fill(j,q):o(ee).fill(j):o(ee)}a.alloc=function(ee,j,q){return u(ee,j,q)};function h(ee){return l(ee),o(ee<0?0:_(ee)|0)}a.allocUnsafe=function(ee){return h(ee)},a.allocUnsafeSlow=function(ee){return h(ee)};function b(ee,j){if((typeof j!="string"||j==="")&&(j="utf8"),!a.isEncoding(j))throw new TypeError("Unknown encoding: "+j);var q=w(ee,j)|0,X=o(q),ie=X.write(ee,j);return ie!==q&&(X=X.slice(0,ie)),X}function v(ee){for(var j=ee.length<0?0:_(ee.length)|0,q=o(j),X=0;X<j;X+=1)q[X]=ee[X]&255;return q}function E(ee){if(ae(ee,Uint8Array)){var j=new Uint8Array(ee);return D(j.buffer,j.byteOffset,j.byteLength)}return v(ee)}function D(ee,j,q){if(j<0||ee.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<j+(q||0))throw new RangeError('"length" is outside of buffer bounds');var X;return j===void 0&&q===void 0?X=new Uint8Array(ee):q===void 0?X=new Uint8Array(ee,j):X=new Uint8Array(ee,j,q),Object.setPrototypeOf(X,a.prototype),X}function x(ee){if(a.isBuffer(ee)){var j=_(ee.length)|0,q=o(j);return q.length===0||ee.copy(q,0,0,j),q}if(ee.length!==void 0)return typeof ee.length!="number"||ce(ee.length)?o(0):v(ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return v(ee.data)}function _(ee){if(ee>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ee|0}function m(ee){return+ee!=ee&&(ee=0),a.alloc(+ee)}a.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==a.prototype},a.compare=function(j,q){if(ae(j,Uint8Array)&&(j=a.from(j,j.offset,j.byteLength)),ae(q,Uint8Array)&&(q=a.from(q,q.offset,q.byteLength)),!a.isBuffer(j)||!a.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===q)return 0;for(var X=j.length,ie=q.length,fe=0,de=Math.min(X,ie);fe<de;++fe)if(j[fe]!==q[fe]){X=j[fe],ie=q[fe];break}return X<ie?-1:ie<X?1:0},a.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(j,q){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return a.alloc(0);var X;if(q===void 0)for(q=0,X=0;X<j.length;++X)q+=j[X].length;var ie=a.allocUnsafe(q),fe=0;for(X=0;X<j.length;++X){var de=j[X];if(ae(de,Uint8Array))fe+de.length>ie.length?a.from(de).copy(ie,fe):Uint8Array.prototype.set.call(ie,de,fe);else if(a.isBuffer(de))de.copy(ie,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=de.length}return ie};function w(ee,j){if(a.isBuffer(ee))return ee.length;if(ArrayBuffer.isView(ee)||ae(ee,ArrayBuffer))return ee.byteLength;if(typeof ee!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ee);var q=ee.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&q===0)return 0;for(var ie=!1;;)switch(j){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return K(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return U(ee).length;default:if(ie)return X?-1:K(ee).length;j=(""+j).toLowerCase(),ie=!0}}a.byteLength=w;function A(ee,j,q){var X=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,j>>>=0,q<=j))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return d(this,j,q);case"utf8":case"utf-8":return f(this,j,q);case"ascii":return M(this,j,q);case"latin1":case"binary":return C(this,j,q);case"base64":return I(this,j,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,j,q);default:if(X)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),X=!0}}a.prototype._isBuffer=!0;function k(ee,j,q){var X=ee[j];ee[j]=ee[q],ee[q]=X}a.prototype.swap16=function(){var j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var q=0;q<j;q+=2)k(this,q,q+1);return this},a.prototype.swap32=function(){var j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var q=0;q<j;q+=4)k(this,q,q+3),k(this,q+1,q+2);return this},a.prototype.swap64=function(){var j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var q=0;q<j;q+=8)k(this,q,q+7),k(this,q+1,q+6),k(this,q+2,q+5),k(this,q+3,q+4);return this},a.prototype.toString=function(){var j=this.length;return j===0?"":arguments.length===0?f(this,0,j):A.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(j){if(!a.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:a.compare(this,j)===0},a.prototype.inspect=function(){var j="",q=t.INSPECT_MAX_BYTES;return j=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(j+=" ... "),"<Buffer "+j+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(j,q,X,ie,fe){if(ae(j,Uint8Array)&&(j=a.from(j,j.offset,j.byteLength)),!a.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(q===void 0&&(q=0),X===void 0&&(X=j?j.length:0),ie===void 0&&(ie=0),fe===void 0&&(fe=this.length),q<0||X>j.length||ie<0||fe>this.length)throw new RangeError("out of range index");if(ie>=fe&&q>=X)return 0;if(ie>=fe)return-1;if(q>=X)return 1;if(q>>>=0,X>>>=0,ie>>>=0,fe>>>=0,this===j)return 0;for(var de=fe-ie,ge=X-q,be=Math.min(de,ge),Ae=this.slice(ie,fe),we=j.slice(q,X),J=0;J<be;++J)if(Ae[J]!==we[J]){de=Ae[J],ge=we[J];break}return de<ge?-1:ge<de?1:0};function z(ee,j,q,X,ie){if(ee.length===0)return-1;if(typeof q=="string"?(X=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,ce(q)&&(q=ie?0:ee.length-1),q<0&&(q=ee.length+q),q>=ee.length){if(ie)return-1;q=ee.length-1}else if(q<0)if(ie)q=0;else return-1;if(typeof j=="string"&&(j=a.from(j,X)),a.isBuffer(j))return j.length===0?-1:S(ee,j,q,X,ie);if(typeof j=="number")return j=j&255,typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call(ee,j,q):Uint8Array.prototype.lastIndexOf.call(ee,j,q):S(ee,[j],q,X,ie);throw new TypeError("val must be string, number or Buffer")}function S(ee,j,q,X,ie){var fe=1,de=ee.length,ge=j.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(ee.length<2||j.length<2)return-1;fe=2,de/=2,ge/=2,q/=2}function be(F,te){return fe===1?F[te]:F.readUInt16BE(te*fe)}var Ae;if(ie){var we=-1;for(Ae=q;Ae<de;Ae++)if(be(ee,Ae)===be(j,we===-1?0:Ae-we)){if(we===-1&&(we=Ae),Ae-we+1===ge)return we*fe}else we!==-1&&(Ae-=Ae-we),we=-1}else for(q+ge>de&&(q=de-ge),Ae=q;Ae>=0;Ae--){for(var J=!0,$=0;$<ge;$++)if(be(ee,Ae+$)!==be(j,$)){J=!1;break}if(J)return Ae}return-1}a.prototype.includes=function(j,q,X){return this.indexOf(j,q,X)!==-1},a.prototype.indexOf=function(j,q,X){return z(this,j,q,X,!0)},a.prototype.lastIndexOf=function(j,q,X){return z(this,j,q,X,!1)};function H(ee,j,q,X){q=Number(q)||0;var ie=ee.length-q;X?(X=Number(X),X>ie&&(X=ie)):X=ie;var fe=j.length;X>fe/2&&(X=fe/2);for(var de=0;de<X;++de){var ge=parseInt(j.substr(de*2,2),16);if(ce(ge))return de;ee[q+de]=ge}return de}function re(ee,j,q,X){return Z(K(j,ee.length-q),ee,q,X)}function W(ee,j,q,X){return Z(Y(j),ee,q,X)}function y(ee,j,q,X){return Z(U(j),ee,q,X)}function R(ee,j,q,X){return Z(N(j,ee.length-q),ee,q,X)}a.prototype.write=function(j,q,X,ie){if(q===void 0)ie="utf8",X=this.length,q=0;else if(X===void 0&&typeof q=="string")ie=q,X=this.length,q=0;else if(isFinite(q))q=q>>>0,isFinite(X)?(X=X>>>0,ie===void 0&&(ie="utf8")):(ie=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var fe=this.length-q;if((X===void 0||X>fe)&&(X=fe),j.length>0&&(X<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");for(var de=!1;;)switch(ie){case"hex":return H(this,j,q,X);case"utf8":case"utf-8":return re(this,j,q,X);case"ascii":case"latin1":case"binary":return W(this,j,q,X);case"base64":return y(this,j,q,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,j,q,X);default:if(de)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),de=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(ee,j,q){return j===0&&q===ee.length?e.fromByteArray(ee):e.fromByteArray(ee.slice(j,q))}function f(ee,j,q){q=Math.min(ee.length,q);for(var X=[],ie=j;ie<q;){var fe=ee[ie],de=null,ge=fe>239?4:fe>223?3:fe>191?2:1;if(ie+ge<=q){var be,Ae,we,J;switch(ge){case 1:fe<128&&(de=fe);break;case 2:be=ee[ie+1],(be&192)===128&&(J=(fe&31)<<6|be&63,J>127&&(de=J));break;case 3:be=ee[ie+1],Ae=ee[ie+2],(be&192)===128&&(Ae&192)===128&&(J=(fe&15)<<12|(be&63)<<6|Ae&63,J>2047&&(J<55296||J>57343)&&(de=J));break;case 4:be=ee[ie+1],Ae=ee[ie+2],we=ee[ie+3],(be&192)===128&&(Ae&192)===128&&(we&192)===128&&(J=(fe&15)<<18|(be&63)<<12|(Ae&63)<<6|we&63,J>65535&&J<1114112&&(de=J))}}de===null?(de=65533,ge=1):de>65535&&(de-=65536,X.push(de>>>10&1023|55296),de=56320|de&1023),X.push(de),ie+=ge}return T(X)}var p=4096;function T(ee){var j=ee.length;if(j<=p)return String.fromCharCode.apply(String,ee);for(var q="",X=0;X<j;)q+=String.fromCharCode.apply(String,ee.slice(X,X+=p));return q}function M(ee,j,q){var X="";q=Math.min(ee.length,q);for(var ie=j;ie<q;++ie)X+=String.fromCharCode(ee[ie]&127);return X}function C(ee,j,q){var X="";q=Math.min(ee.length,q);for(var ie=j;ie<q;++ie)X+=String.fromCharCode(ee[ie]);return X}function d(ee,j,q){var X=ee.length;(!j||j<0)&&(j=0),(!q||q<0||q>X)&&(q=X);for(var ie="",fe=j;fe<q;++fe)ie+=pe[ee[fe]];return ie}function B(ee,j,q){for(var X=ee.slice(j,q),ie="",fe=0;fe<X.length-1;fe+=2)ie+=String.fromCharCode(X[fe]+X[fe+1]*256);return ie}a.prototype.slice=function(j,q){var X=this.length;j=~~j,q=q===void 0?X:~~q,j<0?(j+=X,j<0&&(j=0)):j>X&&(j=X),q<0?(q+=X,q<0&&(q=0)):q>X&&(q=X),q<j&&(q=j);var ie=this.subarray(j,q);return Object.setPrototypeOf(ie,a.prototype),ie};function O(ee,j,q){if(ee%1!==0||ee<0)throw new RangeError("offset is not uint");if(ee+j>q)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(j,q,X){j=j>>>0,q=q>>>0,X||O(j,q,this.length);for(var ie=this[j],fe=1,de=0;++de<q&&(fe*=256);)ie+=this[j+de]*fe;return ie},a.prototype.readUintBE=a.prototype.readUIntBE=function(j,q,X){j=j>>>0,q=q>>>0,X||O(j,q,this.length);for(var ie=this[j+--q],fe=1;q>0&&(fe*=256);)ie+=this[j+--q]*fe;return ie},a.prototype.readUint8=a.prototype.readUInt8=function(j,q){return j=j>>>0,q||O(j,1,this.length),this[j]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(j,q){return j=j>>>0,q||O(j,2,this.length),this[j]|this[j+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(j,q){return j=j>>>0,q||O(j,2,this.length),this[j]<<8|this[j+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(j,q){return j=j>>>0,q||O(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(j,q){return j=j>>>0,q||O(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},a.prototype.readIntLE=function(j,q,X){j=j>>>0,q=q>>>0,X||O(j,q,this.length);for(var ie=this[j],fe=1,de=0;++de<q&&(fe*=256);)ie+=this[j+de]*fe;return fe*=128,ie>=fe&&(ie-=Math.pow(2,8*q)),ie},a.prototype.readIntBE=function(j,q,X){j=j>>>0,q=q>>>0,X||O(j,q,this.length);for(var ie=q,fe=1,de=this[j+--ie];ie>0&&(fe*=256);)de+=this[j+--ie]*fe;return fe*=128,de>=fe&&(de-=Math.pow(2,8*q)),de},a.prototype.readInt8=function(j,q){return j=j>>>0,q||O(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},a.prototype.readInt16LE=function(j,q){j=j>>>0,q||O(j,2,this.length);var X=this[j]|this[j+1]<<8;return X&32768?X|4294901760:X},a.prototype.readInt16BE=function(j,q){j=j>>>0,q||O(j,2,this.length);var X=this[j+1]|this[j]<<8;return X&32768?X|4294901760:X},a.prototype.readInt32LE=function(j,q){return j=j>>>0,q||O(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},a.prototype.readInt32BE=function(j,q){return j=j>>>0,q||O(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},a.prototype.readFloatLE=function(j,q){return j=j>>>0,q||O(j,4,this.length),r.read(this,j,!0,23,4)},a.prototype.readFloatBE=function(j,q){return j=j>>>0,q||O(j,4,this.length),r.read(this,j,!1,23,4)},a.prototype.readDoubleLE=function(j,q){return j=j>>>0,q||O(j,8,this.length),r.read(this,j,!0,52,8)},a.prototype.readDoubleBE=function(j,q){return j=j>>>0,q||O(j,8,this.length),r.read(this,j,!1,52,8)};function g(ee,j,q,X,ie,fe){if(!a.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>ie||j<fe)throw new RangeError('"value" argument is out of bounds');if(q+X>ee.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(j,q,X,ie){if(j=+j,q=q>>>0,X=X>>>0,!ie){var fe=Math.pow(2,8*X)-1;g(this,j,q,X,fe,0)}var de=1,ge=0;for(this[q]=j&255;++ge<X&&(de*=256);)this[q+ge]=j/de&255;return q+X},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(j,q,X,ie){if(j=+j,q=q>>>0,X=X>>>0,!ie){var fe=Math.pow(2,8*X)-1;g(this,j,q,X,fe,0)}var de=X-1,ge=1;for(this[q+de]=j&255;--de>=0&&(ge*=256);)this[q+de]=j/ge&255;return q+X},a.prototype.writeUint8=a.prototype.writeUInt8=function(j,q,X){return j=+j,q=q>>>0,X||g(this,j,q,1,255,0),this[q]=j&255,q+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(j,q,X){return j=+j,q=q>>>0,X||g(this,j,q,2,65535,0),this[q]=j&255,this[q+1]=j>>>8,q+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(j,q,X){return j=+j,q=q>>>0,X||g(this,j,q,2,65535,0),this[q]=j>>>8,this[q+1]=j&255,q+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(j,q,X){return j=+j,q=q>>>0,X||g(this,j,q,4,4294967295,0),this[q+3]=j>>>24,this[q+2]=j>>>16,this[q+1]=j>>>8,this[q]=j&255,q+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(j,q,X){return j=+j,q=q>>>0,X||g(this,j,q,4,4294967295,0),this[q]=j>>>24,this[q+1]=j>>>16,this[q+2]=j>>>8,this[q+3]=j&255,q+4},a.prototype.writeIntLE=function(j,q,X,ie){if(j=+j,q=q>>>0,!ie){var fe=Math.pow(2,8*X-1);g(this,j,q,X,fe-1,-fe)}var de=0,ge=1,be=0;for(this[q]=j&255;++de<X&&(ge*=256);)j<0&&be===0&&this[q+de-1]!==0&&(be=1),this[q+de]=(j/ge>>0)-be&255;return q+X},a.prototype.writeIntBE=function(j,q,X,ie){if(j=+j,q=q>>>0,!ie){var fe=Math.pow(2,8*X-1);g(this,j,q,X,fe-1,-fe)}var de=X-1,ge=1,be=0;for(this[q+de]=j&255;--de>=0&&(ge*=256);)j<0&&be===0&&this[q+de+1]!==0&&(be=1),this[q+de]=(j/ge>>0)-be&255;return q+X},a.prototype.writeInt8=function(j,q,X){return j=+j,q=q>>>0,X||g(this,j,q,1,127,-128),j<0&&(j=255+j+1),this[q]=j&255,q+1},a.prototype.writeInt16LE=function(j,q,X){return j=+j,q=q>>>0,X||g(this,j,q,2,32767,-32768),this[q]=j&255,this[q+1]=j>>>8,q+2},a.prototype.writeInt16BE=function(j,q,X){return j=+j,q=q>>>0,X||g(this,j,q,2,32767,-32768),this[q]=j>>>8,this[q+1]=j&255,q+2},a.prototype.writeInt32LE=function(j,q,X){return j=+j,q=q>>>0,X||g(this,j,q,4,2147483647,-2147483648),this[q]=j&255,this[q+1]=j>>>8,this[q+2]=j>>>16,this[q+3]=j>>>24,q+4},a.prototype.writeInt32BE=function(j,q,X){return j=+j,q=q>>>0,X||g(this,j,q,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[q]=j>>>24,this[q+1]=j>>>16,this[q+2]=j>>>8,this[q+3]=j&255,q+4};function L(ee,j,q,X,ie,fe){if(q+X>ee.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function Q(ee,j,q,X,ie){return j=+j,q=q>>>0,ie||L(ee,j,q,4),r.write(ee,j,q,X,23,4),q+4}a.prototype.writeFloatLE=function(j,q,X){return Q(this,j,q,!0,X)},a.prototype.writeFloatBE=function(j,q,X){return Q(this,j,q,!1,X)};function P(ee,j,q,X,ie){return j=+j,q=q>>>0,ie||L(ee,j,q,8),r.write(ee,j,q,X,52,8),q+8}a.prototype.writeDoubleLE=function(j,q,X){return P(this,j,q,!0,X)},a.prototype.writeDoubleBE=function(j,q,X){return P(this,j,q,!1,X)},a.prototype.copy=function(j,q,X,ie){if(!a.isBuffer(j))throw new TypeError("argument should be a Buffer");if(X||(X=0),!ie&&ie!==0&&(ie=this.length),q>=j.length&&(q=j.length),q||(q=0),ie>0&&ie<X&&(ie=X),ie===X||j.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),j.length-q<ie-X&&(ie=j.length-q+X);var fe=ie-X;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(q,X,ie):Uint8Array.prototype.set.call(j,this.subarray(X,ie),q),fe},a.prototype.fill=function(j,q,X,ie){if(typeof j=="string"){if(typeof q=="string"?(ie=q,q=0,X=this.length):typeof X=="string"&&(ie=X,X=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!a.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(j.length===1){var fe=j.charCodeAt(0);(ie==="utf8"&&fe<128||ie==="latin1")&&(j=fe)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(q<0||this.length<q||this.length<X)throw new RangeError("Out of range index");if(X<=q)return this;q=q>>>0,X=X===void 0?this.length:X>>>0,j||(j=0);var de;if(typeof j=="number")for(de=q;de<X;++de)this[de]=j;else{var ge=a.isBuffer(j)?j:a.from(j,ie),be=ge.length;if(be===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(de=0;de<X-q;++de)this[de+q]=ge[de%be]}return this};var G=/[^+/0-9A-Za-z-_]/g;function V(ee){if(ee=ee.split("=")[0],ee=ee.trim().replace(G,""),ee.length<2)return"";for(;ee.length%4!==0;)ee=ee+"=";return ee}function K(ee,j){j=j||1/0;for(var q,X=ee.length,ie=null,fe=[],de=0;de<X;++de){if(q=ee.charCodeAt(de),q>55295&&q<57344){if(!ie){if(q>56319){(j-=3)>-1&&fe.push(239,191,189);continue}else if(de+1===X){(j-=3)>-1&&fe.push(239,191,189);continue}ie=q;continue}if(q<56320){(j-=3)>-1&&fe.push(239,191,189),ie=q;continue}q=(ie-55296<<10|q-56320)+65536}else ie&&(j-=3)>-1&&fe.push(239,191,189);if(ie=null,q<128){if((j-=1)<0)break;fe.push(q)}else if(q<2048){if((j-=2)<0)break;fe.push(q>>6|192,q&63|128)}else if(q<65536){if((j-=3)<0)break;fe.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((j-=4)<0)break;fe.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return fe}function Y(ee){for(var j=[],q=0;q<ee.length;++q)j.push(ee.charCodeAt(q)&255);return j}function N(ee,j){for(var q,X,ie,fe=[],de=0;de<ee.length&&!((j-=2)<0);++de)q=ee.charCodeAt(de),X=q>>8,ie=q%256,fe.push(ie),fe.push(X);return fe}function U(ee){return e.toByteArray(V(ee))}function Z(ee,j,q,X){for(var ie=0;ie<X&&!(ie+q>=j.length||ie>=ee.length);++ie)j[ie+q]=ee[ie];return ie}function ae(ee,j){return ee instanceof j||ee!=null&&ee.constructor!=null&&ee.constructor.name!=null&&ee.constructor.name===j.name}function ce(ee){return ee!==ee}var pe=function(){for(var ee="0123456789abcdef",j=new Array(256),q=0;q<16;++q)for(var X=q*16,ie=0;ie<16;++ie)j[X+ie]=ee[q]+ee[ie];return j}()})(yI);var c4=Jo,vI=mI,cre=yI.Buffer;function Dw(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Dw.prototype.initialize=function(e){this.degree=e,this.genPoly=vI.generateECPolynomial(this.degree)};Dw.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var r=c4.alloc(this.degree),n=cre.concat([e,r],e.length+this.degree),i=vI.mod(n,this.genPoly),s=this.degree-i.length;if(s>0){var o=c4.alloc(this.degree);return i.copy(o,s),o}return i};var lre=Dw,wI={},Zo={},Bw={};Bw.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Is={},xI="[0-9]+",ure="[A-Z $%*+\\-./:]+",eh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";eh=eh.replace(/u/g,"\\u");var fre="(?:(?![A-Z0-9 $%*+\\-./:]|"+eh+`)(?:.|[\r
]))+`;Is.KANJI=new RegExp(eh,"g");Is.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Is.BYTE=new RegExp(fre,"g");Is.NUMERIC=new RegExp(xI,"g");Is.ALPHANUMERIC=new RegExp(ure,"g");var hre=new RegExp("^"+eh+"$"),dre=new RegExp("^"+xI+"$"),pre=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Is.testKanji=function(e){return hre.test(e)};Is.testNumeric=function(e){return dre.test(e)};Is.testAlphanumeric=function(e){return pre.test(e)};(function(t){var e=Bw,r=Is;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");var s=i.toLowerCase();switch(s){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(Zo);(function(t){var e=ti,r=og,n=sg,i=Zo,s=Bw,o=Rw,a=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,c=e.getBCHDigit(a);function l(v,E,D){for(var x=1;x<=40;x++)if(E<=t.getCapacity(x,D,v))return x}function u(v,E){return i.getCharCountIndicator(v,E)+4}function h(v,E){var D=0;return v.forEach(function(x){var _=u(x.mode,E);D+=_+x.getBitsLength()}),D}function b(v,E){for(var D=1;D<=40;D++){var x=h(v,D);if(x<=t.getCapacity(D,E,i.MIXED))return D}}t.from=function(E,D){return s.isValid(E)?parseInt(E,10):D},t.getCapacity=function(E,D,x){if(!s.isValid(E))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=i.BYTE);var _=e.getSymbolTotalCodewords(E),m=r.getTotalCodewordsCount(E,D),w=(_-m)*8;if(x===i.MIXED)return w;var A=w-u(x,E);switch(x){case i.NUMERIC:return Math.floor(A/10*3);case i.ALPHANUMERIC:return Math.floor(A/11*2);case i.KANJI:return Math.floor(A/13);case i.BYTE:default:return Math.floor(A/8)}},t.getBestVersionForData=function(E,D){var x,_=n.from(D,n.M);if(o(E)){if(E.length>1)return b(E,_);if(E.length===0)return 1;x=E[0]}else x=E;return l(x.mode,x.getLength(),_)},t.getEncodedBits=function(E){if(!s.isValid(E)||E<7)throw new Error("Invalid QR Code version");for(var D=E<<12;e.getBCHDigit(D)-c>=0;)D^=a<<e.getBCHDigit(D)-c;return E<<12|D}})(wI);var _I={},l2=ti,EI=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,gre=1<<14|1<<12|1<<10|1<<4|1<<1,l4=l2.getBCHDigit(EI);_I.getEncodedBits=function(e,r){for(var n=e.bit<<3|r,i=n<<10;l2.getBCHDigit(i)-l4>=0;)i^=EI<<l2.getBCHDigit(i)-l4;return(n<<10|i)^gre};var SI={},mre=Zo;function El(t){this.mode=mre.NUMERIC,this.data=t.toString()}El.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};El.prototype.getLength=function(){return this.data.length};El.prototype.getBitsLength=function(){return El.getBitsLength(this.data.length)};El.prototype.write=function(e){var r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);var s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};var bre=El,yre=Zo,zm=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Sl(t){this.mode=yre.ALPHANUMERIC,this.data=t}Sl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Sl.prototype.getLength=function(){return this.data.length};Sl.prototype.getBitsLength=function(){return Sl.getBitsLength(this.data.length)};Sl.prototype.write=function(e){var r;for(r=0;r+2<=this.data.length;r+=2){var n=zm.indexOf(this.data[r])*45;n+=zm.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(zm.indexOf(this.data[r]),6)};var vre=Sl,wre=Jo,xre=Zo;function Al(t){this.mode=xre.BYTE,this.data=wre.from(t)}Al.getBitsLength=function(e){return e*8};Al.prototype.getLength=function(){return this.data.length};Al.prototype.getBitsLength=function(){return Al.getBitsLength(this.data.length)};Al.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var _re=Al,Ere=Zo,Sre=ti;function Cl(t){this.mode=Ere.KANJI,this.data=t}Cl.getBitsLength=function(e){return e*13};Cl.prototype.getLength=function(){return this.data.length};Cl.prototype.getBitsLength=function(){return Cl.getBitsLength(this.data.length)};Cl.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=Sre.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var Are=Cl,lp={},Cre={get exports(){return lp},set exports(t){lp=t}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,l,u,h,b,v,E,D,x;!a.empty();){c=a.pop(),l=c.value,h=c.cost,b=r[l]||{};for(u in b)b.hasOwnProperty(u)&&(v=b[u],E=h+v,D=o[u],x=typeof o[u]>"u",(x||D>E)&&(o[u]=E,a.push(u,E),s[u]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var _=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(_)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Cre);(function(t){var e=Zo,r=bre,n=vre,i=_re,s=Are,o=Is,a=ti,c=lp;function l(_){return unescape(encodeURIComponent(_)).length}function u(_,m,w){for(var A=[],k;(k=_.exec(w))!==null;)A.push({data:k[0],index:k.index,mode:m,length:k[0].length});return A}function h(_){var m=u(o.NUMERIC,e.NUMERIC,_),w=u(o.ALPHANUMERIC,e.ALPHANUMERIC,_),A,k;a.isKanjiModeEnabled()?(A=u(o.BYTE,e.BYTE,_),k=u(o.KANJI,e.KANJI,_)):(A=u(o.BYTE_KANJI,e.BYTE,_),k=[]);var z=m.concat(w,A,k);return z.sort(function(S,H){return S.index-H.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function b(_,m){switch(m){case e.NUMERIC:return r.getBitsLength(_);case e.ALPHANUMERIC:return n.getBitsLength(_);case e.KANJI:return s.getBitsLength(_);case e.BYTE:return i.getBitsLength(_)}}function v(_){return _.reduce(function(m,w){var A=m.length-1>=0?m[m.length-1]:null;return A&&A.mode===w.mode?(m[m.length-1].data+=w.data,m):(m.push(w),m)},[])}function E(_){for(var m=[],w=0;w<_.length;w++){var A=_[w];switch(A.mode){case e.NUMERIC:m.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:m.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:m.push([A,{data:A.data,mode:e.BYTE,length:l(A.data)}]);break;case e.BYTE:m.push([{data:A.data,mode:e.BYTE,length:l(A.data)}])}}return m}function D(_,m){for(var w={},A={start:{}},k=["start"],z=0;z<_.length;z++){for(var S=_[z],H=[],re=0;re<S.length;re++){var W=S[re],y=""+z+re;H.push(y),w[y]={node:W,lastCount:0},A[y]={};for(var R=0;R<k.length;R++){var I=k[R];w[I]&&w[I].node.mode===W.mode?(A[I][y]=b(w[I].lastCount+W.length,W.mode)-b(w[I].lastCount,W.mode),w[I].lastCount+=W.length):(w[I]&&(w[I].lastCount=W.length),A[I][y]=b(W.length,W.mode)+4+e.getCharCountIndicator(W.mode,m))}}k=H}for(R=0;R<k.length;R++)A[k[R]].end=0;return{map:A,table:w}}function x(_,m){var w,A=e.getBestModeForData(_);if(w=e.from(m,A),w!==e.BYTE&&w.bit<A.bit)throw new Error('"'+_+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(A));switch(w===e.KANJI&&!a.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new r(_);case e.ALPHANUMERIC:return new n(_);case e.KANJI:return new s(_);case e.BYTE:return new i(_)}}t.fromArray=function(m){return m.reduce(function(w,A){return typeof A=="string"?w.push(x(A,null)):A.data&&w.push(x(A.data,A.mode)),w},[])},t.fromString=function(m,w){for(var A=h(m,a.isKanjiModeEnabled()),k=E(A),z=D(k,w),S=c.find_path(z.map,"start","end"),H=[],re=1;re<S.length-1;re++)H.push(z.table[S[re]].node);return t.fromArray(v(H))},t.rawSplit=function(m){return t.fromArray(h(m,a.isKanjiModeEnabled()))}})(SI);var u4=Jo,cg=ti,Wm=sg,Ire=sre,Mre=ore,Tre=dI,kre=pI,u2=gI,f2=og,Ore=lre,up=wI,Rre=_I,Pre=Zo,qm=SI,Nre=Rw;function Dre(t,e){for(var r=t.size,n=kre.getPositions(e),i=0;i<n.length;i++)for(var s=n[i][0],o=n[i][1],a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(var c=-1;c<=7;c++)o+c<=-1||r<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}function Bre(t){for(var e=t.size,r=8;r<e-8;r++){var n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function Lre(t,e){for(var r=Tre.getPositions(e),n=0;n<r.length;n++)for(var i=r[n][0],s=r[n][1],o=-2;o<=2;o++)for(var a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}function $re(t,e){for(var r=t.size,n=up.getEncodedBits(e),i,s,o,a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function Vm(t,e,r){var n=t.size,i=Rre.getEncodedBits(e,r),s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function Fre(t,e){for(var r=t.size,n=-1,i=r-1,s=7,o=0,a=r-1;a>0;a-=2)for(a===6&&a--;;){for(var c=0;c<2;c++)if(!t.isReserved(i,a-c)){var l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function Ure(t,e,r){var n=new Ire;r.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),Pre.getCharCountIndicator(l.mode,t)),l.write(n)});var i=cg.getSymbolTotalCodewords(t),s=f2.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var a=(o-n.getLengthInBits())/8,c=0;c<a;c++)n.put(c%2?17:236,8);return jre(n,t,e)}function jre(t,e,r){for(var n=cg.getSymbolTotalCodewords(e),i=f2.getTotalCodewordsCount(e,r),s=n-i,o=f2.getBlocksCount(e,r),a=n%o,c=o-a,l=Math.floor(n/o),u=Math.floor(s/o),h=u+1,b=l-u,v=new Ore(b),E=0,D=new Array(o),x=new Array(o),_=0,m=u4.from(t.buffer),w=0;w<o;w++){var A=w<c?u:h;D[w]=m.slice(E,E+A),x[w]=v.encode(D[w]),E+=A,_=Math.max(_,A)}var k=u4.alloc(n),z=0,S,H;for(S=0;S<_;S++)for(H=0;H<o;H++)S<D[H].length&&(k[z++]=D[H][S]);for(S=0;S<b;S++)for(H=0;H<o;H++)k[z++]=x[H][S];return k}function Hre(t,e,r,n){var i;if(Nre(t))i=qm.fromArray(t);else if(typeof t=="string"){var s=e;if(!s){var o=qm.rawSplit(t);s=up.getBestVersionForData(o,r)}i=qm.fromString(t,s||40)}else throw new Error("Invalid data");var a=up.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=a;else if(e<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);var c=Ure(e,r,i),l=cg.getSymbolSize(e),u=new Mre(l);return Dre(u,e),Bre(u),Lre(u,e),Vm(u,r,0),e>=7&&$re(u,e),Fre(u,c),isNaN(n)&&(n=u2.getBestMask(u,Vm.bind(null,u,r))),u2.applyMask(n,u),Vm(u,r,n),{modules:u,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}cI.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");var n=Wm.M,i,s;return typeof r<"u"&&(n=Wm.from(r.errorCorrectionLevel,Wm.M),i=up.from(r.version),s=u2.from(r.maskPattern),r.toSJISFunc&&cg.setToSJISFunction(r.toSJISFunc)),Hre(e,i,n,s)};var AI={},Lw={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");var n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");var i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});var i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){var s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){for(var o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,h=[s.color.light,s.color.dark],b=0;b<l;b++)for(var v=0;v<l;v++){var E=(b*l+v)*4,D=s.color.light;if(b>=u&&v>=u&&b<l-u&&v<l-u){var x=Math.floor((b-u)/c),_=Math.floor((v-u)/c);D=h[a[x*o+_]?1:0]}n[E++]=D.r,n[E++]=D.g,n[E++]=D.b,n[E]=D.a}}})(Lw);(function(t){var e=Lw;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){var c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=n()),c=e.getOptions(c);var u=e.getImageWidth(s.modules.size,c),h=l.getContext("2d"),b=h.createImageData(u,u);return e.qrToImageData(b.data,s,c),r(h,l,u),h.putImageData(b,0,0),l},t.renderToDataURL=function(s,o,a){var c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});var l=t.render(s,o,c),u=c.type||"image/png",h=c.rendererOpts||{};return l.toDataURL(u,h.quality)}})(AI);var CI={},zre=Lw;function f4(t,e){var r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Gm(t,e,r){var n=t+e;return typeof r<"u"&&(n+=" "+r),n}function Wre(t,e,r){for(var n="",i=0,s=!1,o=0,a=0;a<t.length;a++){var c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(n+=s?Gm("M",c+r,.5+l+r):Gm("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(n+=Gm("h",o),o=0)):i++}return n}CI.render=function(e,r,n){var i=zre.getOptions(r),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+f4(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+f4(i.color.dark,"stroke")+' d="'+Wre(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',h=i.width?'width="'+i.width+'" height="'+i.width+'" ':"",b='<svg xmlns="http://www.w3.org/2000/svg" '+h+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof n=="function"&&n(null,b),b};var qre=Gte,h2=cI,II=AI,Vre=CI;function $w(t,e,r,n,i){var s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!qre())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(l,u){try{var h=h2.create(r,n);l(t(h,e,n))}catch(b){u(b)}})}try{var c=h2.create(r,n);i(null,t(c,e,n))}catch(l){i(l)}}Hh.create=h2.create;Hh.toCanvas=$w.bind(null,II.render);Hh.toDataURL=$w.bind(null,II.renderToDataURL);Hh.toString=$w.bind(null,function(t,e,r){return Vre.render(t,r)});var Gre=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(i){t.addRange(i)}),e&&e.focus()}},Kre=Gre,h4={"text/plain":"Text","text/html":"Url",default:"Text"},Jre="Copy to clipboard: #{key}, Enter";function Zre(t){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function Yre(t,e){var r,n,i,s,o,a,c=!1;e||(e={}),r=e.debug||!1;try{i=Kre(),s=document.createRange(),o=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=h4[e.format]||h4.default;window.clipboardData.setData(h,t)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,t);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(a),s.selectNodeContents(a),o.addRange(s);var l=document.execCommand("copy");if(!l)throw new Error("copy command was unsuccessful");c=!0}catch(u){r&&console.error("unable to copy using execCommand: ",u),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),c=!0}catch(h){r&&console.error("unable to copy using clipboardData: ",h),r&&console.error("falling back to prompt"),n=Zre("message"in e?e.message:Jre),window.prompt(n,t)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(s):o.removeAllRanges()),a&&document.body.removeChild(a),i()}return c}var Qre=Yre,it,Mf,Fw,MI,d4,Uw,TI,Ks={},lg=[],Xre=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Ws(t,e){for(var r in e)t[r]=e[r];return t}function kI(t){var e=t.parentNode;e&&e.removeChild(t)}function io(t,e,r){var n,i=arguments,s={};for(n in e)n!=="key"&&n!=="ref"&&(s[n]=e[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(i[n]);if(r!=null&&(s.children=r),typeof t=="function"&&t.defaultProps!=null)for(n in t.defaultProps)s[n]===void 0&&(s[n]=t.defaultProps[n]);return fp(t,s,e&&e.key,e&&e.ref,null)}function fp(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return i==null&&(s.__v=s),it.vnode&&it.vnode(s),s}function OI(){return{}}function Wh(t){return t.children}function ji(t,e){this.props=t,this.context=e}function th(t,e){if(e==null)return t.__?th(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?th(t):null}function RI(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return RI(t)}}function Sd(t){(!t.__d&&(t.__d=!0)&&Mf.push(t)&&!Fw++||d4!==it.debounceRendering)&&((d4=it.debounceRendering)||MI)(ene)}function ene(){for(var t;Fw=Mf.length;)t=Mf.sort(function(e,r){return e.__v.__b-r.__v.__b}),Mf=[],t.some(function(e){var r,n,i,s,o,a,c;e.__d&&(a=(o=(r=e).__v).__e,(c=r.__P)&&(n=[],(i=Ws({},o)).__v=i,s=jw(c,o,i,r.__n,c.ownerSVGElement!==void 0,null,n,a??th(o)),NI(n,o),s!=a&&RI(o)))})}function PI(t,e,r,n,i,s,o,a,c){var l,u,h,b,v,E,D,x=r&&r.__k||lg,_=x.length;if(a==Ks&&(a=s!=null?s[0]:_?th(r,0):null),l=0,e.__k=Mo(e.__k,function(m){if(m!=null){if(m.__=e,m.__b=e.__b+1,(h=x[l])===null||h&&m.key==h.key&&m.type===h.type)x[l]=void 0;else for(u=0;u<_;u++){if((h=x[u])&&m.key==h.key&&m.type===h.type){x[u]=void 0;break}h=null}if(b=jw(t,m,h=h||Ks,n,i,s,o,a,c),(u=m.ref)&&h.ref!=u&&(D||(D=[]),h.ref&&D.push(h.ref,null,m),D.push(u,m.__c||b,m)),b!=null){var w;if(E==null&&(E=b),m.__d!==void 0)w=m.__d,m.__d=void 0;else if(s==h||b!=a||b.parentNode==null){e:if(a==null||a.parentNode!==t)t.appendChild(b),w=null;else{for(v=a,u=0;(v=v.nextSibling)&&u<_;u+=2)if(v==b)break e;t.insertBefore(b,a),w=a}e.type=="option"&&(t.value="")}a=w!==void 0?w:b.nextSibling,typeof e.type=="function"&&(e.__d=a)}else a&&h.__e==a&&a.parentNode!=t&&(a=th(h))}return l++,m}),e.__e=E,s!=null&&typeof e.type!="function")for(l=s.length;l--;)s[l]!=null&&kI(s[l]);for(l=_;l--;)x[l]!=null&&Tf(x[l],x[l]);if(D)for(l=0;l<D.length;l++)DI(D[l],D[++l],D[++l])}function Mo(t,e,r){if(r==null&&(r=[]),t==null||typeof t=="boolean")e&&r.push(e(null));else if(Array.isArray(t))for(var n=0;n<t.length;n++)Mo(t[n],e,r);else r.push(e?e(typeof t=="string"||typeof t=="number"?fp(null,t,null,null,t):t.__e!=null||t.__c!=null?fp(t.type,t.props,t.key,null,t.__v):t):t);return r}function tne(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||hp(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||hp(t,s,e[s],r[s],n)}function p4(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=typeof r=="number"&&Xre.test(e)===!1?r+"px":r??""}function hp(t,e,r,n,i){var s,o,a,c,l;if(i?e==="className"&&(e="class"):e==="class"&&(e="className"),e==="style")if(s=t.style,typeof r=="string")s.cssText=r;else{if(typeof n=="string"&&(s.cssText="",n=null),n)for(c in n)r&&c in r||p4(s,c,"");if(r)for(l in r)n&&r[l]===n[l]||p4(s,l,r[l])}else e[0]==="o"&&e[1]==="n"?(o=e!==(e=e.replace(/Capture$/,"")),a=e.toLowerCase(),e=(a in t?a:e).slice(2),r?(n||t.addEventListener(e,g4,o),(t.l||(t.l={}))[e]=r):t.removeEventListener(e,g4,o)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&!i&&e in t?t[e]=r??"":typeof r!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?r==null||r===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):r==null||r===!1&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,r))}function g4(t){this.l[t.type](it.event?it.event(t):t)}function jw(t,e,r,n,i,s,o,a,c){var l,u,h,b,v,E,D,x,_,m,w=e.type;if(e.constructor!==void 0)return null;(l=it.__b)&&l(e);try{e:if(typeof w=="function"){if(x=e.props,_=(l=w.contextType)&&n[l.__c],m=l?_?_.props.value:l.__:n,r.__c?D=(u=e.__c=r.__c).__=u.__E:("prototype"in w&&w.prototype.render?e.__c=u=new w(x,m):(e.__c=u=new ji(x,m),u.constructor=w,u.render=nne),_&&_.sub(u),u.props=x,u.state||(u.state={}),u.context=m,u.__n=n,h=u.__d=!0,u.__h=[]),u.__s==null&&(u.__s=u.state),w.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Ws({},u.__s)),Ws(u.__s,w.getDerivedStateFromProps(x,u.__s))),b=u.props,v=u.state,h)w.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(w.getDerivedStateFromProps==null&&x!==b&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(x,m),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(x,u.__s,m)===!1||e.__v===r.__v&&!u.__){for(u.props=x,u.state=u.__s,e.__v!==r.__v&&(u.__d=!1),u.__v=e,e.__e=r.__e,e.__k=r.__k,u.__h.length&&o.push(u),l=0;l<e.__k.length;l++)e.__k[l]&&(e.__k[l].__=e);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(x,u.__s,m),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(b,v,E)})}u.context=m,u.props=x,u.state=u.__s,(l=it.__r)&&l(e),u.__d=!1,u.__v=e,u.__P=t,l=u.render(u.props,u.state,u.context),e.__k=l!=null&&l.type==Wh&&l.key==null?l.props.children:Array.isArray(l)?l:[l],u.getChildContext!=null&&(n=Ws(Ws({},n),u.getChildContext())),h||u.getSnapshotBeforeUpdate==null||(E=u.getSnapshotBeforeUpdate(b,v)),PI(t,e,r,n,i,s,o,a,c),u.base=e.__e,u.__h.length&&o.push(u),D&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=rne(r.__e,e,r,n,i,s,o,c);(l=it.diffed)&&l(e)}catch(A){e.__v=null,it.__e(A,e,r)}return e.__e}function NI(t,e){it.__c&&it.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){it.__e(n,r.__v)}})}function rne(t,e,r,n,i,s,o,a){var c,l,u,h,b,v=r.props,E=e.props;if(i=e.type==="svg"||i,s!=null){for(c=0;c<s.length;c++)if((l=s[c])!=null&&((e.type===null?l.nodeType===3:l.localName===e.type)||t==l)){t=l,s[c]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(E);t=i?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,E.is&&{is:E.is}),s=null,a=!1}if(e.type===null)v!==E&&t.data!=E&&(t.data=E);else{if(s!=null&&(s=lg.slice.call(t.childNodes)),u=(v=r.props||Ks).dangerouslySetInnerHTML,h=E.dangerouslySetInnerHTML,!a){if(v===Ks)for(v={},b=0;b<t.attributes.length;b++)v[t.attributes[b].name]=t.attributes[b].value;(h||u)&&(h&&u&&h.__html==u.__html||(t.innerHTML=h&&h.__html||""))}tne(t,E,v,i,a),h?e.__k=[]:(e.__k=e.props.children,PI(t,e,r,n,e.type!=="foreignObject"&&i,s,o,Ks,a)),a||("value"in E&&(c=E.value)!==void 0&&c!==t.value&&hp(t,"value",c,v.value,!1),"checked"in E&&(c=E.checked)!==void 0&&c!==t.checked&&hp(t,"checked",c,v.checked,!1))}return t}function DI(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){it.__e(n,r)}}function Tf(t,e,r){var n,i,s;if(it.unmount&&it.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||DI(n,null,e)),r||typeof t.type=="function"||(r=(i=t.__e)!=null),t.__e=t.__d=void 0,(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){it.__e(o,e)}n.base=n.__P=null}if(n=t.__k)for(s=0;s<n.length;s++)n[s]&&Tf(n[s],e,r);i!=null&&kI(i)}function nne(t,e,r){return this.constructor(t,r)}function rh(t,e,r){var n,i,s;it.__&&it.__(t,e),i=(n=r===Uw)?null:r&&r.__k||e.__k,t=io(Wh,null,[t]),s=[],jw(e,(n?e:r||e).__k=t,i||Ks,Ks,e.ownerSVGElement!==void 0,r&&!n?[r]:i?null:lg.slice.call(e.childNodes),s,r||Ks,n),NI(s,t)}function BI(t,e){rh(t,e,Uw)}function ine(t,e){var r,n;for(n in e=Ws(Ws({},t.props),e),arguments.length>2&&(e.children=lg.slice.call(arguments,2)),r={},e)n!=="key"&&n!=="ref"&&(r[n]=e[n]);return fp(t.type,r,e.key||t.key,e.ref||t.ref,null)}function LI(t){var e={},r={__c:"__cC"+TI++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s=this;return this.getChildContext||(i=[],this.getChildContext=function(){return e[r.__c]=s,e},this.shouldComponentUpdate=function(o){s.props.value!==o.value&&i.some(function(a){a.context=o.value,Sd(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}it={__e:function(t,e){for(var r,n;e=e.__;)if((r=e.__c)&&!r.__)try{if(r.constructor&&r.constructor.getDerivedStateFromError!=null&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(t))),r.componentDidCatch!=null&&(n=!0,r.componentDidCatch(t)),n)return Sd(r.__E=r)}catch(i){t=i}throw t}},ji.prototype.setState=function(t,e){var r;r=this.__s!==this.state?this.__s:this.__s=Ws({},this.state),typeof t=="function"&&(t=t(r,this.props)),t&&Ws(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),Sd(this))},ji.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Sd(this))},ji.prototype.render=Wh,Mf=[],Fw=0,MI=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Uw=Ks,TI=0;var sc,On,m4,Il=0,d2=[],b4=it.__r,y4=it.diffed,v4=it.__c,w4=it.unmount;function au(t,e){it.__h&&it.__h(On,t,Il||e),Il=0;var r=On.__H||(On.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function Hw(t){return Il=1,zw(WI,t)}function zw(t,e,r){var n=au(sc++,2);return n.__c||(n.__c=On,n.__=[r?r(e):WI(void 0,e),function(i){var s=t(n.__[0],i);n.__[0]!==s&&(n.__[0]=s,n.__c.setState({}))}]),n.__}function $I(t,e){var r=au(sc++,3);!it.__s&&qw(r.__H,e)&&(r.__=t,r.__H=e,On.__H.__h.push(r))}function Ww(t,e){var r=au(sc++,4);!it.__s&&qw(r.__H,e)&&(r.__=t,r.__H=e,On.__h.push(r))}function FI(t){return Il=5,ug(function(){return{current:t}},[])}function UI(t,e,r){Il=6,Ww(function(){typeof t=="function"?t(e()):t&&(t.current=e())},r==null?r:r.concat(t))}function ug(t,e){var r=au(sc++,7);return qw(r.__H,e)?(r.__H=e,r.__h=t,r.__=t()):r.__}function jI(t,e){return Il=8,ug(function(){return t},e)}function HI(t){var e=On.context[t.__c],r=au(sc++,9);return r.__c=t,e?(r.__==null&&(r.__=!0,e.sub(On)),e.props.value):t.__}function zI(t,e){it.useDebugValue&&it.useDebugValue(e?e(t):t)}function sne(t){var e=au(sc++,10),r=Hw();return e.__=t,On.componentDidCatch||(On.componentDidCatch=function(n){e.__&&e.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function one(){d2.some(function(t){if(t.__P)try{t.__H.__h.forEach(p2),t.__H.__h.forEach(g2),t.__H.__h=[]}catch(e){return t.__H.__h=[],it.__e(e,t.__v),!0}}),d2=[]}function p2(t){t.t&&t.t()}function g2(t){var e=t.__();typeof e=="function"&&(t.t=e)}function qw(t,e){return!t||e.some(function(r,n){return r!==t[n]})}function WI(t,e){return typeof e=="function"?e(t):e}it.__r=function(t){b4&&b4(t),sc=0,(On=t.__c).__H&&(On.__H.__h.forEach(p2),On.__H.__h.forEach(g2),On.__H.__h=[])},it.diffed=function(t){y4&&y4(t);var e=t.__c;if(e){var r=e.__H;r&&r.__h.length&&(d2.push(e)!==1&&m4===it.requestAnimationFrame||((m4=it.requestAnimationFrame)||function(n){var i,s=function(){clearTimeout(o),cancelAnimationFrame(i),setTimeout(n)},o=setTimeout(s,100);typeof window<"u"&&(i=requestAnimationFrame(s))})(one))}},it.__c=function(t,e){e.some(function(r){try{r.__h.forEach(p2),r.__h=r.__h.filter(function(n){return!n.__||g2(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],it.__e(n,r.__v)}}),v4&&v4(t,e)},it.unmount=function(t){w4&&w4(t);var e=t.__c;if(e){var r=e.__H;if(r)try{r.__.forEach(function(n){return n.t&&n.t()})}catch(n){it.__e(n,e.__v)}}};function Vw(t,e){for(var r in e)t[r]=e[r];return t}function m2(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}var qI=function(t){var e,r;function n(i){var s;return(s=t.call(this,i)||this).isPureReactComponent=!0,s}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.shouldComponentUpdate=function(i,s){return m2(this.props,i)||m2(this.state,s)},n}(ji);function VI(t,e){function r(i){var s=this.props.ref,o=s==i.ref;return!o&&s&&(s.call?s(null):s.current=null),e?!e(this.props,i)||!o:m2(this.props,i)}function n(i){return this.shouldComponentUpdate=r,io(t,Vw({},i))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(t.displayName||t.name)+")",n.t=!0,n}var x4=it.__b;function GI(t){function e(r){var n=Vw({},r);return delete n.ref,t(n,r.ref)}return e.prototype.isReactComponent=e.t=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}it.__b=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),x4&&x4(t)};var _4=function(t,e){return t?Mo(t).reduce(function(r,n,i){return r.concat(e(n,i))},[]):null},KI={map:_4,forEach:_4,count:function(t){return t?Mo(t).length:0},only:function(t){if((t=Mo(t)).length!==1)throw new Error("Children.only() expects only one child.");return t[0]},toArray:Mo},ane=it.__e;function JI(t){return t&&((t=Vw({},t)).__c=null,t.__k=t.__k&&t.__k.map(JI)),t}function dp(){this.__u=0,this.o=null,this.__b=null}function ZI(t){var e=t.__.__c;return e&&e.u&&e.u(t)}function YI(t){var e,r,n;function i(s){if(e||(e=t()).then(function(o){r=o.default||o},function(o){n=o}),n)throw n;if(!r)throw e;return io(r,s)}return i.displayName="Lazy",i.t=!0,i}function Fc(){this.i=null,this.l=null}it.__e=function(t,e,r){if(t.then){for(var n,i=e;i=i.__;)if((n=i.__c)&&n.__c)return n.__c(t,e.__c)}ane(t,e,r)},(dp.prototype=new ji).__c=function(t,e){var r=this;r.o==null&&(r.o=[]),r.o.push(e);var n=ZI(r.__v),i=!1,s=function(){i||(i=!0,n?n(o):o())};e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){s(),e.__c&&e.__c()};var o=function(){var a;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});a=r.o.pop();)a.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),t.then(s,s)},dp.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=JI(this.__b),this.__b=null),[io(ji,null,e.u?null:t.children),e.u&&t.fallback]};var E4=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};(Fc.prototype=new ji).u=function(t){var e=this,r=ZI(e.__v),n=e.l.get(t);return n[0]++,function(i){var s=function(){e.props.revealOrder?(n.push(i),E4(e,t,n)):i()};r?r(s):s()}},Fc.prototype.render=function(t){this.i=null,this.l=new Map;var e=Mo(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},Fc.prototype.componentDidUpdate=Fc.prototype.componentDidMount=function(){var t=this;t.l.forEach(function(e,r){E4(t,r,e)})};var cne=function(){function t(){}var e=t.prototype;return e.getChildContext=function(){return this.props.context},e.render=function(r){return r.children},t}();function lne(t){var e=this,r=t.container,n=io(cne,{context:e.context},t.vnode);return e.s&&e.s!==r&&(e.v.parentNode&&e.s.removeChild(e.v),Tf(e.h),e.p=!1),t.vnode?e.p?(r.__k=e.__k,rh(n,r),e.__k=r.__k):(e.v=document.createTextNode(""),BI("",r),r.appendChild(e.v),e.p=!0,e.s=r,rh(n,r,e.v),e.__k=e.v.__k):e.p&&(e.v.parentNode&&e.s.removeChild(e.v),Tf(e.h)),e.h=n,e.componentWillUnmount=function(){e.v.parentNode&&e.s.removeChild(e.v),Tf(e.h)},null}function QI(t,e){return io(lne,{vnode:t,container:e})}var S4=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;ji.prototype.isReactComponent={};var XI=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function b2(t,e,r){if(e.__k==null)for(;e.firstChild;)e.removeChild(e.firstChild);return rh(t,e),typeof r=="function"&&r(),t?t.__c:null}function une(t,e,r){return BI(t,e),typeof r=="function"&&r(),t?t.__c:null}var A4=it.event;function Km(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(r){this["UNSAFE_"+e]=r}})}it.event=function(t){A4&&(t=A4(t)),t.persist=function(){};var e=!1,r=!1,n=t.stopPropagation;t.stopPropagation=function(){n.call(t),e=!0};var i=t.preventDefault;return t.preventDefault=function(){i.call(t),r=!0},t.isPropagationStopped=function(){return e},t.isDefaultPrevented=function(){return r},t.nativeEvent=t};var C4={configurable:!0,get:function(){return this.class}},I4=it.vnode;it.vnode=function(t){t.$$typeof=XI;var e=t.type,r=t.props;if(e){if(r.class!=r.className&&(C4.enumerable="className"in r,r.className!=null&&(r.class=r.className),Object.defineProperty(r,"className",C4)),typeof e!="function"){var n,i,s;for(s in r.defaultValue&&r.value!==void 0&&(r.value||r.value===0||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&e==="select"&&(Mo(r.children).forEach(function(o){r.value.indexOf(o.props.value)!=-1&&(o.props.selected=!0)}),delete r.value),r)if(n=S4.test(s))break;if(n)for(s in i=t.props={},r)i[S4.test(s)?s.replace(/[A-Z0-9]/,"-$&").toLowerCase():s]=r[s]}(function(o){var a=t.type,c=t.props;if(c&&typeof a=="string"){var l={};for(var u in c)/^on(Ani|Tra|Tou)/.test(u)&&(c[u.toLowerCase()]=c[u],delete c[u]),l[u.toLowerCase()]=u;if(l.ondoubleclick&&(c.ondblclick=c[l.ondoubleclick],delete c[l.ondoubleclick]),l.onbeforeinput&&(c.onbeforeinput=c[l.onbeforeinput],delete c[l.onbeforeinput]),l.onchange&&(a==="textarea"||a.toLowerCase()==="input"&&!/^fil|che|ra/i.test(c.type))){var h=l.oninput||"oninput";c[h]||(c[h]=c[l.onchange],delete c[l.onchange])}}})(),typeof e=="function"&&!e.m&&e.prototype&&(Km(e.prototype,"componentWillMount"),Km(e.prototype,"componentWillReceiveProps"),Km(e.prototype,"componentWillUpdate"),e.m=!0)}I4&&I4(t)};var fne="16.8.0";function eM(t){return io.bind(null,t)}function Gw(t){return!!t&&t.$$typeof===XI}function tM(t){return Gw(t)?ine.apply(null,arguments):t}function rM(t){return!!t.__k&&(rh(null,t),!0)}function nM(t){return t&&(t.base||t.nodeType===1&&t)||null}var iM=function(t,e){return t(e)};const hne={useState:Hw,useReducer:zw,useEffect:$I,useLayoutEffect:Ww,useRef:FI,useImperativeHandle:UI,useMemo:ug,useCallback:jI,useContext:HI,useDebugValue:zI,version:"16.8.0",Children:KI,render:b2,hydrate:b2,unmountComponentAtNode:rM,createPortal:QI,createElement:io,createContext:LI,createFactory:eM,cloneElement:tM,createRef:OI,Fragment:Wh,isValidElement:Gw,findDOMNode:nM,Component:ji,PureComponent:qI,memo:VI,forwardRef:GI,unstable_batchedUpdates:iM,Suspense:dp,SuspenseList:Fc,lazy:YI},dne=Object.freeze(Object.defineProperty({__proto__:null,Children:KI,Component:ji,Fragment:Wh,PureComponent:qI,Suspense:dp,SuspenseList:Fc,cloneElement:tM,createContext:LI,createElement:io,createFactory:eM,createPortal:QI,createRef:OI,default:hne,findDOMNode:nM,forwardRef:GI,hydrate:une,isValidElement:Gw,lazy:YI,memo:VI,render:b2,unmountComponentAtNode:rM,unstable_batchedUpdates:iM,useCallback:jI,useContext:HI,useDebugValue:zI,useEffect:$I,useErrorBoundary:sne,useImperativeHandle:UI,useLayoutEffect:Ww,useMemo:ug,useReducer:zw,useRef:FI,useState:Hw,version:fne},Symbol.toStringTag,{value:"Module"})),pne=Ht(dne);function sM(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var wn=Vte,oM=sM(Hh),gne=sM(Qre),Le=pne;function mne(t){oM.toString(t,{type:"terminal"}).then(console.log)}var bne=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function yne(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}var vne="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",wne="WalletConnect",xne=300,_ne="rgb(64, 153, 255)",aM="walletconnect-wrapper",M4="walletconnect-style-sheet",cM="walletconnect-qrcode-modal",Ene="walletconnect-qrcode-close",lM="walletconnect-qrcode-text",Sne="walletconnect-connect-button";function Ane(t){return Le.createElement("div",{className:"walletconnect-modal__header"},Le.createElement("img",{src:vne,className:"walletconnect-modal__headerLogo"}),Le.createElement("p",null,wne),Le.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},Le.createElement("div",{id:Ene,className:"walletconnect-modal__close__icon"},Le.createElement("div",{className:"walletconnect-modal__close__line1"}),Le.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function Cne(t){return Le.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:Sne+"-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}var Ine="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function Mne(t){var e=t.color,r=t.href,n=t.name,i=t.logo,s=t.onClick;return Le.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:s,rel:"noopener noreferrer",target:"_blank"},Le.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),Le.createElement("div",{className:"walletconnect-modal__base__row__right"},Le.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+i+"') "+e,backgroundSize:"100%"}}),Le.createElement("img",{src:Ine,className:"walletconnect-modal__base__row__right__caret"})))}function Tne(t){var e=t.color,r=t.href,n=t.name,i=t.logo,s=t.onClick,o=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return Le.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:s,rel:"noopener noreferrer",target:"_blank"},Le.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+i+"') "+e,backgroundSize:"100%"}}),Le.createElement("div",{style:{fontSize:o},className:"walletconnect-connect__button__text"},n))}var kne=5,Jm=12;function One(t){var e=wn.isAndroid(),r=Le.useState(""),n=r[0],i=r[1],s=Le.useState(""),o=s[0],a=s[1],c=Le.useState(1),l=c[0],u=c[1],h=o?t.links.filter(function(A){return A.name.toLowerCase().includes(o.toLowerCase())}):t.links,b=t.errorMessage,v=o||h.length>kne,E=Math.ceil(h.length/Jm),D=[(l-1)*Jm+1,l*Jm],x=h.length?h.filter(function(A,k){return k+1>=D[0]&&k+1<=D[1]}):[],_=!e&&E>1,m=void 0;function w(A){i(A.target.value),clearTimeout(m),A.target.value?m=setTimeout(function(){a(A.target.value),u(1)},1e3):(i(""),a(""),u(1))}return Le.createElement("div",null,Le.createElement("p",{id:lM,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&Le.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:w}),Le.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":v&&h.length?"__wrap":"")},e?Le.createElement(Cne,{name:t.text.connect,color:_ne,href:t.uri,onClick:Le.useCallback(function(){wn.saveMobileLinkInfo({name:"Unknown",href:t.uri})},[])}):x.length?x.map(function(A){var k=A.color,z=A.name,S=A.shortName,H=A.logo,re=wn.formatIOSMobile(t.uri,A),W=Le.useCallback(function(){wn.saveMobileLinkInfo({name:z,href:re})},[x]);return v?Le.createElement(Tne,{color:k,href:re,name:S||z,logo:H,onClick:W}):Le.createElement(Mne,{color:k,href:re,name:z,logo:H,onClick:W})}):Le.createElement(Le.Fragment,null,Le.createElement("p",null,b.length?t.errorMessage:t.links.length&&!h.length?t.text.no_wallets_found:t.text.loading))),_&&Le.createElement("div",{className:"walletconnect-modal__footer"},Array(E).fill(0).map(function(A,k){var z=k+1,S=l===z;return Le.createElement("a",{style:{margin:"auto 10px",fontWeight:S?"bold":"normal"},onClick:function(){return u(z)}},z)})))}function Rne(t){var e=!!t.message.trim();return Le.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}var Pne=function(t){try{var e="";return Promise.resolve(oM.toString(t,{margin:0,type:"svg"})).then(function(r){return typeof r=="string"&&(e=r.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e})}catch(r){return Promise.reject(r)}};function Nne(t){var e=Le.useState(""),r=e[0],n=e[1],i=Le.useState(""),s=i[0],o=i[1];Le.useEffect(function(){try{return Promise.resolve(Pne(t.uri)).then(function(c){o(c)})}catch(c){Promise.reject(c)}},[]);var a=function(){var c=gne(t.uri);c?(n(t.text.copied_to_clipboard),setInterval(function(){return n("")},1200)):(n("Error"),setInterval(function(){return n("")},1200))};return Le.createElement("div",null,Le.createElement("p",{id:lM,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),Le.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),Le.createElement("div",{className:"walletconnect-modal__footer"},Le.createElement("a",{onClick:a},t.text.copy_to_clipboard)),Le.createElement(Rne,{message:r}))}function Dne(t){var e=wn.isAndroid(),r=wn.isMobile(),n=r?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,i=Le.useState(!1),s=i[0],o=i[1],a=Le.useState(!1),c=a[0],l=a[1],u=Le.useState(!r),h=u[0],b=u[1],v={mobile:r,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},E=Le.useState(""),D=E[0],x=E[1],_=Le.useState(!1),m=_[0],w=_[1],A=Le.useState([]),k=A[0],z=A[1],S=Le.useState(""),H=S[0],re=S[1],W=function(){c||s||n&&!n.length||k.length>0||Le.useEffect(function(){var R=function(){try{if(e)return Promise.resolve();o(!0);var I=yne(function(){var f=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:wn.getWalletRegistryUrl();return Promise.resolve(fetch(f)).then(function(p){return Promise.resolve(p.json()).then(function(T){var M=T.listings,C=r?"mobile":"desktop",d=wn.getMobileLinkRegistry(wn.formatMobileRegistry(M,C),n);o(!1),l(!0),re(d.length?"":t.text.no_supported_wallets),z(d);var B=d.length===1;B&&(x(wn.formatIOSMobile(t.uri,d[0])),b(!0)),w(B)})})},function(f){o(!1),l(!0),re(t.text.something_went_wrong),console.error(f)});return Promise.resolve(I&&I.then?I.then(function(){}):void 0)}catch(f){return Promise.reject(f)}};R()})};W();var y=r?h:!h;return Le.createElement("div",{id:cM,className:"walletconnect-qrcode__base animated fadeIn"},Le.createElement("div",{className:"walletconnect-modal__base"},Le.createElement(Ane,{onClose:t.onClose}),m&&h?Le.createElement("div",{className:"walletconnect-modal__single_wallet"},Le.createElement("a",{onClick:function(){return wn.saveMobileLinkInfo({name:k[0].name,href:D})},href:D,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(m?k[0].name:"")+" ")):e||s||!s&&k.length?Le.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(y?" right__selected":"")},Le.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),r?Le.createElement(Le.Fragment,null,Le.createElement("a",{onClick:function(){return b(!1),W()}},t.text.mobile),Le.createElement("a",{onClick:function(){return b(!0)}},t.text.qrcode)):Le.createElement(Le.Fragment,null,Le.createElement("a",{onClick:function(){return b(!0)}},t.text.qrcode),Le.createElement("a",{onClick:function(){return b(!1),W()}},t.text.desktop))):null,Le.createElement("div",null,h||!e&&!s&&!k.length?Le.createElement(Nne,Object.assign({},v)):Le.createElement(One,Object.assign({},v,{links:k,errorMessage:H})))))}var Bne={choose_preferred_wallet:"Whle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine untersttzten Wallet",no_wallets_found:"keine Wallet gefunden"},Lne={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},$ne={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera mvil",scan_qrcode_with_wallet:"Escanea el cdigo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Cdigo QR",mobile:"Mvil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali mal",no_supported_wallets:"Todava no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},Fne={choose_preferred_wallet:"Choisissez votre portefeuille prfr",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi!",connect_with:"Connectez-vous  l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv"},Une={choose_preferred_wallet:"  ",connect_mobile_wallet:"  ",scan_qrcode_with_wallet:"WalletConnect   QR ",connect:"",qrcode:"QR ",mobile:"",desktop:"",copy_to_clipboard:" ",copied_to_clipboard:" !",connect_with:" ",loading:" ...",something_went_wrong:" .",no_supported_wallets:"   ",no_wallets_found:"   "},jne={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se  carteira mvel",scan_qrcode_with_wallet:"Ler o cdigo QR com uma carteira compatvel com WalletConnect",connect:"Conectar",qrcode:"Cdigo QR",mobile:"Mvel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda no h carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},Hne={choose_preferred_wallet:"",connect_mobile_wallet:"",scan_qrcode_with_wallet:" WalletConnect ",connect:"",qrcode:"",mobile:"",desktop:"",copy_to_clipboard:"",copied_to_clipboard:"",connect_with:"",loading:"...",something_went_wrong:"",no_supported_wallets:"",no_wallets_found:""},zne={choose_preferred_wallet:"       ",connect_mobile_wallet:"     ",scan_qrcode_with_wallet:" QR        WalletConnect  ",connect:"",qrcode:" QR",mobile:"",desktop:"",copy_to_clipboard:"   ",copied_to_clipboard:"    !",connect_with:" ",loading:"...",something_went_wrong:"  ",no_supported_wallets:"        ",no_wallets_found:"    "},T4={de:Bne,en:Lne,es:$ne,fr:Fne,ko:Une,pt:jne,zh:Hne,fa:zne};function Wne(){var t=wn.getDocumentOrThrow(),e=t.getElementById(M4);e&&t.head.removeChild(e);var r=t.createElement("style");r.setAttribute("id",M4),r.innerText=bne,t.head.appendChild(r)}function qne(){var t=wn.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",aM),t.body.appendChild(e),e}function uM(){var t=wn.getDocumentOrThrow(),e=t.getElementById(cM);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var r=t.getElementById(aM);r&&t.body.removeChild(r)},xne))}function Vne(t){return function(){uM(),t&&t()}}function Gne(){var t=wn.getNavigatorOrThrow().language.split("-")[0]||"en";return T4[t]||T4.en}function Kne(t,e,r){Wne();var n=qne();Le.render(Le.createElement(Dne,{text:Gne(),uri:t,onClose:Vne(e),qrcodeModalOptions:r}),n)}function Jne(){uM()}var fM=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function Zne(t,e,r){console.log(t),fM()?mne(t):Kne(t,e,r)}function Yne(){fM()||Jne()}var Qne={open:Zne,close:Yne},Xne=Qne;class eie extends sX{constructor(e){super(),this.events=new Of,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=e,this.chainId=(e==null?void 0:e.chainId)||this.chainId,this.wc=this.register(e)}get connected(){return typeof this.wc<"u"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e){if(this.connected){this.onOpen();return}return new Promise((r,n)=>{this.on("error",i=>{n(i)}),this.on("open",()=>{r()}),this.create(e)})}async close(){typeof this.wc>"u"||(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(e){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(e).then(r=>this.events.emit("payload",r)).catch(r=>this.events.emit("payload",wl(e.id,r.message)))}register(e){if(this.wc)return this.wc;this.opts=e||this.opts,this.bridge=e!=null&&e.connector?e.connector.bridge:(e==null?void 0:e.bridge)||"https://bridge.walletconnect.org",this.qrcode=typeof(e==null?void 0:e.qrcode)>"u"||e.qrcode!==!1,this.chainId=typeof(e==null?void 0:e.chainId)<"u"?e.chainId:this.chainId,this.qrcodeModalOptions=e==null?void 0:e.qrcodeModalOptions;const r={bridge:this.bridge,qrcodeModal:this.qrcode?Xne:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:e==null?void 0:e.storageId,signingMethods:e==null?void 0:e.signingMethods,clientMeta:e==null?void 0:e.clientMeta};if(this.wc=typeof(e==null?void 0:e.connector)<"u"?e.connector:new qte(r),typeof this.wc>"u")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(e){this.pending=!1,e&&(this.wc=e),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(e,r="Failed or Rejected Request",n=-32e3,i){const s={id:e.id,jsonrpc:e.jsonrpc,error:{code:n,message:r}};return typeof i<"u"&&(s.error.data=i),this.events.emit("payload",s),s}create(e){this.wc=this.register(this.opts),this.chainId=e||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(r=>this.events.emit("error",r)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",e=>{var r,n;if(e){this.events.emit("error",e);return}this.accounts=((r=this.wc)===null||r===void 0?void 0:r.accounts)||[],this.chainId=((n=this.wc)===null||n===void 0?void 0:n.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",e=>{if(e){this.events.emit("error",e);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(e,r)=>{const{accounts:n,chainId:i}=r.params[0];(!this.accounts||n&&this.accounts!==n)&&(this.accounts=n,this.events.emit("accountsChanged",n)),(!this.chainId||i&&this.chainId!==i)&&(this.chainId=i,this.events.emit("chainChanged",i))})}async sendPayload(e){this.wc=this.register(this.opts);try{const r=await this.wc.unsafeSend(e);return this.sanitizeResponse(r)}catch(r){return this.onError(e,r.message)}}sanitizeResponse(e){return typeof e.error<"u"&&typeof e.error.code>"u"?wl(e.id,e.error.message,e.error.data):e}}class tie{constructor(e){this.events=new Of,this.rpc={infuraId:e==null?void 0:e.infuraId,custom:e==null?void 0:e.rpc},this.signer=new Ga(new eie(e));const r=this.signer.connection.chainId||(e==null?void 0:e.chainId)||1;this.http=this.setHttpProvider(r),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var e;return((e=this.http)===null||e===void 0?void 0:e.connection).url||""}async request(e){switch(e.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if(Iw.includes(e.method))return this.signer.request(e);if(typeof this.http>"u")throw new Error(`Cannot request JSON-RPC method (${e.method}) without provided rpc url`);return this.http.request(e)}sendAsync(e,r){this.request(e).then(n=>r(null,n)).catch(n=>r(n,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",e=>{this.events.emit("accountsChanged",e)}),this.signer.connection.on("chainChanged",e=>{this.http=this.setHttpProvider(e),this.events.emit("chainChanged",e)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(e){const r=Hee(e,this.rpc);return typeof r>"u"?void 0:new Ga(new jh(r))}}const rie=Object.freeze(Object.defineProperty({__proto__:null,default:tie},Symbol.toStringTag,{value:"Module"}));var nie=Object.defineProperty,k4=Object.getOwnPropertySymbols,iie=Object.prototype.hasOwnProperty,sie=Object.prototype.propertyIsEnumerable,O4=(t,e,r)=>e in t?nie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oie=(t,e)=>{for(var r in e||(e={}))iie.call(e,r)&&O4(t,r,e[r]);if(k4)for(var r of k4(e))sie.call(e,r)&&O4(t,r,e[r]);return t};let aie=class{constructor(e){this.openModal=Ar.open,this.closeModal=Ar.close,this.subscribeModal=Ar.subscribe,this.setTheme=Xt.setThemeConfig,Xt.setConfig(oie({enableStandaloneMode:!0},e)),this.initUi()}async initUi(){if(typeof window<"u"){await ql(()=>Promise.resolve().then(()=>XT),void 0);const e=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",e),Te.setIsUiLoaded(!0)}}};const cie=Object.freeze(Object.defineProperty({__proto__:null,Web3Modal:aie},Symbol.toStringTag,{value:"Module"}));function lie(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var uie=fie;function fie(t,e,r){var n=r&&r.stringify||lie,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-i,h=-1,b=t&&t.length||0,v=0;v<b;){if(t.charCodeAt(v)===37&&v+1<b){switch(h=h>-1?h:0,t.charCodeAt(v+1)){case 100:case 102:if(u>=c||e[u]==null)break;h<v&&(l+=t.slice(h,v)),l+=Number(e[u]),h=v+2,v++;break;case 105:if(u>=c||e[u]==null)break;h<v&&(l+=t.slice(h,v)),l+=Math.floor(Number(e[u])),h=v+2,v++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;h<v&&(l+=t.slice(h,v));var E=typeof e[u];if(E==="string"){l+="'"+e[u]+"'",h=v+2,v++;break}if(E==="function"){l+=e[u].name||"<anonymous>",h=v+2,v++;break}l+=n(e[u]),h=v+2,v++;break;case 115:if(u>=c)break;h<v&&(l+=t.slice(h,v)),l+=String(e[u]),h=v+2,v++;break;case 37:h<v&&(l+=t.slice(h,v)),l+="%",h=v+2,v++,u--;break}++u}++v}return h===-1?t:(h<b&&(l+=t.slice(h)),l)}const R4=uie;var qh=bs;const nh=xie().console||{},hie={mapHttpRequest:D0,mapHttpResponse:D0,wrapRequestSerializer:Zm,wrapResponseSerializer:Zm,wrapErrorSerializer:Zm,req:D0,res:D0,err:bie};function die(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function bs(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||nh;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=die(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(r);c.log||(c.log=ih),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:h,set:b});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:yie(t)};c.levels=bs.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=ih,c.serializers=n,c._serialize=i,c._stdErrSerialize=s,c.child=v,e&&(c._logEvent=y2());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function h(){return this._level}function b(E){if(E!=="silent"&&!this.levels.values[E])throw Error("unknown level "+E);this._level=E,mc(l,c,"error","log"),mc(l,c,"fatal","error"),mc(l,c,"warn","error"),mc(l,c,"info","log"),mc(l,c,"debug","log"),mc(l,c,"trace","log")}function v(E,D){if(!E)throw new Error("missing bindings for child Pino");D=D||{},i&&E.serializers&&(D.serializers=E.serializers);const x=D.serializers;if(i&&x){var _=Object.assign({},n,x),m=t.browser.serialize===!0?Object.keys(_):i;delete E.serializers,fg([E],m,_,this._stdErrSerialize)}function w(A){this._childLevel=(A._childLevel|0)+1,this.error=bc(A,E,"error"),this.fatal=bc(A,E,"fatal"),this.warn=bc(A,E,"warn"),this.info=bc(A,E,"info"),this.debug=bc(A,E,"debug"),this.trace=bc(A,E,"trace"),_&&(this.serializers=_,this._serialize=m),e&&(this._logEvent=y2([].concat(A._logEvent.bindings,E)))}return w.prototype=this,new w(this)}return c}bs.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};bs.stdSerializers=hie;bs.stdTimeFunctions=Object.assign({},{nullTime:hM,epochTime:dM,unixTime:vie,isoTime:wie});function mc(t,e,r,n){const i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?ih:i[r]?i[r]:nh[r]||nh[n]||ih,pie(t,e,r)}function pie(t,e,r){!t.transmit&&e[r]===ih||(e[r]=function(n){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===nh?nh:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&fg(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,gie(this,r,o,s)):n.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=bs.levels.values[l],h=bs.levels.values[r];if(h<u)return;mie(this,{ts:s,methodLevel:r,methodValue:h,transmitLevel:l,transmitValue:bs.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function gie(t,e,r,n){t._serialize&&fg(r,t._serialize,t.serializers,t._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=bs.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?R4(i.shift(),i):void 0}else typeof s=="string"&&(s=R4(i.shift(),i));return s!==void 0&&(o.msg=s),o}function fg(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=bs.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function bc(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function mie(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;fg(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=y2(c)}function y2(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function bie(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function yie(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?hM:dM}function D0(){return{}}function Zm(t){return t}function ih(){}function hM(){return!1}function dM(){return Date.now()}function vie(){return Math.round(Date.now()/1e3)}function wie(){return new Date(Date.now()).toISOString()}function xie(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}var hg={},Vh={};Object.defineProperty(Vh,"__esModule",{value:!0});function _ie(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}Vh.safeJsonParse=_ie;function Eie(t){return typeof t=="string"?t:JSON.stringify(t,(e,r)=>typeof r>"u"?null:r)}Vh.safeJsonStringify=Eie;var pp={},Ym={get exports(){return pp},set exports(t){pp=t}},P4;function Sie(){return P4||(P4=1,function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof ze<"u"&&ze.localStorage?Ym.exports=ze.localStorage:typeof window<"u"&&window.localStorage?Ym.exports=window.localStorage:Ym.exports=new e}()),pp}var Qm={},Ou={},N4;function Aie(){if(N4)return Ou;N4=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.IKeyValueStorage=void 0;class t{}return Ou.IKeyValueStorage=t,Ou}var Ru={},D4;function Cie(){if(D4)return Ru;D4=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.parseEntry=void 0;const t=Vh;function e(r){var n;return[r[0],t.safeJsonParse((n=r[1])!==null&&n!==void 0?n:"")]}return Ru.parseEntry=e,Ru}var B4;function Iie(){return B4||(B4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ye;e.__exportStar(Aie(),t),e.__exportStar(Cie(),t)}(Qm)),Qm}Object.defineProperty(hg,"__esModule",{value:!0});hg.KeyValueStorage=void 0;const kc=ye,L4=Vh,Mie=kc.__importDefault(Sie()),Tie=Iie();class pM{constructor(){this.localStorage=Mie.default}getKeys(){return kc.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return kc.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(Tie.parseEntry)})}getItem(e){return kc.__awaiter(this,void 0,void 0,function*(){const r=this.localStorage.getItem(e);if(r!==null)return L4.safeJsonParse(r)})}setItem(e,r){return kc.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,L4.safeJsonStringify(r))})}removeItem(e){return kc.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}}hg.KeyValueStorage=pM;var kie=hg.default=pM,Gh={},Pu={},Qe={},Xm={},Nu={},$4;function Oie(){if($4)return Nu;$4=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return Nu.delay=t,Nu}var oa={},eb={},aa={},F4;function Rie(){return F4||(F4=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.ONE_THOUSAND=aa.ONE_HUNDRED=void 0,aa.ONE_HUNDRED=100,aa.ONE_THOUSAND=1e3),aa}var tb={},U4;function Pie(){return U4||(U4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(tb)),tb}var j4;function gM(){return j4||(j4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ye;e.__exportStar(Rie(),t),e.__exportStar(Pie(),t)}(eb)),eb}var H4;function Nie(){if(H4)return oa;H4=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.fromMiliseconds=oa.toMiliseconds=void 0;const t=gM();function e(n){return n*t.ONE_THOUSAND}oa.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return oa.fromMiliseconds=r,oa}var z4;function Die(){return z4||(z4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ye;e.__exportStar(Oie(),t),e.__exportStar(Nie(),t)}(Xm)),Xm}var yc={},W4;function Bie(){if(W4)return yc;W4=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return yc.Watch=t,yc.default=t,yc}var rb={},Du={},q4;function Lie(){if(q4)return Du;q4=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.IWatch=void 0;class t{}return Du.IWatch=t,Du}var V4;function $ie(){return V4||(V4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),ye.__exportStar(Lie(),t)}(rb)),rb}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ye;e.__exportStar(Die(),t),e.__exportStar(Bie(),t),e.__exportStar($ie(),t),e.__exportStar(gM(),t)})(Qe);var nb={},Bu={};class oc{}const Fie=Object.freeze(Object.defineProperty({__proto__:null,IEvents:oc},Symbol.toStringTag,{value:"Module"})),Uie=Ht(Fie);var G4;function jie(){if(G4)return Bu;G4=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.IHeartBeat=void 0;const t=Uie;class e extends t.IEvents{constructor(n){super()}}return Bu.IHeartBeat=e,Bu}var K4;function mM(){return K4||(K4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),ye.__exportStar(jie(),t)}(nb)),nb}var ib={},ca={},J4;function Hie(){if(J4)return ca;J4=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.HEARTBEAT_EVENTS=ca.HEARTBEAT_INTERVAL=void 0;const t=Qe;return ca.HEARTBEAT_INTERVAL=t.FIVE_SECONDS,ca.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},ca}var Z4;function bM(){return Z4||(Z4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),ye.__exportStar(Hie(),t)}(ib)),ib}var Y4;function zie(){if(Y4)return Pu;Y4=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.HeartBeat=void 0;const t=ye,e=Cr,r=Qe,n=mM(),i=bM();class s extends n.IHeartBeat{constructor(a){super(a),this.events=new e.EventEmitter,this.interval=i.HEARTBEAT_INTERVAL,this.interval=(a==null?void 0:a.interval)||i.HEARTBEAT_INTERVAL}static init(a){return t.__awaiter(this,void 0,void 0,function*(){const c=new s(a);return yield c.init(),c})}init(){return t.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(a,c){this.events.on(a,c)}once(a,c){this.events.once(a,c)}off(a,c){this.events.off(a,c)}removeListener(a,c){this.events.removeListener(a,c)}initialize(){return t.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),r.toMiliseconds(this.interval))})}pulse(){this.events.emit(i.HEARTBEAT_EVENTS.pulse)}}return Pu.HeartBeat=s,Pu}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=ye;e.__exportStar(zie(),t),e.__exportStar(mM(),t),e.__exportStar(bM(),t)})(Gh);var Vt={},la={},Q4;function yM(){return Q4||(Q4=1,Object.defineProperty(la,"__esModule",{value:!0}),la.PINO_CUSTOM_CONTEXT_KEY=la.PINO_LOGGER_DEFAULTS=void 0,la.PINO_LOGGER_DEFAULTS={level:"info"},la.PINO_CUSTOM_CONTEXT_KEY="custom_context"),la}var bn={},X4;function Wie(){if(X4)return bn;X4=1,Object.defineProperty(bn,"__esModule",{value:!0}),bn.generateChildLogger=bn.formatChildLoggerContext=bn.getLoggerContext=bn.setBrowserLoggerContext=bn.getBrowserLoggerContext=bn.getDefaultLoggerOptions=void 0;const t=yM();function e(a){return Object.assign(Object.assign({},a),{level:(a==null?void 0:a.level)||t.PINO_LOGGER_DEFAULTS.level})}bn.getDefaultLoggerOptions=e;function r(a,c=t.PINO_CUSTOM_CONTEXT_KEY){return a[c]||""}bn.getBrowserLoggerContext=r;function n(a,c,l=t.PINO_CUSTOM_CONTEXT_KEY){return a[l]=c,a}bn.setBrowserLoggerContext=n;function i(a,c=t.PINO_CUSTOM_CONTEXT_KEY){let l="";return typeof a.bindings>"u"?l=r(a,c):l=a.bindings().context||"",l}bn.getLoggerContext=i;function s(a,c,l=t.PINO_CUSTOM_CONTEXT_KEY){const u=i(a,l);return u.trim()?`${u}/${c}`:c}bn.formatChildLoggerContext=s;function o(a,c,l=t.PINO_CUSTOM_CONTEXT_KEY){const u=s(a,c,l),h=a.child({context:u});return n(h,u,l)}return bn.generateChildLogger=o,bn}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;const e=ye,r=e.__importDefault(qh);Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return r.default}}),e.__exportStar(yM(),t),e.__exportStar(Wie(),t)})(Vt);let qie=class extends oc{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},Vie=class extends oc{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},Gie=class{constructor(e,r){this.logger=e,this.core=r}},Kie=class extends oc{constructor(e,r){super(),this.relayer=e,this.logger=r}},Jie=class extends oc{constructor(e){super()}},Zie=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},Yie=class extends oc{constructor(e,r){super(),this.relayer=e,this.logger=r}},Qie=class extends oc{constructor(e,r){super(),this.core=e,this.logger=r}};var Kw={},cu={},dg={},pg={};Object.defineProperty(pg,"__esModule",{value:!0});pg.BrowserRandomSource=void 0;const e6=65536;class Xie{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=e6)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,e6)));return r}}pg.BrowserRandomSource=Xie;function ese(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gg={},ri={};Object.defineProperty(ri,"__esModule",{value:!0});function tse(t){for(var e=0;e<t.length;e++)t[e]=0;return t}ri.wipe=tse;Object.defineProperty(gg,"__esModule",{value:!0});gg.NodeRandomSource=void 0;const rse=ri;class nse{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof ese<"u"){const e=Ll;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,rse.wipe)(r),n}}gg.NodeRandomSource=nse;Object.defineProperty(dg,"__esModule",{value:!0});dg.SystemRandomSource=void 0;const ise=pg,sse=gg;class ose{constructor(){if(this.isAvailable=!1,this.name="",this._source=new ise.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new sse.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}dg.SystemRandomSource=ose;var pt={},vM={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(a,c){var l=a>>>16&65535,u=a&65535,h=c>>>16&65535,b=c&65535;return u*b+(l*b+u*h<<16>>>0)|0}t.mul=Math.imul||e;function r(a,c){return a+c|0}t.add=r;function n(a,c){return a-c|0}t.sub=n;function i(a,c){return a<<c|a>>>32-c}t.rotl=i;function s(a,c){return a<<32-c|a>>>c}t.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}t.isInteger=Number.isInteger||o,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(a){return t.isInteger(a)&&a>=-t.MAX_SAFE_INTEGER&&a<=t.MAX_SAFE_INTEGER}})(vM);Object.defineProperty(pt,"__esModule",{value:!0});var wM=vM;function ase(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}pt.readInt16BE=ase;function cse(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}pt.readUint16BE=cse;function lse(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}pt.readInt16LE=lse;function use(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}pt.readUint16LE=use;function xM(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}pt.writeUint16BE=xM;pt.writeInt16BE=xM;function _M(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}pt.writeUint16LE=_M;pt.writeInt16LE=_M;function v2(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}pt.readInt32BE=v2;function w2(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}pt.readUint32BE=w2;function x2(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}pt.readInt32LE=x2;function _2(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}pt.readUint32LE=_2;function gp(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}pt.writeUint32BE=gp;pt.writeInt32BE=gp;function mp(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}pt.writeUint32LE=mp;pt.writeInt32LE=mp;function fse(t,e){e===void 0&&(e=0);var r=v2(t,e),n=v2(t,e+4);return r*4294967296+n-(n>>31)*4294967296}pt.readInt64BE=fse;function hse(t,e){e===void 0&&(e=0);var r=w2(t,e),n=w2(t,e+4);return r*4294967296+n}pt.readUint64BE=hse;function dse(t,e){e===void 0&&(e=0);var r=x2(t,e),n=x2(t,e+4);return n*4294967296+r-(r>>31)*4294967296}pt.readInt64LE=dse;function pse(t,e){e===void 0&&(e=0);var r=_2(t,e),n=_2(t,e+4);return n*4294967296+r}pt.readUint64LE=pse;function EM(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),gp(t/4294967296>>>0,e,r),gp(t>>>0,e,r+4),e}pt.writeUint64BE=EM;pt.writeInt64BE=EM;function SM(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),mp(t>>>0,e,r),mp(t/4294967296>>>0,e,r+4),e}pt.writeUint64LE=SM;pt.writeInt64LE=SM;function gse(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}pt.readUintBE=gse;function mse(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}pt.readUintLE=mse;function bse(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!wM.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}pt.writeUintBE=bse;function yse(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!wM.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}pt.writeUintLE=yse;function vse(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}pt.readFloat32BE=vse;function wse(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}pt.readFloat32LE=wse;function xse(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}pt.readFloat64BE=xse;function _se(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}pt.readFloat64LE=_se;function Ese(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}pt.writeFloat32BE=Ese;function Sse(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}pt.writeFloat32LE=Sse;function Ase(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}pt.writeFloat64BE=Ase;function Cse(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}pt.writeFloat64LE=Cse;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=dg,r=pt,n=ri;t.defaultRandomSource=new e.SystemRandomSource;function i(l,u=t.defaultRandomSource){return u.randomBytes(l)}t.randomBytes=i;function s(l=t.defaultRandomSource){const u=i(4,l),h=(0,r.readUint32LE)(u);return(0,n.wipe)(u),h}t.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(l,u=o,h=t.defaultRandomSource){if(u.length<2)throw new Error("randomString charset is too short");if(u.length>256)throw new Error("randomString charset is too long");let b="";const v=u.length,E=256-256%v;for(;l>0;){const D=i(Math.ceil(l*256/E),h);for(let x=0;x<D.length&&l>0;x++){const _=D[x];_<E&&(b+=u.charAt(_%v),l--)}(0,n.wipe)(D)}return b}t.randomString=a;function c(l,u=o,h=t.defaultRandomSource){const b=Math.ceil(l/(Math.log(u.length)/Math.LN2));return a(b,u,h)}t.randomStringForEntropy=c})(cu);var AM={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=pt,r=ri;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var u=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&l>0;)this._buffer[this._bufferLength++]=c[u++],l--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(u=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,c,u,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[u++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,u=this._bufferLength,h=l/536870912|0,b=l<<3,v=l%128<112?128:256;this._buffer[u]=128;for(var E=u+1;E<v-8;E++)this._buffer[E]=0;e.writeUint32BE(h,this._buffer,v-8),e.writeUint32BE(b,this._buffer,v-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,v),this._finished=!0}for(var E=0;E<this.digestLength/8;E++)e.writeUint32BE(this._stateHi[E],c,E*8),e.writeUint32BE(this._stateLo[E],c,E*8+4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._stateHi.set(c.stateHi),this._stateLo.set(c.stateLo),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.stateHi),r.wipe(c.stateLo),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,c,l,u,h,b,v){for(var E=l[0],D=l[1],x=l[2],_=l[3],m=l[4],w=l[5],A=l[6],k=l[7],z=u[0],S=u[1],H=u[2],re=u[3],W=u[4],y=u[5],R=u[6],I=u[7],f,p,T,M,C,d,B,O;v>=128;){for(var g=0;g<16;g++){var L=8*g+b;a[g]=e.readUint32BE(h,L),c[g]=e.readUint32BE(h,L+4)}for(var g=0;g<80;g++){var Q=E,P=D,G=x,V=_,K=m,Y=w,N=A,U=k,Z=z,ae=S,ce=H,pe=re,ee=W,j=y,q=R,X=I;if(f=k,p=I,C=p&65535,d=p>>>16,B=f&65535,O=f>>>16,f=(m>>>14|W<<32-14)^(m>>>18|W<<32-18)^(W>>>41-32|m<<32-(41-32)),p=(W>>>14|m<<32-14)^(W>>>18|m<<32-18)^(m>>>41-32|W<<32-(41-32)),C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,f=m&w^~m&A,p=W&y^~W&R,C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,f=i[g*2],p=i[g*2+1],C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,f=a[g%16],p=c[g%16],C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,d+=C>>>16,B+=d>>>16,O+=B>>>16,T=B&65535|O<<16,M=C&65535|d<<16,f=T,p=M,C=p&65535,d=p>>>16,B=f&65535,O=f>>>16,f=(E>>>28|z<<32-28)^(z>>>34-32|E<<32-(34-32))^(z>>>39-32|E<<32-(39-32)),p=(z>>>28|E<<32-28)^(E>>>34-32|z<<32-(34-32))^(E>>>39-32|z<<32-(39-32)),C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,f=E&D^E&x^D&x,p=z&S^z&H^S&H,C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,d+=C>>>16,B+=d>>>16,O+=B>>>16,U=B&65535|O<<16,X=C&65535|d<<16,f=V,p=pe,C=p&65535,d=p>>>16,B=f&65535,O=f>>>16,f=T,p=M,C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,d+=C>>>16,B+=d>>>16,O+=B>>>16,V=B&65535|O<<16,pe=C&65535|d<<16,D=Q,x=P,_=G,m=V,w=K,A=Y,k=N,E=U,S=Z,H=ae,re=ce,W=pe,y=ee,R=j,I=q,z=X,g%16===15)for(var L=0;L<16;L++)f=a[L],p=c[L],C=p&65535,d=p>>>16,B=f&65535,O=f>>>16,f=a[(L+9)%16],p=c[(L+9)%16],C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,T=a[(L+1)%16],M=c[(L+1)%16],f=(T>>>1|M<<32-1)^(T>>>8|M<<32-8)^T>>>7,p=(M>>>1|T<<32-1)^(M>>>8|T<<32-8)^(M>>>7|T<<32-7),C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,T=a[(L+14)%16],M=c[(L+14)%16],f=(T>>>19|M<<32-19)^(M>>>61-32|T<<32-(61-32))^T>>>6,p=(M>>>19|T<<32-19)^(T>>>61-32|M<<32-(61-32))^(M>>>6|T<<32-6),C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,d+=C>>>16,B+=d>>>16,O+=B>>>16,a[L]=B&65535|O<<16,c[L]=C&65535|d<<16}f=E,p=z,C=p&65535,d=p>>>16,B=f&65535,O=f>>>16,f=l[0],p=u[0],C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,d+=C>>>16,B+=d>>>16,O+=B>>>16,l[0]=E=B&65535|O<<16,u[0]=z=C&65535|d<<16,f=D,p=S,C=p&65535,d=p>>>16,B=f&65535,O=f>>>16,f=l[1],p=u[1],C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,d+=C>>>16,B+=d>>>16,O+=B>>>16,l[1]=D=B&65535|O<<16,u[1]=S=C&65535|d<<16,f=x,p=H,C=p&65535,d=p>>>16,B=f&65535,O=f>>>16,f=l[2],p=u[2],C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,d+=C>>>16,B+=d>>>16,O+=B>>>16,l[2]=x=B&65535|O<<16,u[2]=H=C&65535|d<<16,f=_,p=re,C=p&65535,d=p>>>16,B=f&65535,O=f>>>16,f=l[3],p=u[3],C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,d+=C>>>16,B+=d>>>16,O+=B>>>16,l[3]=_=B&65535|O<<16,u[3]=re=C&65535|d<<16,f=m,p=W,C=p&65535,d=p>>>16,B=f&65535,O=f>>>16,f=l[4],p=u[4],C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,d+=C>>>16,B+=d>>>16,O+=B>>>16,l[4]=m=B&65535|O<<16,u[4]=W=C&65535|d<<16,f=w,p=y,C=p&65535,d=p>>>16,B=f&65535,O=f>>>16,f=l[5],p=u[5],C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,d+=C>>>16,B+=d>>>16,O+=B>>>16,l[5]=w=B&65535|O<<16,u[5]=y=C&65535|d<<16,f=A,p=R,C=p&65535,d=p>>>16,B=f&65535,O=f>>>16,f=l[6],p=u[6],C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,d+=C>>>16,B+=d>>>16,O+=B>>>16,l[6]=A=B&65535|O<<16,u[6]=R=C&65535|d<<16,f=k,p=I,C=p&65535,d=p>>>16,B=f&65535,O=f>>>16,f=l[7],p=u[7],C+=p&65535,d+=p>>>16,B+=f&65535,O+=f>>>16,d+=C>>>16,B+=d>>>16,O+=B>>>16,l[7]=k=B&65535|O<<16,u[7]=I=C&65535|d<<16,b+=128,v-=128}return b}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(AM);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=cu,r=AM,n=ri;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(V){const K=new Float64Array(16);if(V)for(let Y=0;Y<V.length;Y++)K[Y]=V[Y];return K}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),c=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),b=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(V,K){for(let Y=0;Y<16;Y++)V[Y]=K[Y]|0}function E(V){let K=1;for(let Y=0;Y<16;Y++){let N=V[Y]+K+65535;K=Math.floor(N/65536),V[Y]=N-K*65536}V[0]+=K-1+37*(K-1)}function D(V,K,Y){const N=~(Y-1);for(let U=0;U<16;U++){const Z=N&(V[U]^K[U]);V[U]^=Z,K[U]^=Z}}function x(V,K){const Y=i(),N=i();for(let U=0;U<16;U++)N[U]=K[U];E(N),E(N),E(N);for(let U=0;U<2;U++){Y[0]=N[0]-65517;for(let ae=1;ae<15;ae++)Y[ae]=N[ae]-65535-(Y[ae-1]>>16&1),Y[ae-1]&=65535;Y[15]=N[15]-32767-(Y[14]>>16&1);const Z=Y[15]>>16&1;Y[14]&=65535,D(N,Y,1-Z)}for(let U=0;U<16;U++)V[2*U]=N[U]&255,V[2*U+1]=N[U]>>8}function _(V,K){let Y=0;for(let N=0;N<32;N++)Y|=V[N]^K[N];return(1&Y-1>>>8)-1}function m(V,K){const Y=new Uint8Array(32),N=new Uint8Array(32);return x(Y,V),x(N,K),_(Y,N)}function w(V){const K=new Uint8Array(32);return x(K,V),K[0]&1}function A(V,K){for(let Y=0;Y<16;Y++)V[Y]=K[2*Y]+(K[2*Y+1]<<8);V[15]&=32767}function k(V,K,Y){for(let N=0;N<16;N++)V[N]=K[N]+Y[N]}function z(V,K,Y){for(let N=0;N<16;N++)V[N]=K[N]-Y[N]}function S(V,K,Y){let N,U,Z=0,ae=0,ce=0,pe=0,ee=0,j=0,q=0,X=0,ie=0,fe=0,de=0,ge=0,be=0,Ae=0,we=0,J=0,$=0,F=0,te=0,se=0,oe=0,le=0,ke=0,_e=0,Ce=0,rt=0,Ie=0,qe=0,dr=0,Je=0,Ze=0,Tt=Y[0],Re=Y[1],De=Y[2],kt=Y[3],Be=Y[4],Pe=Y[5],Dt=Y[6],Fe=Y[7],Ue=Y[8],Bt=Y[9],je=Y[10],$e=Y[11],Ot=Y[12],Oe=Y[13],He=Y[14],Lt=Y[15];N=K[0],Z+=N*Tt,ae+=N*Re,ce+=N*De,pe+=N*kt,ee+=N*Be,j+=N*Pe,q+=N*Dt,X+=N*Fe,ie+=N*Ue,fe+=N*Bt,de+=N*je,ge+=N*$e,be+=N*Ot,Ae+=N*Oe,we+=N*He,J+=N*Lt,N=K[1],ae+=N*Tt,ce+=N*Re,pe+=N*De,ee+=N*kt,j+=N*Be,q+=N*Pe,X+=N*Dt,ie+=N*Fe,fe+=N*Ue,de+=N*Bt,ge+=N*je,be+=N*$e,Ae+=N*Ot,we+=N*Oe,J+=N*He,$+=N*Lt,N=K[2],ce+=N*Tt,pe+=N*Re,ee+=N*De,j+=N*kt,q+=N*Be,X+=N*Pe,ie+=N*Dt,fe+=N*Fe,de+=N*Ue,ge+=N*Bt,be+=N*je,Ae+=N*$e,we+=N*Ot,J+=N*Oe,$+=N*He,F+=N*Lt,N=K[3],pe+=N*Tt,ee+=N*Re,j+=N*De,q+=N*kt,X+=N*Be,ie+=N*Pe,fe+=N*Dt,de+=N*Fe,ge+=N*Ue,be+=N*Bt,Ae+=N*je,we+=N*$e,J+=N*Ot,$+=N*Oe,F+=N*He,te+=N*Lt,N=K[4],ee+=N*Tt,j+=N*Re,q+=N*De,X+=N*kt,ie+=N*Be,fe+=N*Pe,de+=N*Dt,ge+=N*Fe,be+=N*Ue,Ae+=N*Bt,we+=N*je,J+=N*$e,$+=N*Ot,F+=N*Oe,te+=N*He,se+=N*Lt,N=K[5],j+=N*Tt,q+=N*Re,X+=N*De,ie+=N*kt,fe+=N*Be,de+=N*Pe,ge+=N*Dt,be+=N*Fe,Ae+=N*Ue,we+=N*Bt,J+=N*je,$+=N*$e,F+=N*Ot,te+=N*Oe,se+=N*He,oe+=N*Lt,N=K[6],q+=N*Tt,X+=N*Re,ie+=N*De,fe+=N*kt,de+=N*Be,ge+=N*Pe,be+=N*Dt,Ae+=N*Fe,we+=N*Ue,J+=N*Bt,$+=N*je,F+=N*$e,te+=N*Ot,se+=N*Oe,oe+=N*He,le+=N*Lt,N=K[7],X+=N*Tt,ie+=N*Re,fe+=N*De,de+=N*kt,ge+=N*Be,be+=N*Pe,Ae+=N*Dt,we+=N*Fe,J+=N*Ue,$+=N*Bt,F+=N*je,te+=N*$e,se+=N*Ot,oe+=N*Oe,le+=N*He,ke+=N*Lt,N=K[8],ie+=N*Tt,fe+=N*Re,de+=N*De,ge+=N*kt,be+=N*Be,Ae+=N*Pe,we+=N*Dt,J+=N*Fe,$+=N*Ue,F+=N*Bt,te+=N*je,se+=N*$e,oe+=N*Ot,le+=N*Oe,ke+=N*He,_e+=N*Lt,N=K[9],fe+=N*Tt,de+=N*Re,ge+=N*De,be+=N*kt,Ae+=N*Be,we+=N*Pe,J+=N*Dt,$+=N*Fe,F+=N*Ue,te+=N*Bt,se+=N*je,oe+=N*$e,le+=N*Ot,ke+=N*Oe,_e+=N*He,Ce+=N*Lt,N=K[10],de+=N*Tt,ge+=N*Re,be+=N*De,Ae+=N*kt,we+=N*Be,J+=N*Pe,$+=N*Dt,F+=N*Fe,te+=N*Ue,se+=N*Bt,oe+=N*je,le+=N*$e,ke+=N*Ot,_e+=N*Oe,Ce+=N*He,rt+=N*Lt,N=K[11],ge+=N*Tt,be+=N*Re,Ae+=N*De,we+=N*kt,J+=N*Be,$+=N*Pe,F+=N*Dt,te+=N*Fe,se+=N*Ue,oe+=N*Bt,le+=N*je,ke+=N*$e,_e+=N*Ot,Ce+=N*Oe,rt+=N*He,Ie+=N*Lt,N=K[12],be+=N*Tt,Ae+=N*Re,we+=N*De,J+=N*kt,$+=N*Be,F+=N*Pe,te+=N*Dt,se+=N*Fe,oe+=N*Ue,le+=N*Bt,ke+=N*je,_e+=N*$e,Ce+=N*Ot,rt+=N*Oe,Ie+=N*He,qe+=N*Lt,N=K[13],Ae+=N*Tt,we+=N*Re,J+=N*De,$+=N*kt,F+=N*Be,te+=N*Pe,se+=N*Dt,oe+=N*Fe,le+=N*Ue,ke+=N*Bt,_e+=N*je,Ce+=N*$e,rt+=N*Ot,Ie+=N*Oe,qe+=N*He,dr+=N*Lt,N=K[14],we+=N*Tt,J+=N*Re,$+=N*De,F+=N*kt,te+=N*Be,se+=N*Pe,oe+=N*Dt,le+=N*Fe,ke+=N*Ue,_e+=N*Bt,Ce+=N*je,rt+=N*$e,Ie+=N*Ot,qe+=N*Oe,dr+=N*He,Je+=N*Lt,N=K[15],J+=N*Tt,$+=N*Re,F+=N*De,te+=N*kt,se+=N*Be,oe+=N*Pe,le+=N*Dt,ke+=N*Fe,_e+=N*Ue,Ce+=N*Bt,rt+=N*je,Ie+=N*$e,qe+=N*Ot,dr+=N*Oe,Je+=N*He,Ze+=N*Lt,Z+=38*$,ae+=38*F,ce+=38*te,pe+=38*se,ee+=38*oe,j+=38*le,q+=38*ke,X+=38*_e,ie+=38*Ce,fe+=38*rt,de+=38*Ie,ge+=38*qe,be+=38*dr,Ae+=38*Je,we+=38*Ze,U=1,N=Z+U+65535,U=Math.floor(N/65536),Z=N-U*65536,N=ae+U+65535,U=Math.floor(N/65536),ae=N-U*65536,N=ce+U+65535,U=Math.floor(N/65536),ce=N-U*65536,N=pe+U+65535,U=Math.floor(N/65536),pe=N-U*65536,N=ee+U+65535,U=Math.floor(N/65536),ee=N-U*65536,N=j+U+65535,U=Math.floor(N/65536),j=N-U*65536,N=q+U+65535,U=Math.floor(N/65536),q=N-U*65536,N=X+U+65535,U=Math.floor(N/65536),X=N-U*65536,N=ie+U+65535,U=Math.floor(N/65536),ie=N-U*65536,N=fe+U+65535,U=Math.floor(N/65536),fe=N-U*65536,N=de+U+65535,U=Math.floor(N/65536),de=N-U*65536,N=ge+U+65535,U=Math.floor(N/65536),ge=N-U*65536,N=be+U+65535,U=Math.floor(N/65536),be=N-U*65536,N=Ae+U+65535,U=Math.floor(N/65536),Ae=N-U*65536,N=we+U+65535,U=Math.floor(N/65536),we=N-U*65536,N=J+U+65535,U=Math.floor(N/65536),J=N-U*65536,Z+=U-1+37*(U-1),U=1,N=Z+U+65535,U=Math.floor(N/65536),Z=N-U*65536,N=ae+U+65535,U=Math.floor(N/65536),ae=N-U*65536,N=ce+U+65535,U=Math.floor(N/65536),ce=N-U*65536,N=pe+U+65535,U=Math.floor(N/65536),pe=N-U*65536,N=ee+U+65535,U=Math.floor(N/65536),ee=N-U*65536,N=j+U+65535,U=Math.floor(N/65536),j=N-U*65536,N=q+U+65535,U=Math.floor(N/65536),q=N-U*65536,N=X+U+65535,U=Math.floor(N/65536),X=N-U*65536,N=ie+U+65535,U=Math.floor(N/65536),ie=N-U*65536,N=fe+U+65535,U=Math.floor(N/65536),fe=N-U*65536,N=de+U+65535,U=Math.floor(N/65536),de=N-U*65536,N=ge+U+65535,U=Math.floor(N/65536),ge=N-U*65536,N=be+U+65535,U=Math.floor(N/65536),be=N-U*65536,N=Ae+U+65535,U=Math.floor(N/65536),Ae=N-U*65536,N=we+U+65535,U=Math.floor(N/65536),we=N-U*65536,N=J+U+65535,U=Math.floor(N/65536),J=N-U*65536,Z+=U-1+37*(U-1),V[0]=Z,V[1]=ae,V[2]=ce,V[3]=pe,V[4]=ee,V[5]=j,V[6]=q,V[7]=X,V[8]=ie,V[9]=fe,V[10]=de,V[11]=ge,V[12]=be,V[13]=Ae,V[14]=we,V[15]=J}function H(V,K){S(V,K,K)}function re(V,K){const Y=i();let N;for(N=0;N<16;N++)Y[N]=K[N];for(N=253;N>=0;N--)H(Y,Y),N!==2&&N!==4&&S(Y,Y,K);for(N=0;N<16;N++)V[N]=Y[N]}function W(V,K){const Y=i();let N;for(N=0;N<16;N++)Y[N]=K[N];for(N=250;N>=0;N--)H(Y,Y),N!==1&&S(Y,Y,K);for(N=0;N<16;N++)V[N]=Y[N]}function y(V,K){const Y=i(),N=i(),U=i(),Z=i(),ae=i(),ce=i(),pe=i(),ee=i(),j=i();z(Y,V[1],V[0]),z(j,K[1],K[0]),S(Y,Y,j),k(N,V[0],V[1]),k(j,K[0],K[1]),S(N,N,j),S(U,V[3],K[3]),S(U,U,l),S(Z,V[2],K[2]),k(Z,Z,Z),z(ae,N,Y),z(ce,Z,U),k(pe,Z,U),k(ee,N,Y),S(V[0],ae,ce),S(V[1],ee,pe),S(V[2],pe,ce),S(V[3],ae,ee)}function R(V,K,Y){for(let N=0;N<4;N++)D(V[N],K[N],Y)}function I(V,K){const Y=i(),N=i(),U=i();re(U,K[2]),S(Y,K[0],U),S(N,K[1],U),x(V,N),V[31]^=w(Y)<<7}function f(V,K,Y){v(V[0],o),v(V[1],a),v(V[2],a),v(V[3],o);for(let N=255;N>=0;--N){const U=Y[N/8|0]>>(N&7)&1;R(V,K,U),y(K,V),y(V,V),R(V,K,U)}}function p(V,K){const Y=[i(),i(),i(),i()];v(Y[0],u),v(Y[1],h),v(Y[2],a),S(Y[3],u,h),f(V,Y,K)}function T(V){if(V.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const K=(0,r.hash)(V);K[0]&=248,K[31]&=127,K[31]|=64;const Y=new Uint8Array(32),N=[i(),i(),i(),i()];p(N,K),I(Y,N);const U=new Uint8Array(64);return U.set(V),U.set(Y,32),{publicKey:Y,secretKey:U}}t.generateKeyPairFromSeed=T;function M(V){const K=(0,e.randomBytes)(32,V),Y=T(K);return(0,n.wipe)(K),Y}t.generateKeyPair=M;function C(V){if(V.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(V.subarray(32))}t.extractPublicKeyFromSecretKey=C;const d=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function B(V,K){let Y,N,U,Z;for(N=63;N>=32;--N){for(Y=0,U=N-32,Z=N-12;U<Z;++U)K[U]+=Y-16*K[N]*d[U-(N-32)],Y=Math.floor((K[U]+128)/256),K[U]-=Y*256;K[U]+=Y,K[N]=0}for(Y=0,U=0;U<32;U++)K[U]+=Y-(K[31]>>4)*d[U],Y=K[U]>>8,K[U]&=255;for(U=0;U<32;U++)K[U]-=Y*d[U];for(N=0;N<32;N++)K[N+1]+=K[N]>>8,V[N]=K[N]&255}function O(V){const K=new Float64Array(64);for(let Y=0;Y<64;Y++)K[Y]=V[Y];for(let Y=0;Y<64;Y++)V[Y]=0;B(V,K)}function g(V,K){const Y=new Float64Array(64),N=[i(),i(),i(),i()],U=(0,r.hash)(V.subarray(0,32));U[0]&=248,U[31]&=127,U[31]|=64;const Z=new Uint8Array(64);Z.set(U.subarray(32),32);const ae=new r.SHA512;ae.update(Z.subarray(32)),ae.update(K);const ce=ae.digest();ae.clean(),O(ce),p(N,ce),I(Z,N),ae.reset(),ae.update(Z.subarray(0,32)),ae.update(V.subarray(32)),ae.update(K);const pe=ae.digest();O(pe);for(let ee=0;ee<32;ee++)Y[ee]=ce[ee];for(let ee=0;ee<32;ee++)for(let j=0;j<32;j++)Y[ee+j]+=pe[ee]*U[j];return B(Z.subarray(32),Y),Z}t.sign=g;function L(V,K){const Y=i(),N=i(),U=i(),Z=i(),ae=i(),ce=i(),pe=i();return v(V[2],a),A(V[1],K),H(U,V[1]),S(Z,U,c),z(U,U,V[2]),k(Z,V[2],Z),H(ae,Z),H(ce,ae),S(pe,ce,ae),S(Y,pe,U),S(Y,Y,Z),W(Y,Y),S(Y,Y,U),S(Y,Y,Z),S(Y,Y,Z),S(V[0],Y,Z),H(N,V[0]),S(N,N,Z),m(N,U)&&S(V[0],V[0],b),H(N,V[0]),S(N,N,Z),m(N,U)?-1:(w(V[0])===K[31]>>7&&z(V[0],o,V[0]),S(V[3],V[0],V[1]),0)}function Q(V,K,Y){const N=new Uint8Array(32),U=[i(),i(),i(),i()],Z=[i(),i(),i(),i()];if(Y.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(L(Z,V))return!1;const ae=new r.SHA512;ae.update(Y.subarray(0,32)),ae.update(V),ae.update(K);const ce=ae.digest();return O(ce),f(U,Z,ce),p(Z,Y.subarray(32)),y(U,Z),I(N,U),!_(Y,N)}t.verify=Q;function P(V){let K=[i(),i(),i(),i()];if(L(K,V))throw new Error("Ed25519: invalid public key");let Y=i(),N=i(),U=K[1];k(Y,a,U),z(N,a,U),re(N,N),S(Y,Y,N);let Z=new Uint8Array(32);return x(Z,Y),Z}t.convertPublicKeyToX25519=P;function G(V){const K=(0,r.hash)(V.subarray(0,32));K[0]&=248,K[31]&=127,K[31]|=64;const Y=new Uint8Array(K.subarray(0,32));return(0,n.wipe)(K),Y}t.convertSecretKeyToX25519=G})(Kw);const Ise="EdDSA",Mse="JWT",CM=".",IM="base64url",Tse="utf8",kse="utf8",Ose=":",Rse="did",Pse="key",t6="base58btc",Nse="z",Dse="K36",Bse=32;function Jw(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function MM(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Jw(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Lse(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=MM(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return Jw(r)}function $se(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var D=0,x=0,_=0,m=E.length;_!==m&&E[_]===0;)_++,D++;for(var w=(m-_)*u+1>>>0,A=new Uint8Array(w);_!==m;){for(var k=E[_],z=0,S=w-1;(k!==0||z<x)&&S!==-1;S--,z++)k+=256*A[S]>>>0,A[S]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error("Non-zero carry");x=z,_++}for(var H=w-x;H!==w&&A[H]===0;)H++;for(var re=c.repeat(D);H<w;++H)re+=t.charAt(A[H]);return re}function b(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var D=0;if(E[D]!==" "){for(var x=0,_=0;E[D]===c;)x++,D++;for(var m=(E.length-D)*l+1>>>0,w=new Uint8Array(m);E[D];){var A=r[E.charCodeAt(D)];if(A===255)return;for(var k=0,z=m-1;(A!==0||k<_)&&z!==-1;z--,k++)A+=a*w[z]>>>0,w[z]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");_=k,D++}if(E[D]!==" "){for(var S=m-_;S!==m&&w[S]===0;)S++;for(var H=new Uint8Array(x+(m-S)),re=x;S!==m;)H[re++]=w[S++];return H}}}function v(E){var D=b(E);if(D)return D;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:b,decode:v}}var Fse=$se,Use=Fse;const jse=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Hse=t=>new TextEncoder().encode(t),zse=t=>new TextDecoder().decode(t);class Wse{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class qse{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return TM(this,e)}}class Vse{constructor(e){this.decoders=e}or(e){return TM(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const TM=(t,e)=>new Vse({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Gse{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Wse(e,r,n),this.decoder=new qse(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const mg=({name:t,prefix:e,encode:r,decode:n})=>new Gse(t,e,r,n),Kh=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Use(r,e);return mg({prefix:t,name:e,encode:n,decode:s=>jse(i(s))})},Kse=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|h,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Jse=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},tn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>mg({prefix:e,name:t,encode(i){return Jse(i,n,r)},decode(i){return Kse(i,n,r,t)}}),Zse=mg({prefix:"\0",name:"identity",encode:t=>zse(t),decode:t=>Hse(t)}),Yse=Object.freeze(Object.defineProperty({__proto__:null,identity:Zse},Symbol.toStringTag,{value:"Module"})),Qse=tn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Xse=Object.freeze(Object.defineProperty({__proto__:null,base2:Qse},Symbol.toStringTag,{value:"Module"})),eoe=tn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),toe=Object.freeze(Object.defineProperty({__proto__:null,base8:eoe},Symbol.toStringTag,{value:"Module"})),roe=Kh({prefix:"9",name:"base10",alphabet:"0123456789"}),noe=Object.freeze(Object.defineProperty({__proto__:null,base10:roe},Symbol.toStringTag,{value:"Module"})),ioe=tn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),soe=tn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ooe=Object.freeze(Object.defineProperty({__proto__:null,base16:ioe,base16upper:soe},Symbol.toStringTag,{value:"Module"})),aoe=tn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),coe=tn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),loe=tn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uoe=tn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),foe=tn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),hoe=tn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),doe=tn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),poe=tn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),goe=tn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),moe=Object.freeze(Object.defineProperty({__proto__:null,base32:aoe,base32hex:foe,base32hexpad:doe,base32hexpadupper:poe,base32hexupper:hoe,base32pad:loe,base32padupper:uoe,base32upper:coe,base32z:goe},Symbol.toStringTag,{value:"Module"})),boe=Kh({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),yoe=Kh({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),voe=Object.freeze(Object.defineProperty({__proto__:null,base36:boe,base36upper:yoe},Symbol.toStringTag,{value:"Module"})),woe=Kh({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xoe=Kh({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),_oe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:woe,base58flickr:xoe},Symbol.toStringTag,{value:"Module"})),Eoe=tn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Soe=tn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Aoe=tn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Coe=tn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ioe=Object.freeze(Object.defineProperty({__proto__:null,base64:Eoe,base64pad:Soe,base64url:Aoe,base64urlpad:Coe},Symbol.toStringTag,{value:"Module"})),kM=Array.from(""),Moe=kM.reduce((t,e,r)=>(t[r]=e,t),[]),Toe=kM.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function koe(t){return t.reduce((e,r)=>(e+=Moe[r],e),"")}function Ooe(t){const e=[];for(const r of t){const n=Toe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Roe=mg({prefix:"",name:"base256emoji",encode:koe,decode:Ooe}),Poe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Roe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bp={...Yse,...Xse,...toe,...noe,...ooe,...moe,...voe,..._oe,...Ioe,...Poe};function OM(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const r6=OM("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),sb=OM("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=MM(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),RM={utf8:r6,"utf-8":r6,hex:bp.base16,latin1:sb,ascii:sb,binary:sb,...bp};function Zw(t,e="utf8"){const r=RM[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function Yw(t,e="utf8"){const r=RM[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Jw(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function yp(t){return Zw(Yw(Xf(t),Tse),IM)}function PM(t){const e=Yw(Dse,t6),r=Nse+Zw(Lse([e,t]),t6);return[Rse,Pse,r].join(Ose)}function Noe(t){return Zw(t,IM)}function Doe(t){return Yw([yp(t.header),yp(t.payload)].join(CM),kse)}function Boe(t){return[yp(t.header),yp(t.payload),Noe(t.signature)].join(CM)}function n6(t=cu.randomBytes(Bse)){return Kw.generateKeyPairFromSeed(t)}async function Loe(t,e,r,n,i=Qe.fromMiliseconds(Date.now())){const s={alg:Ise,typ:Mse},o=PM(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=Doe({header:s,payload:c}),u=Kw.sign(n.secretKey,l);return Boe({header:s,payload:c,signature:u})}var Qw={},bg={};Object.defineProperty(bg,"__esModule",{value:!0});var un=pt,E2=ri,$oe=20;function Foe(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],u=r[15]<<24|r[14]<<16|r[13]<<8|r[12],h=r[19]<<24|r[18]<<16|r[17]<<8|r[16],b=r[23]<<24|r[22]<<16|r[21]<<8|r[20],v=r[27]<<24|r[26]<<16|r[25]<<8|r[24],E=r[31]<<24|r[30]<<16|r[29]<<8|r[28],D=e[3]<<24|e[2]<<16|e[1]<<8|e[0],x=e[7]<<24|e[6]<<16|e[5]<<8|e[4],_=e[11]<<24|e[10]<<16|e[9]<<8|e[8],m=e[15]<<24|e[14]<<16|e[13]<<8|e[12],w=n,A=i,k=s,z=o,S=a,H=c,re=l,W=u,y=h,R=b,I=v,f=E,p=D,T=x,M=_,C=m,d=0;d<$oe;d+=2)w=w+S|0,p^=w,p=p>>>32-16|p<<16,y=y+p|0,S^=y,S=S>>>32-12|S<<12,A=A+H|0,T^=A,T=T>>>32-16|T<<16,R=R+T|0,H^=R,H=H>>>32-12|H<<12,k=k+re|0,M^=k,M=M>>>32-16|M<<16,I=I+M|0,re^=I,re=re>>>32-12|re<<12,z=z+W|0,C^=z,C=C>>>32-16|C<<16,f=f+C|0,W^=f,W=W>>>32-12|W<<12,k=k+re|0,M^=k,M=M>>>32-8|M<<8,I=I+M|0,re^=I,re=re>>>32-7|re<<7,z=z+W|0,C^=z,C=C>>>32-8|C<<8,f=f+C|0,W^=f,W=W>>>32-7|W<<7,A=A+H|0,T^=A,T=T>>>32-8|T<<8,R=R+T|0,H^=R,H=H>>>32-7|H<<7,w=w+S|0,p^=w,p=p>>>32-8|p<<8,y=y+p|0,S^=y,S=S>>>32-7|S<<7,w=w+H|0,C^=w,C=C>>>32-16|C<<16,I=I+C|0,H^=I,H=H>>>32-12|H<<12,A=A+re|0,p^=A,p=p>>>32-16|p<<16,f=f+p|0,re^=f,re=re>>>32-12|re<<12,k=k+W|0,T^=k,T=T>>>32-16|T<<16,y=y+T|0,W^=y,W=W>>>32-12|W<<12,z=z+S|0,M^=z,M=M>>>32-16|M<<16,R=R+M|0,S^=R,S=S>>>32-12|S<<12,k=k+W|0,T^=k,T=T>>>32-8|T<<8,y=y+T|0,W^=y,W=W>>>32-7|W<<7,z=z+S|0,M^=z,M=M>>>32-8|M<<8,R=R+M|0,S^=R,S=S>>>32-7|S<<7,A=A+re|0,p^=A,p=p>>>32-8|p<<8,f=f+p|0,re^=f,re=re>>>32-7|re<<7,w=w+H|0,C^=w,C=C>>>32-8|C<<8,I=I+C|0,H^=I,H=H>>>32-7|H<<7;un.writeUint32LE(w+n|0,t,0),un.writeUint32LE(A+i|0,t,4),un.writeUint32LE(k+s|0,t,8),un.writeUint32LE(z+o|0,t,12),un.writeUint32LE(S+a|0,t,16),un.writeUint32LE(H+c|0,t,20),un.writeUint32LE(re+l|0,t,24),un.writeUint32LE(W+u|0,t,28),un.writeUint32LE(y+h|0,t,32),un.writeUint32LE(R+b|0,t,36),un.writeUint32LE(I+v|0,t,40),un.writeUint32LE(f+E|0,t,44),un.writeUint32LE(p+D|0,t,48),un.writeUint32LE(T+x|0,t,52),un.writeUint32LE(M+_|0,t,56),un.writeUint32LE(C+m|0,t,60)}function NM(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),c=0;c<r.length;c+=64){Foe(a,s,t);for(var l=c;l<c+64&&l<r.length;l++)n[l]=r[l]^a[l-c];joe(s,0,o)}return E2.wipe(a),i===0&&E2.wipe(s),n}bg.streamXOR=NM;function Uoe(t,e,r,n){return n===void 0&&(n=0),E2.wipe(r),NM(t,e,r,r,n)}bg.stream=Uoe;function joe(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var DM={},Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});function Hoe(t,e,r){return~(t-1)&e|t-1&r}Yo.select=Hoe;function zoe(t,e){return(t|0)-(e|0)-1>>>31&1}Yo.lessOrEqual=zoe;function BM(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Yo.compare=BM;function Woe(t,e){return t.length===0||e.length===0?!1:BM(t,e)!==0}Yo.equal=Woe;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Yo,r=ri;t.DIGEST_LENGTH=16;var n=function(){function o(a){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=a[0]|a[1]<<8;this._r[0]=c&8191;var l=a[2]|a[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var u=a[4]|a[5]<<8;this._r[2]=(l>>>10|u<<6)&7939;var h=a[6]|a[7]<<8;this._r[3]=(u>>>7|h<<9)&8191;var b=a[8]|a[9]<<8;this._r[4]=(h>>>4|b<<12)&255,this._r[5]=b>>>1&8190;var v=a[10]|a[11]<<8;this._r[6]=(b>>>14|v<<2)&8191;var E=a[12]|a[13]<<8;this._r[7]=(v>>>11|E<<5)&8065;var D=a[14]|a[15]<<8;this._r[8]=(E>>>8|D<<8)&8191,this._r[9]=D>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,c,l){for(var u=this._fin?0:2048,h=this._h[0],b=this._h[1],v=this._h[2],E=this._h[3],D=this._h[4],x=this._h[5],_=this._h[6],m=this._h[7],w=this._h[8],A=this._h[9],k=this._r[0],z=this._r[1],S=this._r[2],H=this._r[3],re=this._r[4],W=this._r[5],y=this._r[6],R=this._r[7],I=this._r[8],f=this._r[9];l>=16;){var p=a[c+0]|a[c+1]<<8;h+=p&8191;var T=a[c+2]|a[c+3]<<8;b+=(p>>>13|T<<3)&8191;var M=a[c+4]|a[c+5]<<8;v+=(T>>>10|M<<6)&8191;var C=a[c+6]|a[c+7]<<8;E+=(M>>>7|C<<9)&8191;var d=a[c+8]|a[c+9]<<8;D+=(C>>>4|d<<12)&8191,x+=d>>>1&8191;var B=a[c+10]|a[c+11]<<8;_+=(d>>>14|B<<2)&8191;var O=a[c+12]|a[c+13]<<8;m+=(B>>>11|O<<5)&8191;var g=a[c+14]|a[c+15]<<8;w+=(O>>>8|g<<8)&8191,A+=g>>>5|u;var L=0,Q=L;Q+=h*k,Q+=b*(5*f),Q+=v*(5*I),Q+=E*(5*R),Q+=D*(5*y),L=Q>>>13,Q&=8191,Q+=x*(5*W),Q+=_*(5*re),Q+=m*(5*H),Q+=w*(5*S),Q+=A*(5*z),L+=Q>>>13,Q&=8191;var P=L;P+=h*z,P+=b*k,P+=v*(5*f),P+=E*(5*I),P+=D*(5*R),L=P>>>13,P&=8191,P+=x*(5*y),P+=_*(5*W),P+=m*(5*re),P+=w*(5*H),P+=A*(5*S),L+=P>>>13,P&=8191;var G=L;G+=h*S,G+=b*z,G+=v*k,G+=E*(5*f),G+=D*(5*I),L=G>>>13,G&=8191,G+=x*(5*R),G+=_*(5*y),G+=m*(5*W),G+=w*(5*re),G+=A*(5*H),L+=G>>>13,G&=8191;var V=L;V+=h*H,V+=b*S,V+=v*z,V+=E*k,V+=D*(5*f),L=V>>>13,V&=8191,V+=x*(5*I),V+=_*(5*R),V+=m*(5*y),V+=w*(5*W),V+=A*(5*re),L+=V>>>13,V&=8191;var K=L;K+=h*re,K+=b*H,K+=v*S,K+=E*z,K+=D*k,L=K>>>13,K&=8191,K+=x*(5*f),K+=_*(5*I),K+=m*(5*R),K+=w*(5*y),K+=A*(5*W),L+=K>>>13,K&=8191;var Y=L;Y+=h*W,Y+=b*re,Y+=v*H,Y+=E*S,Y+=D*z,L=Y>>>13,Y&=8191,Y+=x*k,Y+=_*(5*f),Y+=m*(5*I),Y+=w*(5*R),Y+=A*(5*y),L+=Y>>>13,Y&=8191;var N=L;N+=h*y,N+=b*W,N+=v*re,N+=E*H,N+=D*S,L=N>>>13,N&=8191,N+=x*z,N+=_*k,N+=m*(5*f),N+=w*(5*I),N+=A*(5*R),L+=N>>>13,N&=8191;var U=L;U+=h*R,U+=b*y,U+=v*W,U+=E*re,U+=D*H,L=U>>>13,U&=8191,U+=x*S,U+=_*z,U+=m*k,U+=w*(5*f),U+=A*(5*I),L+=U>>>13,U&=8191;var Z=L;Z+=h*I,Z+=b*R,Z+=v*y,Z+=E*W,Z+=D*re,L=Z>>>13,Z&=8191,Z+=x*H,Z+=_*S,Z+=m*z,Z+=w*k,Z+=A*(5*f),L+=Z>>>13,Z&=8191;var ae=L;ae+=h*f,ae+=b*I,ae+=v*R,ae+=E*y,ae+=D*W,L=ae>>>13,ae&=8191,ae+=x*re,ae+=_*H,ae+=m*S,ae+=w*z,ae+=A*k,L+=ae>>>13,ae&=8191,L=(L<<2)+L|0,L=L+Q|0,Q=L&8191,L=L>>>13,P+=L,h=Q,b=P,v=G,E=V,D=K,x=Y,_=N,m=U,w=Z,A=ae,c+=16,l-=16}this._h[0]=h,this._h[1]=b,this._h[2]=v,this._h[3]=E,this._h[4]=D,this._h[5]=x,this._h[6]=_,this._h[7]=m,this._h[8]=w,this._h[9]=A},o.prototype.finish=function(a,c){c===void 0&&(c=0);var l=new Uint16Array(10),u,h,b,v;if(this._leftover){for(v=this._leftover,this._buffer[v++]=1;v<16;v++)this._buffer[v]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(u=this._h[1]>>>13,this._h[1]&=8191,v=2;v<10;v++)this._h[v]+=u,u=this._h[v]>>>13,this._h[v]&=8191;for(this._h[0]+=u*5,u=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=u,u=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=u,l[0]=this._h[0]+5,u=l[0]>>>13,l[0]&=8191,v=1;v<10;v++)l[v]=this._h[v]+u,u=l[v]>>>13,l[v]&=8191;for(l[9]-=1<<13,h=(u^1)-1,v=0;v<10;v++)l[v]&=h;for(h=~h,v=0;v<10;v++)this._h[v]=this._h[v]&h|l[v];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,b=this._h[0]+this._pad[0],this._h[0]=b&65535,v=1;v<8;v++)b=(this._h[v]+this._pad[v]|0)+(b>>>16)|0,this._h[v]=b&65535;return a[c+0]=this._h[0]>>>0,a[c+1]=this._h[0]>>>8,a[c+2]=this._h[1]>>>0,a[c+3]=this._h[1]>>>8,a[c+4]=this._h[2]>>>0,a[c+5]=this._h[2]>>>8,a[c+6]=this._h[3]>>>0,a[c+7]=this._h[3]>>>8,a[c+8]=this._h[4]>>>0,a[c+9]=this._h[4]>>>8,a[c+10]=this._h[5]>>>0,a[c+11]=this._h[5]>>>8,a[c+12]=this._h[6]>>>0,a[c+13]=this._h[6]>>>8,a[c+14]=this._h[7]>>>0,a[c+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var c=0,l=a.length,u;if(this._leftover){u=16-this._leftover,u>l&&(u=l);for(var h=0;h<u;h++)this._buffer[this._leftover+h]=a[c+h];if(l-=u,c+=u,this._leftover+=u,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(u=l-l%16,this._blocks(a,c,u),c+=u,l-=u),l){for(var h=0;h<l;h++)this._buffer[this._leftover+h]=a[c+h];this._leftover+=l}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();t.Poly1305=n;function i(o,a){var c=new n(o);c.update(a);var l=c.digest();return c.clean(),l}t.oneTimeAuth=i;function s(o,a){return o.length!==t.DIGEST_LENGTH||a.length!==t.DIGEST_LENGTH?!1:e.equal(o,a)}t.equal=s})(DM);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=bg,r=DM,n=ri,i=pt,s=Yo;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var o=new Uint8Array(16),a=function(){function c(l){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,l.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return c.prototype.seal=function(l,u,h,b){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var v=new Uint8Array(16);v.set(l,v.length-l.length);var E=new Uint8Array(32);e.stream(this._key,v,E,4);var D=u.length+this.tagLength,x;if(b){if(b.length!==D)throw new Error("ChaCha20Poly1305: incorrect destination length");x=b}else x=new Uint8Array(D);return e.streamXOR(this._key,v,u,x,4),this._authenticate(x.subarray(x.length-this.tagLength,x.length),E,x.subarray(0,x.length-this.tagLength),h),n.wipe(v),x},c.prototype.open=function(l,u,h,b){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(u.length<this.tagLength)return null;var v=new Uint8Array(16);v.set(l,v.length-l.length);var E=new Uint8Array(32);e.stream(this._key,v,E,4);var D=new Uint8Array(this.tagLength);if(this._authenticate(D,E,u.subarray(0,u.length-this.tagLength),h),!s.equal(D,u.subarray(u.length-this.tagLength,u.length)))return null;var x=u.length-this.tagLength,_;if(b){if(b.length!==x)throw new Error("ChaCha20Poly1305: incorrect destination length");_=b}else _=new Uint8Array(x);return e.streamXOR(this._key,v,u.subarray(0,u.length-this.tagLength),_,4),n.wipe(v),_},c.prototype.clean=function(){return n.wipe(this._key),this},c.prototype._authenticate=function(l,u,h,b){var v=new r.Poly1305(u);b&&(v.update(b),b.length%16>0&&v.update(o.subarray(b.length%16))),v.update(h),h.length%16>0&&v.update(o.subarray(h.length%16));var E=new Uint8Array(8);b&&i.writeUint64LE(b.length,E),v.update(E),i.writeUint64LE(h.length,E),v.update(E);for(var D=v.digest(),x=0;x<D.length;x++)l[x]=D[x];v.clean(),n.wipe(D),n.wipe(E)},c}();t.ChaCha20Poly1305=a})(Qw);var LM={},Jh={},Xw={};Object.defineProperty(Xw,"__esModule",{value:!0});function qoe(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}Xw.isSerializableHash=qoe;Object.defineProperty(Jh,"__esModule",{value:!0});var Gi=Xw,Voe=Yo,Goe=ri,$M=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),Gi.isSerializableHash(this._inner)&&Gi.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),Goe.wipe(n)}return t.prototype.reset=function(){if(!Gi.isSerializableHash(this._inner)||!Gi.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Gi.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Gi.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Gi.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Gi.isSerializableHash(this._inner)||!Gi.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Gi.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();Jh.HMAC=$M;function Koe(t,e,r){var n=new $M(t,e);n.update(r);var i=n.digest();return n.clean(),i}Jh.hmac=Koe;Jh.equal=Voe.equal;Object.defineProperty(LM,"__esModule",{value:!0});var i6=Jh,s6=ri,Joe=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=i6.hmac(this._hash,n,r);this._hmac=new i6.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),s6.wipe(this._buffer),s6.wipe(this._counter),this._bufpos=0},t}(),Zoe=LM.HKDF=Joe,yg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=pt,r=ri;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var u=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=c[u++],l--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(u=s(this._temp,this._state,c,u,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[u++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,u=this._bufferLength,h=l/536870912|0,b=l<<3,v=l%64<56?64:128;this._buffer[u]=128;for(var E=u+1;E<v-8;E++)this._buffer[E]=0;e.writeUint32BE(h,this._buffer,v-8),e.writeUint32BE(b,this._buffer,v-4),s(this._temp,this._state,this._buffer,0,v),this._finished=!0}for(var E=0;E<this.digestLength/4;E++)e.writeUint32BE(this._state[E],c,E*4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.state),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,c,l,u,h){for(;h>=64;){for(var b=c[0],v=c[1],E=c[2],D=c[3],x=c[4],_=c[5],m=c[6],w=c[7],A=0;A<16;A++){var k=u+A*4;a[A]=e.readUint32BE(l,k)}for(var A=16;A<64;A++){var z=a[A-2],S=(z>>>17|z<<32-17)^(z>>>19|z<<32-19)^z>>>10;z=a[A-15];var H=(z>>>7|z<<32-7)^(z>>>18|z<<32-18)^z>>>3;a[A]=(S+a[A-7]|0)+(H+a[A-16]|0)}for(var A=0;A<64;A++){var S=(((x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7))+(x&_^~x&m)|0)+(w+(i[A]+a[A]|0)|0)|0,H=((b>>>2|b<<32-2)^(b>>>13|b<<32-13)^(b>>>22|b<<32-22))+(b&v^b&E^v&E)|0;w=m,m=_,_=x,x=D+S|0,D=E,E=v,v=b,b=S+H|0}c[0]+=b,c[1]+=v,c[2]+=E,c[3]+=D,c[4]+=x,c[5]+=_,c[6]+=m,c[7]+=w,u+=64,h-=64}return u}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(yg);var e3={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=cu,r=ri;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(A){const k=new Float64Array(16);if(A)for(let z=0;z<A.length;z++)k[z]=A[z];return k}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function o(A){let k=1;for(let z=0;z<16;z++){let S=A[z]+k+65535;k=Math.floor(S/65536),A[z]=S-k*65536}A[0]+=k-1+37*(k-1)}function a(A,k,z){const S=~(z-1);for(let H=0;H<16;H++){const re=S&(A[H]^k[H]);A[H]^=re,k[H]^=re}}function c(A,k){const z=n(),S=n();for(let H=0;H<16;H++)S[H]=k[H];o(S),o(S),o(S);for(let H=0;H<2;H++){z[0]=S[0]-65517;for(let W=1;W<15;W++)z[W]=S[W]-65535-(z[W-1]>>16&1),z[W-1]&=65535;z[15]=S[15]-32767-(z[14]>>16&1);const re=z[15]>>16&1;z[14]&=65535,a(S,z,1-re)}for(let H=0;H<16;H++)A[2*H]=S[H]&255,A[2*H+1]=S[H]>>8}function l(A,k){for(let z=0;z<16;z++)A[z]=k[2*z]+(k[2*z+1]<<8);A[15]&=32767}function u(A,k,z){for(let S=0;S<16;S++)A[S]=k[S]+z[S]}function h(A,k,z){for(let S=0;S<16;S++)A[S]=k[S]-z[S]}function b(A,k,z){let S,H,re=0,W=0,y=0,R=0,I=0,f=0,p=0,T=0,M=0,C=0,d=0,B=0,O=0,g=0,L=0,Q=0,P=0,G=0,V=0,K=0,Y=0,N=0,U=0,Z=0,ae=0,ce=0,pe=0,ee=0,j=0,q=0,X=0,ie=z[0],fe=z[1],de=z[2],ge=z[3],be=z[4],Ae=z[5],we=z[6],J=z[7],$=z[8],F=z[9],te=z[10],se=z[11],oe=z[12],le=z[13],ke=z[14],_e=z[15];S=k[0],re+=S*ie,W+=S*fe,y+=S*de,R+=S*ge,I+=S*be,f+=S*Ae,p+=S*we,T+=S*J,M+=S*$,C+=S*F,d+=S*te,B+=S*se,O+=S*oe,g+=S*le,L+=S*ke,Q+=S*_e,S=k[1],W+=S*ie,y+=S*fe,R+=S*de,I+=S*ge,f+=S*be,p+=S*Ae,T+=S*we,M+=S*J,C+=S*$,d+=S*F,B+=S*te,O+=S*se,g+=S*oe,L+=S*le,Q+=S*ke,P+=S*_e,S=k[2],y+=S*ie,R+=S*fe,I+=S*de,f+=S*ge,p+=S*be,T+=S*Ae,M+=S*we,C+=S*J,d+=S*$,B+=S*F,O+=S*te,g+=S*se,L+=S*oe,Q+=S*le,P+=S*ke,G+=S*_e,S=k[3],R+=S*ie,I+=S*fe,f+=S*de,p+=S*ge,T+=S*be,M+=S*Ae,C+=S*we,d+=S*J,B+=S*$,O+=S*F,g+=S*te,L+=S*se,Q+=S*oe,P+=S*le,G+=S*ke,V+=S*_e,S=k[4],I+=S*ie,f+=S*fe,p+=S*de,T+=S*ge,M+=S*be,C+=S*Ae,d+=S*we,B+=S*J,O+=S*$,g+=S*F,L+=S*te,Q+=S*se,P+=S*oe,G+=S*le,V+=S*ke,K+=S*_e,S=k[5],f+=S*ie,p+=S*fe,T+=S*de,M+=S*ge,C+=S*be,d+=S*Ae,B+=S*we,O+=S*J,g+=S*$,L+=S*F,Q+=S*te,P+=S*se,G+=S*oe,V+=S*le,K+=S*ke,Y+=S*_e,S=k[6],p+=S*ie,T+=S*fe,M+=S*de,C+=S*ge,d+=S*be,B+=S*Ae,O+=S*we,g+=S*J,L+=S*$,Q+=S*F,P+=S*te,G+=S*se,V+=S*oe,K+=S*le,Y+=S*ke,N+=S*_e,S=k[7],T+=S*ie,M+=S*fe,C+=S*de,d+=S*ge,B+=S*be,O+=S*Ae,g+=S*we,L+=S*J,Q+=S*$,P+=S*F,G+=S*te,V+=S*se,K+=S*oe,Y+=S*le,N+=S*ke,U+=S*_e,S=k[8],M+=S*ie,C+=S*fe,d+=S*de,B+=S*ge,O+=S*be,g+=S*Ae,L+=S*we,Q+=S*J,P+=S*$,G+=S*F,V+=S*te,K+=S*se,Y+=S*oe,N+=S*le,U+=S*ke,Z+=S*_e,S=k[9],C+=S*ie,d+=S*fe,B+=S*de,O+=S*ge,g+=S*be,L+=S*Ae,Q+=S*we,P+=S*J,G+=S*$,V+=S*F,K+=S*te,Y+=S*se,N+=S*oe,U+=S*le,Z+=S*ke,ae+=S*_e,S=k[10],d+=S*ie,B+=S*fe,O+=S*de,g+=S*ge,L+=S*be,Q+=S*Ae,P+=S*we,G+=S*J,V+=S*$,K+=S*F,Y+=S*te,N+=S*se,U+=S*oe,Z+=S*le,ae+=S*ke,ce+=S*_e,S=k[11],B+=S*ie,O+=S*fe,g+=S*de,L+=S*ge,Q+=S*be,P+=S*Ae,G+=S*we,V+=S*J,K+=S*$,Y+=S*F,N+=S*te,U+=S*se,Z+=S*oe,ae+=S*le,ce+=S*ke,pe+=S*_e,S=k[12],O+=S*ie,g+=S*fe,L+=S*de,Q+=S*ge,P+=S*be,G+=S*Ae,V+=S*we,K+=S*J,Y+=S*$,N+=S*F,U+=S*te,Z+=S*se,ae+=S*oe,ce+=S*le,pe+=S*ke,ee+=S*_e,S=k[13],g+=S*ie,L+=S*fe,Q+=S*de,P+=S*ge,G+=S*be,V+=S*Ae,K+=S*we,Y+=S*J,N+=S*$,U+=S*F,Z+=S*te,ae+=S*se,ce+=S*oe,pe+=S*le,ee+=S*ke,j+=S*_e,S=k[14],L+=S*ie,Q+=S*fe,P+=S*de,G+=S*ge,V+=S*be,K+=S*Ae,Y+=S*we,N+=S*J,U+=S*$,Z+=S*F,ae+=S*te,ce+=S*se,pe+=S*oe,ee+=S*le,j+=S*ke,q+=S*_e,S=k[15],Q+=S*ie,P+=S*fe,G+=S*de,V+=S*ge,K+=S*be,Y+=S*Ae,N+=S*we,U+=S*J,Z+=S*$,ae+=S*F,ce+=S*te,pe+=S*se,ee+=S*oe,j+=S*le,q+=S*ke,X+=S*_e,re+=38*P,W+=38*G,y+=38*V,R+=38*K,I+=38*Y,f+=38*N,p+=38*U,T+=38*Z,M+=38*ae,C+=38*ce,d+=38*pe,B+=38*ee,O+=38*j,g+=38*q,L+=38*X,H=1,S=re+H+65535,H=Math.floor(S/65536),re=S-H*65536,S=W+H+65535,H=Math.floor(S/65536),W=S-H*65536,S=y+H+65535,H=Math.floor(S/65536),y=S-H*65536,S=R+H+65535,H=Math.floor(S/65536),R=S-H*65536,S=I+H+65535,H=Math.floor(S/65536),I=S-H*65536,S=f+H+65535,H=Math.floor(S/65536),f=S-H*65536,S=p+H+65535,H=Math.floor(S/65536),p=S-H*65536,S=T+H+65535,H=Math.floor(S/65536),T=S-H*65536,S=M+H+65535,H=Math.floor(S/65536),M=S-H*65536,S=C+H+65535,H=Math.floor(S/65536),C=S-H*65536,S=d+H+65535,H=Math.floor(S/65536),d=S-H*65536,S=B+H+65535,H=Math.floor(S/65536),B=S-H*65536,S=O+H+65535,H=Math.floor(S/65536),O=S-H*65536,S=g+H+65535,H=Math.floor(S/65536),g=S-H*65536,S=L+H+65535,H=Math.floor(S/65536),L=S-H*65536,S=Q+H+65535,H=Math.floor(S/65536),Q=S-H*65536,re+=H-1+37*(H-1),H=1,S=re+H+65535,H=Math.floor(S/65536),re=S-H*65536,S=W+H+65535,H=Math.floor(S/65536),W=S-H*65536,S=y+H+65535,H=Math.floor(S/65536),y=S-H*65536,S=R+H+65535,H=Math.floor(S/65536),R=S-H*65536,S=I+H+65535,H=Math.floor(S/65536),I=S-H*65536,S=f+H+65535,H=Math.floor(S/65536),f=S-H*65536,S=p+H+65535,H=Math.floor(S/65536),p=S-H*65536,S=T+H+65535,H=Math.floor(S/65536),T=S-H*65536,S=M+H+65535,H=Math.floor(S/65536),M=S-H*65536,S=C+H+65535,H=Math.floor(S/65536),C=S-H*65536,S=d+H+65535,H=Math.floor(S/65536),d=S-H*65536,S=B+H+65535,H=Math.floor(S/65536),B=S-H*65536,S=O+H+65535,H=Math.floor(S/65536),O=S-H*65536,S=g+H+65535,H=Math.floor(S/65536),g=S-H*65536,S=L+H+65535,H=Math.floor(S/65536),L=S-H*65536,S=Q+H+65535,H=Math.floor(S/65536),Q=S-H*65536,re+=H-1+37*(H-1),A[0]=re,A[1]=W,A[2]=y,A[3]=R,A[4]=I,A[5]=f,A[6]=p,A[7]=T,A[8]=M,A[9]=C,A[10]=d,A[11]=B,A[12]=O,A[13]=g,A[14]=L,A[15]=Q}function v(A,k){b(A,k,k)}function E(A,k){const z=n();for(let S=0;S<16;S++)z[S]=k[S];for(let S=253;S>=0;S--)v(z,z),S!==2&&S!==4&&b(z,z,k);for(let S=0;S<16;S++)A[S]=z[S]}function D(A,k){const z=new Uint8Array(32),S=new Float64Array(80),H=n(),re=n(),W=n(),y=n(),R=n(),I=n();for(let M=0;M<31;M++)z[M]=A[M];z[31]=A[31]&127|64,z[0]&=248,l(S,k);for(let M=0;M<16;M++)re[M]=S[M];H[0]=y[0]=1;for(let M=254;M>=0;--M){const C=z[M>>>3]>>>(M&7)&1;a(H,re,C),a(W,y,C),u(R,H,W),h(H,H,W),u(W,re,y),h(re,re,y),v(y,R),v(I,H),b(H,W,H),b(W,re,R),u(R,H,W),h(H,H,W),v(re,H),h(W,y,I),b(H,W,s),u(H,H,y),b(W,W,H),b(H,y,I),b(y,re,S),v(re,R),a(H,re,C),a(W,y,C)}for(let M=0;M<16;M++)S[M+16]=H[M],S[M+32]=W[M],S[M+48]=re[M],S[M+64]=y[M];const f=S.subarray(32),p=S.subarray(16);E(f,f),b(p,p,f);const T=new Uint8Array(32);return c(T,p),T}t.scalarMult=D;function x(A){return D(A,i)}t.scalarMultBase=x;function _(A){if(A.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const k=new Uint8Array(A);return{publicKey:x(k),secretKey:k}}t.generateKeyPairFromSeed=_;function m(A){const k=(0,e.randomBytes)(32,A),z=_(k);return(0,r.wipe)(k),z}t.generateKeyPair=m;function w(A,k,z=!1){if(A.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(k.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const S=D(A,k);if(z){let H=0;for(let re=0;re<S.length;re++)H|=S[re];if(H===0)throw new Error("X25519: invalid shared key")}return S}t.sharedKey=w})(e3);function FM(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function o6(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=FM(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function UM(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const a6=UM("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ob=UM("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=FM(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),jM={utf8:a6,"utf-8":a6,hex:bp.base16,latin1:ob,ascii:ob,binary:ob,...bp};function Ui(t,e="utf8"){const r=jM[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function Wi(t,e="utf8"){const r=jM[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var c6=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},Yoe=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),Qoe=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Xoe=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),eae=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),tae=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),rae=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,nae=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,l6=3,iae=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",rae]],u6=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function sae(t){return t?f6(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new tae:typeof navigator<"u"?f6(navigator.userAgent):cae()}function oae(t){return t!==""&&iae.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function f6(t){var e=oae(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new eae;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<l6&&(i=c6(c6([],i,!0),lae(l6-i.length),!0)):i=[];var s=i.join("."),o=aae(t),a=nae.exec(t);return a&&a[1]?new Xoe(r,s,o,a[1]):new Yoe(r,s,o)}function aae(t){for(var e=0,r=u6.length;e<r;e++){var n=u6[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function cae(){var t=typeof process<"u"&&process.version;return t?new Qoe(process.version.slice(1)):null}function lae(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var t3={};Object.defineProperty(t3,"__esModule",{value:!0});t3.getWindowMetadata=void 0;const h6=zt;function uae(){let t,e;try{t=h6.getDocumentOrThrow(),e=h6.getLocationOrThrow()}catch{return null}function r(){const h=t.getElementsByTagName("link"),b=[];for(let v=0;v<h.length;v++){const E=h[v],D=E.getAttribute("rel");if(D&&D.toLowerCase().indexOf("icon")>-1){const x=E.getAttribute("href");if(x)if(x.toLowerCase().indexOf("https:")===-1&&x.toLowerCase().indexOf("http:")===-1&&x.indexOf("//")!==0){let _=e.protocol+"//"+e.host;if(x.indexOf("/")===0)_+=x;else{const m=e.pathname.split("/");m.pop();const w=m.join("/");_+=w+"/"+x}b.push(_)}else if(x.indexOf("//")===0){const _=e.protocol+x;b.push(_)}else b.push(x)}}return b}function n(...h){const b=t.getElementsByTagName("meta");for(let v=0;v<b.length;v++){const E=b[v],D=["itemprop","property","name"].map(x=>E.getAttribute(x)).filter(x=>x?h.includes(x):!1);if(D.length&&D){const x=E.getAttribute("content");if(x)return x}}return""}function i(){let h=n("name","og:site_name","og:title","twitter:title");return h||(h=t.title),h}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=r();return{description:a,url:c,icons:l,name:o}}t3.getWindowMetadata=uae;var sh={},r3=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(r[o]=a)}return r};(function(t){const e=rg,r=ng,n=ig,i=r3,s=m=>m==null,o=Symbol("encodeFragmentIdentifier");function a(m){switch(m.arrayFormat){case"index":return w=>(A,k)=>{const z=A.length;return k===void 0||m.skipNull&&k===null||m.skipEmptyString&&k===""?A:k===null?[...A,[u(w,m),"[",z,"]"].join("")]:[...A,[u(w,m),"[",u(z,m),"]=",u(k,m)].join("")]};case"bracket":return w=>(A,k)=>k===void 0||m.skipNull&&k===null||m.skipEmptyString&&k===""?A:k===null?[...A,[u(w,m),"[]"].join("")]:[...A,[u(w,m),"[]=",u(k,m)].join("")];case"colon-list-separator":return w=>(A,k)=>k===void 0||m.skipNull&&k===null||m.skipEmptyString&&k===""?A:k===null?[...A,[u(w,m),":list="].join("")]:[...A,[u(w,m),":list=",u(k,m)].join("")];case"comma":case"separator":case"bracket-separator":{const w=m.arrayFormat==="bracket-separator"?"[]=":"=";return A=>(k,z)=>z===void 0||m.skipNull&&z===null||m.skipEmptyString&&z===""?k:(z=z===null?"":z,k.length===0?[[u(A,m),w,u(z,m)].join("")]:[[k,u(z,m)].join(m.arrayFormatSeparator)])}default:return w=>(A,k)=>k===void 0||m.skipNull&&k===null||m.skipEmptyString&&k===""?A:k===null?[...A,u(w,m)]:[...A,[u(w,m),"=",u(k,m)].join("")]}}function c(m){let w;switch(m.arrayFormat){case"index":return(A,k,z)=>{if(w=/\[(\d*)\]$/.exec(A),A=A.replace(/\[\d*\]$/,""),!w){z[A]=k;return}z[A]===void 0&&(z[A]={}),z[A][w[1]]=k};case"bracket":return(A,k,z)=>{if(w=/(\[\])$/.exec(A),A=A.replace(/\[\]$/,""),!w){z[A]=k;return}if(z[A]===void 0){z[A]=[k];return}z[A]=[].concat(z[A],k)};case"colon-list-separator":return(A,k,z)=>{if(w=/(:list)$/.exec(A),A=A.replace(/:list$/,""),!w){z[A]=k;return}if(z[A]===void 0){z[A]=[k];return}z[A]=[].concat(z[A],k)};case"comma":case"separator":return(A,k,z)=>{const S=typeof k=="string"&&k.includes(m.arrayFormatSeparator),H=typeof k=="string"&&!S&&h(k,m).includes(m.arrayFormatSeparator);k=H?h(k,m):k;const re=S||H?k.split(m.arrayFormatSeparator).map(W=>h(W,m)):k===null?k:h(k,m);z[A]=re};case"bracket-separator":return(A,k,z)=>{const S=/(\[\])$/.test(A);if(A=A.replace(/\[\]$/,""),!S){z[A]=k&&h(k,m);return}const H=k===null?[]:k.split(m.arrayFormatSeparator).map(re=>h(re,m));if(z[A]===void 0){z[A]=H;return}z[A]=[].concat(z[A],H)};default:return(A,k,z)=>{if(z[A]===void 0){z[A]=k;return}z[A]=[].concat(z[A],k)}}}function l(m){if(typeof m!="string"||m.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function u(m,w){return w.encode?w.strict?e(m):encodeURIComponent(m):m}function h(m,w){return w.decode?r(m):m}function b(m){return Array.isArray(m)?m.sort():typeof m=="object"?b(Object.keys(m)).sort((w,A)=>Number(w)-Number(A)).map(w=>m[w]):m}function v(m){const w=m.indexOf("#");return w!==-1&&(m=m.slice(0,w)),m}function E(m){let w="";const A=m.indexOf("#");return A!==-1&&(w=m.slice(A)),w}function D(m){m=v(m);const w=m.indexOf("?");return w===-1?"":m.slice(w+1)}function x(m,w){return w.parseNumbers&&!Number.isNaN(Number(m))&&typeof m=="string"&&m.trim()!==""?m=Number(m):w.parseBooleans&&m!==null&&(m.toLowerCase()==="true"||m.toLowerCase()==="false")&&(m=m.toLowerCase()==="true"),m}function _(m,w){w=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},w),l(w.arrayFormatSeparator);const A=c(w),k=Object.create(null);if(typeof m!="string"||(m=m.trim().replace(/^[?#&]/,""),!m))return k;for(const z of m.split("&")){if(z==="")continue;let[S,H]=n(w.decode?z.replace(/\+/g," "):z,"=");H=H===void 0?null:["comma","separator","bracket-separator"].includes(w.arrayFormat)?H:h(H,w),A(h(S,w),H,k)}for(const z of Object.keys(k)){const S=k[z];if(typeof S=="object"&&S!==null)for(const H of Object.keys(S))S[H]=x(S[H],w);else k[z]=x(S,w)}return w.sort===!1?k:(w.sort===!0?Object.keys(k).sort():Object.keys(k).sort(w.sort)).reduce((z,S)=>{const H=k[S];return Boolean(H)&&typeof H=="object"&&!Array.isArray(H)?z[S]=b(H):z[S]=H,z},Object.create(null))}t.extract=D,t.parse=_,t.stringify=(m,w)=>{if(!m)return"";w=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},w),l(w.arrayFormatSeparator);const A=H=>w.skipNull&&s(m[H])||w.skipEmptyString&&m[H]==="",k=a(w),z={};for(const H of Object.keys(m))A(H)||(z[H]=m[H]);const S=Object.keys(z);return w.sort!==!1&&S.sort(w.sort),S.map(H=>{const re=m[H];return re===void 0?"":re===null?u(H,w):Array.isArray(re)?re.length===0&&w.arrayFormat==="bracket-separator"?u(H,w)+"[]":re.reduce(k(H),[]).join("&"):u(H,w)+"="+u(re,w)}).filter(H=>H.length>0).join("&")},t.parseUrl=(m,w)=>{w=Object.assign({decode:!0},w);const[A,k]=n(m,"#");return Object.assign({url:A.split("?")[0]||"",query:_(D(m),w)},w&&w.parseFragmentIdentifier&&k?{fragmentIdentifier:h(k,w)}:{})},t.stringifyUrl=(m,w)=>{w=Object.assign({encode:!0,strict:!0,[o]:!0},w);const A=v(m.url).split("?")[0]||"",k=t.extract(m.url),z=t.parse(k,{sort:!1}),S=Object.assign(z,m.query);let H=t.stringify(S,w);H&&(H=`?${H}`);let re=E(m.url);return m.fragmentIdentifier&&(re=`#${w[o]?u(m.fragmentIdentifier,w):m.fragmentIdentifier}`),`${A}${H}${re}`},t.pick=(m,w,A)=>{A=Object.assign({parseFragmentIdentifier:!0,[o]:!1},A);const{url:k,query:z,fragmentIdentifier:S}=t.parseUrl(m,A);return t.stringifyUrl({url:k,query:i(z,w),fragmentIdentifier:S},A)},t.exclude=(m,w,A)=>{const k=Array.isArray(w)?z=>!w.includes(z):(z,S)=>!w(z,S);return t.pick(m,k,A)}})(sh);const fae={waku:{publish:"waku_publish",subscribe:"waku_subscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe"},irn:{publish:"irn_publish",subscribe:"irn_subscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe"},iridium:{publish:"iridium_publish",subscribe:"iridium_subscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe"}},HM="base10",Rn="base16",S2="base64pad",n3="utf8",zM=0,lu=1,hae=0,d6=1,A2=12,i3=32;function dae(){const t=e3.generateKeyPair();return{privateKey:Wi(t.secretKey,Rn),publicKey:Wi(t.publicKey,Rn)}}function C2(){const t=cu.randomBytes(i3);return Wi(t,Rn)}function pae(t,e){const r=e3.sharedKey(Ui(t,Rn),Ui(e,Rn)),n=new Zoe(yg.SHA256,r).expand(i3);return Wi(n,Rn)}function gae(t){const e=yg.hash(Ui(t,Rn));return Wi(e,Rn)}function I2(t){const e=yg.hash(Ui(t,n3));return Wi(e,Rn)}function mae(t){return Ui(`${t}`,HM)}function Zh(t){return Number(Wi(t,HM))}function bae(t){const e=mae(typeof t.type<"u"?t.type:zM);if(Zh(e)===lu&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Ui(t.senderPublicKey,Rn):void 0,n=typeof t.iv<"u"?Ui(t.iv,Rn):cu.randomBytes(A2),i=new Qw.ChaCha20Poly1305(Ui(t.symKey,Rn)).seal(n,Ui(t.message,n3));return vae({type:e,sealed:i,iv:n,senderPublicKey:r})}function yae(t){const e=new Qw.ChaCha20Poly1305(Ui(t.symKey,Rn)),{sealed:r,iv:n}=s3(t.encoded),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return Wi(i,n3)}function vae(t){if(Zh(t.type)===lu){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Wi(o6([t.type,t.senderPublicKey,t.iv,t.sealed]),S2)}return Wi(o6([t.type,t.iv,t.sealed]),S2)}function s3(t){const e=Ui(t,S2),r=e.slice(hae,d6),n=d6;if(Zh(r)===lu){const a=n+i3,c=a+A2,l=e.slice(n,a),u=e.slice(a,c),h=e.slice(c);return{type:r,sealed:h,iv:u,senderPublicKey:l}}const i=n+A2,s=e.slice(n,i),o=e.slice(i);return{type:r,sealed:o,iv:s}}function wae(t,e){const r=s3(t);return WM({type:Zh(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Wi(r.senderPublicKey,Rn):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function WM(t){const e=(t==null?void 0:t.type)||zM;if(e===lu){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function p6(t){return t.type===lu&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var xae=Object.defineProperty,g6=Object.getOwnPropertySymbols,_ae=Object.prototype.hasOwnProperty,Eae=Object.prototype.propertyIsEnumerable,m6=(t,e,r)=>e in t?xae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,b6=(t,e)=>{for(var r in e||(e={}))_ae.call(e,r)&&m6(t,r,e[r]);if(g6)for(var r of g6(e))Eae.call(e,r)&&m6(t,r,e[r]);return t};const Sae="ReactNative",of={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Aae="js";function qM(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Cae(){return!yC()&&!!Ew()&&navigator.product===Sae}function Iae(){return!qM()&&!!Ew()}function Mae(){return Cae()?of.reactNative:qM()?of.node:Iae()?of.browser:of.unknown}function Tae(t,e){let r=sh.parse(t);return r=b6(b6({},r),e),t=sh.stringify(r),t}function kae(){const t=sae();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Oae(){var t;const e=Mae();return e===of.browser?[e,((t=vC())==null?void 0:t.host)||"unknown"].join(":"):e}function Rae(t,e,r){const n=kae(),i=Oae();return[[t,e].join("-"),[Aae,r].join("-"),n,i].join("/")}function Pae({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s}){const o=r.split("?"),a=Rae(t,e,n),c={auth:i,ua:a,projectId:s},l=Tae(o[1]||"",c);return o[0]+"?"+l}function VM(t){return Object.fromEntries(t.entries())}function GM(t){return new Map(Object.entries(t))}function ab(t,e){return Qe.fromMiliseconds((e||Date.now())+Qe.toMiliseconds(t))}function y6(t){return Qe.fromMiliseconds(Date.now())>=Qe.toMiliseconds(t)}function Nae(t){const e=Qe.toMiliseconds(t||Qe.FIVE_MINUTES);let r,n,i;return{resolve:s=>{i&&r&&(clearTimeout(i),r(s))},reject:s=>{i&&n&&(clearTimeout(i),n(s))},done:()=>new Promise((s,o)=>{i=setTimeout(o,e),r=s,n=o})}}function KM(t,e){return new Promise(async(r,n)=>{const i=setTimeout(()=>n(),e),s=await t;clearTimeout(i),r(s)})}function JM(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Dae(t){return JM("topic",t)}function Bae(t){return JM("id",t)}function Lae(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function cb(t,e){return`${t}${e?`:${e}`:""}`}const $ae="irn";function M2(t){return(t==null?void 0:t.relay)||{protocol:$ae}}function T2(t){const e=fae[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Fae=Object.defineProperty,v6=Object.getOwnPropertySymbols,Uae=Object.prototype.hasOwnProperty,jae=Object.prototype.propertyIsEnumerable,w6=(t,e,r)=>e in t?Fae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hae=(t,e)=>{for(var r in e||(e={}))Uae.call(e,r)&&w6(t,r,e[r]);if(v6)for(var r of v6(e))jae.call(e,r)&&w6(t,r,e[r]);return t};function zae(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function Wae(t){const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=sh.parse(s);return{protocol:n,topic:i[0],version:parseInt(i[1],10),symKey:o.symKey,relay:zae(o)}}function qae(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=r+e+i;t[i]&&(n[s]=t[i])}),n}function Vae(t){return`${t.protocol}:${t.topic}@${t.version}?`+sh.stringify(Hae({symKey:t.symKey},qae(t.relay)))}const Gae={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Kae={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Qt(t,e){const{message:r,code:n}=Kae[t];return{message:e?`${r} ${e}`:r,code:n}}function af(t,e){const{message:r,code:n}=Gae[t];return{message:e?`${r} ${e}`:r,code:n}}function vp(t){return typeof t>"u"}function ZM(t,e){return e&&vp(t)?!0:typeof t=="string"&&Boolean(t.trim().length)}function Jae(t){if(ZM(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function Zae(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Yae(t){return t==null?void 0:t.topic}function lb(t){return typeof t<"u"&&typeof t!==null}const x6=10,Qae=()=>typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:require("ws"),Xae=()=>typeof window<"u",ece=Qae();class tce{constructor(e){if(this.url=e,this.events=new Cr.EventEmitter,this.registering=!1,!q_(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(typeof this.socket>"u")throw new Error("Connection already closed");this.socket.close(),this.onClose()}async send(e,r){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Xf(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!q_(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=rc.isReactNative()?void 0:{rejectUnauthorized:!fX(e)},s=new ece(e,[],i);Xae()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=()=>this.onClose(),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(){this.socket=void 0,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?xw(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=wl(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return dC(e,r,"WS")}resetMaxListeners(){this.events.getMaxListeners()>x6&&this.events.setMaxListeners(x6)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",r),r}}var wp={},rce={get exports(){return wp},set exports(t){wp=t}};(function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",b="[object Error]",v="[object Function]",E="[object GeneratorFunction]",D="[object Map]",x="[object Number]",_="[object Null]",m="[object Object]",w="[object Promise]",A="[object Proxy]",k="[object RegExp]",z="[object Set]",S="[object String]",H="[object Symbol]",re="[object Undefined]",W="[object WeakMap]",y="[object ArrayBuffer]",R="[object DataView]",I="[object Float32Array]",f="[object Float64Array]",p="[object Int8Array]",T="[object Int16Array]",M="[object Int32Array]",C="[object Uint8Array]",d="[object Uint8ClampedArray]",B="[object Uint16Array]",O="[object Uint32Array]",g=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,Q=/^(?:0|[1-9]\d*)$/,P={};P[I]=P[f]=P[p]=P[T]=P[M]=P[C]=P[d]=P[B]=P[O]=!0,P[a]=P[c]=P[y]=P[u]=P[R]=P[h]=P[b]=P[v]=P[D]=P[x]=P[m]=P[k]=P[z]=P[S]=P[W]=!1;var G=typeof ze=="object"&&ze&&ze.Object===Object&&ze,V=typeof self=="object"&&self&&self.Object===Object&&self,K=G||V||Function("return this")(),Y=e&&!e.nodeType&&e,N=Y&&!0&&t&&!t.nodeType&&t,U=N&&N.exports===Y,Z=U&&G.process,ae=function(){try{return Z&&Z.binding&&Z.binding("util")}catch{}}(),ce=ae&&ae.isTypedArray;function pe(ne,he){for(var xe=-1,We=ne==null?0:ne.length,tr=0,mt=[];++xe<We;){var pr=ne[xe];he(pr,xe,ne)&&(mt[tr++]=pr)}return mt}function ee(ne,he){for(var xe=-1,We=he.length,tr=ne.length;++xe<We;)ne[tr+xe]=he[xe];return ne}function j(ne,he){for(var xe=-1,We=ne==null?0:ne.length;++xe<We;)if(he(ne[xe],xe,ne))return!0;return!1}function q(ne,he){for(var xe=-1,We=Array(ne);++xe<ne;)We[xe]=he(xe);return We}function X(ne){return function(he){return ne(he)}}function ie(ne,he){return ne.has(he)}function fe(ne,he){return ne==null?void 0:ne[he]}function de(ne){var he=-1,xe=Array(ne.size);return ne.forEach(function(We,tr){xe[++he]=[tr,We]}),xe}function ge(ne,he){return function(xe){return ne(he(xe))}}function be(ne){var he=-1,xe=Array(ne.size);return ne.forEach(function(We){xe[++he]=We}),xe}var Ae=Array.prototype,we=Function.prototype,J=Object.prototype,$=K["__core-js_shared__"],F=we.toString,te=J.hasOwnProperty,se=function(){var ne=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return ne?"Symbol(src)_1."+ne:""}(),oe=J.toString,le=RegExp("^"+F.call(te).replace(g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ke=U?K.Buffer:void 0,_e=K.Symbol,Ce=K.Uint8Array,rt=J.propertyIsEnumerable,Ie=Ae.splice,qe=_e?_e.toStringTag:void 0,dr=Object.getOwnPropertySymbols,Je=ke?ke.isBuffer:void 0,Ze=ge(Object.keys,Object),Tt=ac(K,"DataView"),Re=ac(K,"Map"),De=ac(K,"Promise"),kt=ac(K,"Set"),Be=ac(K,"WeakMap"),Pe=ac(Object,"create"),Dt=Xo(Tt),Fe=Xo(Re),Ue=Xo(De),Bt=Xo(kt),je=Xo(Be),$e=_e?_e.prototype:void 0,Ot=$e?$e.valueOf:void 0;function Oe(ne){var he=-1,xe=ne==null?0:ne.length;for(this.clear();++he<xe;){var We=ne[he];this.set(We[0],We[1])}}function He(){this.__data__=Pe?Pe(null):{},this.size=0}function Lt(ne){var he=this.has(ne)&&delete this.__data__[ne];return this.size-=he?1:0,he}function Xe(ne){var he=this.__data__;if(Pe){var xe=he[ne];return xe===n?void 0:xe}return te.call(he,ne)?he[ne]:void 0}function et(ne){var he=this.__data__;return Pe?he[ne]!==void 0:te.call(he,ne)}function Kr(ne,he){var xe=this.__data__;return this.size+=this.has(ne)?0:1,xe[ne]=Pe&&he===void 0?n:he,this}Oe.prototype.clear=He,Oe.prototype.delete=Lt,Oe.prototype.get=Xe,Oe.prototype.has=et,Oe.prototype.set=Kr;function ft(ne){var he=-1,xe=ne==null?0:ne.length;for(this.clear();++he<xe;){var We=ne[he];this.set(We[0],We[1])}}function Rt(){this.__data__=[],this.size=0}function Dr(ne){var he=this.__data__,xe=r0(he,ne);if(xe<0)return!1;var We=he.length-1;return xe==We?he.pop():Ie.call(he,xe,1),--this.size,!0}function Br(ne){var he=this.__data__,xe=r0(he,ne);return xe<0?void 0:he[xe][1]}function Lr(ne){return r0(this.__data__,ne)>-1}function $r(ne,he){var xe=this.__data__,We=r0(xe,ne);return We<0?(++this.size,xe.push([ne,he])):xe[We][1]=he,this}ft.prototype.clear=Rt,ft.prototype.delete=Dr,ft.prototype.get=Br,ft.prototype.has=Lr,ft.prototype.set=$r;function sr(ne){var he=-1,xe=ne==null?0:ne.length;for(this.clear();++he<xe;){var We=ne[he];this.set(We[0],We[1])}}function Dn(){this.size=0,this.__data__={hash:new Oe,map:new(Re||ft),string:new Oe}}function Bn(ne){var he=n0(this,ne).delete(ne);return this.size-=he?1:0,he}function Ln(ne){return n0(this,ne).get(ne)}function $n(ne){return n0(this,ne).has(ne)}function Fn(ne,he){var xe=n0(this,ne),We=xe.size;return xe.set(ne,he),this.size+=xe.size==We?0:1,this}sr.prototype.clear=Dn,sr.prototype.delete=Bn,sr.prototype.get=Ln,sr.prototype.has=$n,sr.prototype.set=Fn;function nn(ne){var he=-1,xe=ne==null?0:ne.length;for(this.__data__=new sr;++he<xe;)this.add(ne[he])}function Un(ne){return this.__data__.set(ne,n),this}function jn(ne){return this.__data__.has(ne)}nn.prototype.add=nn.prototype.push=Un,nn.prototype.has=jn;function Ir(ne){var he=this.__data__=new ft(ne);this.size=he.size}function Ts(){this.__data__=new ft,this.size=0}function ks(ne){var he=this.__data__,xe=he.delete(ne);return this.size=he.size,xe}function uu(ne){return this.__data__.get(ne)}function fu(ne){return this.__data__.has(ne)}function hu(ne,he){var xe=this.__data__;if(xe instanceof ft){var We=xe.__data__;if(!Re||We.length<r-1)return We.push([ne,he]),this.size=++xe.size,this;xe=this.__data__=new sr(We)}return xe.set(ne,he),this.size=xe.size,this}Ir.prototype.clear=Ts,Ir.prototype.delete=ks,Ir.prototype.get=uu,Ir.prototype.has=fu,Ir.prototype.set=hu;function ek(ne,he){var xe=i0(ne),We=!xe&&gk(ne),tr=!xe&&!We&&Ig(ne),mt=!xe&&!We&&!tr&&k3(ne),pr=xe||We||tr||mt,Fr=pr?q(ne.length,String):[],Jr=Fr.length;for(var cr in ne)(he||te.call(ne,cr))&&!(pr&&(cr=="length"||tr&&(cr=="offset"||cr=="parent")||mt&&(cr=="buffer"||cr=="byteLength"||cr=="byteOffset")||uk(cr,Jr)))&&Fr.push(cr);return Fr}function r0(ne,he){for(var xe=ne.length;xe--;)if(C3(ne[xe][0],he))return xe;return-1}function tk(ne,he,xe){var We=he(ne);return i0(ne)?We:ee(We,xe(ne))}function du(ne){return ne==null?ne===void 0?re:_:qe&&qe in Object(ne)?ck(ne):pk(ne)}function _3(ne){return pu(ne)&&du(ne)==a}function E3(ne,he,xe,We,tr){return ne===he?!0:ne==null||he==null||!pu(ne)&&!pu(he)?ne!==ne&&he!==he:rk(ne,he,xe,We,E3,tr)}function rk(ne,he,xe,We,tr,mt){var pr=i0(ne),Fr=i0(he),Jr=pr?c:so(ne),cr=Fr?c:so(he);Jr=Jr==a?m:Jr,cr=cr==a?m:cr;var Hn=Jr==m,Ai=cr==m,sn=Jr==cr;if(sn&&Ig(ne)){if(!Ig(he))return!1;pr=!0,Hn=!1}if(sn&&!Hn)return mt||(mt=new Ir),pr||k3(ne)?S3(ne,he,xe,We,tr,mt):ok(ne,he,Jr,xe,We,tr,mt);if(!(xe&i)){var ii=Hn&&te.call(ne,"__wrapped__"),si=Ai&&te.call(he,"__wrapped__");if(ii||si){var oo=ii?ne.value():ne,Os=si?he.value():he;return mt||(mt=new Ir),tr(oo,Os,xe,We,mt)}}return sn?(mt||(mt=new Ir),ak(ne,he,xe,We,tr,mt)):!1}function nk(ne){if(!T3(ne)||hk(ne))return!1;var he=I3(ne)?le:L;return he.test(Xo(ne))}function ik(ne){return pu(ne)&&M3(ne.length)&&!!P[du(ne)]}function sk(ne){if(!dk(ne))return Ze(ne);var he=[];for(var xe in Object(ne))te.call(ne,xe)&&xe!="constructor"&&he.push(xe);return he}function S3(ne,he,xe,We,tr,mt){var pr=xe&i,Fr=ne.length,Jr=he.length;if(Fr!=Jr&&!(pr&&Jr>Fr))return!1;var cr=mt.get(ne);if(cr&&mt.get(he))return cr==he;var Hn=-1,Ai=!0,sn=xe&s?new nn:void 0;for(mt.set(ne,he),mt.set(he,ne);++Hn<Fr;){var ii=ne[Hn],si=he[Hn];if(We)var oo=pr?We(si,ii,Hn,he,ne,mt):We(ii,si,Hn,ne,he,mt);if(oo!==void 0){if(oo)continue;Ai=!1;break}if(sn){if(!j(he,function(Os,ea){if(!ie(sn,ea)&&(ii===Os||tr(ii,Os,xe,We,mt)))return sn.push(ea)})){Ai=!1;break}}else if(!(ii===si||tr(ii,si,xe,We,mt))){Ai=!1;break}}return mt.delete(ne),mt.delete(he),Ai}function ok(ne,he,xe,We,tr,mt,pr){switch(xe){case R:if(ne.byteLength!=he.byteLength||ne.byteOffset!=he.byteOffset)return!1;ne=ne.buffer,he=he.buffer;case y:return!(ne.byteLength!=he.byteLength||!mt(new Ce(ne),new Ce(he)));case u:case h:case x:return C3(+ne,+he);case b:return ne.name==he.name&&ne.message==he.message;case k:case S:return ne==he+"";case D:var Fr=de;case z:var Jr=We&i;if(Fr||(Fr=be),ne.size!=he.size&&!Jr)return!1;var cr=pr.get(ne);if(cr)return cr==he;We|=s,pr.set(ne,he);var Hn=S3(Fr(ne),Fr(he),We,tr,mt,pr);return pr.delete(ne),Hn;case H:if(Ot)return Ot.call(ne)==Ot.call(he)}return!1}function ak(ne,he,xe,We,tr,mt){var pr=xe&i,Fr=A3(ne),Jr=Fr.length,cr=A3(he),Hn=cr.length;if(Jr!=Hn&&!pr)return!1;for(var Ai=Jr;Ai--;){var sn=Fr[Ai];if(!(pr?sn in he:te.call(he,sn)))return!1}var ii=mt.get(ne);if(ii&&mt.get(he))return ii==he;var si=!0;mt.set(ne,he),mt.set(he,ne);for(var oo=pr;++Ai<Jr;){sn=Fr[Ai];var Os=ne[sn],ea=he[sn];if(We)var O3=pr?We(ea,Os,sn,he,ne,mt):We(Os,ea,sn,ne,he,mt);if(!(O3===void 0?Os===ea||tr(Os,ea,xe,We,mt):O3)){si=!1;break}oo||(oo=sn=="constructor")}if(si&&!oo){var s0=ne.constructor,o0=he.constructor;s0!=o0&&"constructor"in ne&&"constructor"in he&&!(typeof s0=="function"&&s0 instanceof s0&&typeof o0=="function"&&o0 instanceof o0)&&(si=!1)}return mt.delete(ne),mt.delete(he),si}function A3(ne){return tk(ne,yk,lk)}function n0(ne,he){var xe=ne.__data__;return fk(he)?xe[typeof he=="string"?"string":"hash"]:xe.map}function ac(ne,he){var xe=fe(ne,he);return nk(xe)?xe:void 0}function ck(ne){var he=te.call(ne,qe),xe=ne[qe];try{ne[qe]=void 0;var We=!0}catch{}var tr=oe.call(ne);return We&&(he?ne[qe]=xe:delete ne[qe]),tr}var lk=dr?function(ne){return ne==null?[]:(ne=Object(ne),pe(dr(ne),function(he){return rt.call(ne,he)}))}:vk,so=du;(Tt&&so(new Tt(new ArrayBuffer(1)))!=R||Re&&so(new Re)!=D||De&&so(De.resolve())!=w||kt&&so(new kt)!=z||Be&&so(new Be)!=W)&&(so=function(ne){var he=du(ne),xe=he==m?ne.constructor:void 0,We=xe?Xo(xe):"";if(We)switch(We){case Dt:return R;case Fe:return D;case Ue:return w;case Bt:return z;case je:return W}return he});function uk(ne,he){return he=he??o,!!he&&(typeof ne=="number"||Q.test(ne))&&ne>-1&&ne%1==0&&ne<he}function fk(ne){var he=typeof ne;return he=="string"||he=="number"||he=="symbol"||he=="boolean"?ne!=="__proto__":ne===null}function hk(ne){return!!se&&se in ne}function dk(ne){var he=ne&&ne.constructor,xe=typeof he=="function"&&he.prototype||J;return ne===xe}function pk(ne){return oe.call(ne)}function Xo(ne){if(ne!=null){try{return F.call(ne)}catch{}try{return ne+""}catch{}}return""}function C3(ne,he){return ne===he||ne!==ne&&he!==he}var gk=_3(function(){return arguments}())?_3:function(ne){return pu(ne)&&te.call(ne,"callee")&&!rt.call(ne,"callee")},i0=Array.isArray;function mk(ne){return ne!=null&&M3(ne.length)&&!I3(ne)}var Ig=Je||wk;function bk(ne,he){return E3(ne,he)}function I3(ne){if(!T3(ne))return!1;var he=du(ne);return he==v||he==E||he==l||he==A}function M3(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=o}function T3(ne){var he=typeof ne;return ne!=null&&(he=="object"||he=="function")}function pu(ne){return ne!=null&&typeof ne=="object"}var k3=ce?X(ce):ik;function yk(ne){return mk(ne)?ek(ne):sk(ne)}function vk(){return[]}function wk(){return!1}t.exports=bk})(rce,wp);function nce(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var D=0,x=0,_=0,m=E.length;_!==m&&E[_]===0;)_++,D++;for(var w=(m-_)*u+1>>>0,A=new Uint8Array(w);_!==m;){for(var k=E[_],z=0,S=w-1;(k!==0||z<x)&&S!==-1;S--,z++)k+=256*A[S]>>>0,A[S]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error("Non-zero carry");x=z,_++}for(var H=w-x;H!==w&&A[H]===0;)H++;for(var re=c.repeat(D);H<w;++H)re+=t.charAt(A[H]);return re}function b(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var D=0;if(E[D]!==" "){for(var x=0,_=0;E[D]===c;)x++,D++;for(var m=(E.length-D)*l+1>>>0,w=new Uint8Array(m);E[D];){var A=r[E.charCodeAt(D)];if(A===255)return;for(var k=0,z=m-1;(A!==0||k<_)&&z!==-1;z--,k++)A+=a*w[z]>>>0,w[z]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");_=k,D++}if(E[D]!==" "){for(var S=m-_;S!==m&&w[S]===0;)S++;for(var H=new Uint8Array(x+(m-S)),re=x;S!==m;)H[re++]=w[S++];return H}}}function v(E){var D=b(E);if(D)return D;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:b,decode:v}}var ice=nce,sce=ice;const YM=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},oce=t=>new TextEncoder().encode(t),ace=t=>new TextDecoder().decode(t);class cce{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class lce{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return QM(this,e)}}class uce{constructor(e){this.decoders=e}or(e){return QM(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const QM=(t,e)=>new uce({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class fce{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new cce(e,r,n),this.decoder=new lce(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const vg=({name:t,prefix:e,encode:r,decode:n})=>new fce(t,e,r,n),Yh=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=sce(r,e);return vg({prefix:t,name:e,encode:n,decode:s=>YM(i(s))})},hce=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|h,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},dce=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},rn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>vg({prefix:e,name:t,encode(i){return dce(i,n,r)},decode(i){return hce(i,n,r,t)}}),pce=vg({prefix:"\0",name:"identity",encode:t=>ace(t),decode:t=>oce(t)});var gce=Object.freeze({__proto__:null,identity:pce});const mce=rn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var bce=Object.freeze({__proto__:null,base2:mce});const yce=rn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var vce=Object.freeze({__proto__:null,base8:yce});const wce=Yh({prefix:"9",name:"base10",alphabet:"0123456789"});var xce=Object.freeze({__proto__:null,base10:wce});const _ce=rn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ece=rn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Sce=Object.freeze({__proto__:null,base16:_ce,base16upper:Ece});const Ace=rn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Cce=rn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ice=rn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Mce=rn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Tce=rn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),kce=rn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Oce=rn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Rce=rn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Pce=rn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Nce=Object.freeze({__proto__:null,base32:Ace,base32upper:Cce,base32pad:Ice,base32padupper:Mce,base32hex:Tce,base32hexupper:kce,base32hexpad:Oce,base32hexpadupper:Rce,base32z:Pce});const Dce=Yh({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Bce=Yh({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Lce=Object.freeze({__proto__:null,base36:Dce,base36upper:Bce});const $ce=Yh({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Fce=Yh({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Uce=Object.freeze({__proto__:null,base58btc:$ce,base58flickr:Fce});const jce=rn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Hce=rn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),zce=rn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Wce=rn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var qce=Object.freeze({__proto__:null,base64:jce,base64pad:Hce,base64url:zce,base64urlpad:Wce});const XM=Array.from(""),Vce=XM.reduce((t,e,r)=>(t[r]=e,t),[]),Gce=XM.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Kce(t){return t.reduce((e,r)=>(e+=Vce[r],e),"")}function Jce(t){const e=[];for(const r of t){const n=Gce[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Zce=vg({prefix:"",name:"base256emoji",encode:Kce,decode:Jce});var Yce=Object.freeze({__proto__:null,base256emoji:Zce}),Qce=eT,_6=128,Xce=127,ele=~Xce,tle=Math.pow(2,31);function eT(t,e,r){e=e||[],r=r||0;for(var n=r;t>=tle;)e[r++]=t&255|_6,t/=128;for(;t&ele;)e[r++]=t&255|_6,t>>>=7;return e[r]=t|0,eT.bytes=r-n+1,e}var rle=k2,nle=128,E6=127;function k2(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw k2.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&E6)<<i:(o&E6)*Math.pow(2,i),i+=7}while(o>=nle);return k2.bytes=s-n,r}var ile=Math.pow(2,7),sle=Math.pow(2,14),ole=Math.pow(2,21),ale=Math.pow(2,28),cle=Math.pow(2,35),lle=Math.pow(2,42),ule=Math.pow(2,49),fle=Math.pow(2,56),hle=Math.pow(2,63),dle=function(t){return t<ile?1:t<sle?2:t<ole?3:t<ale?4:t<cle?5:t<lle?6:t<ule?7:t<fle?8:t<hle?9:10},ple={encode:Qce,decode:rle,encodingLength:dle},tT=ple;const S6=(t,e,r=0)=>(tT.encode(t,e,r),e),A6=t=>tT.encodingLength(t),O2=(t,e)=>{const r=e.byteLength,n=A6(t),i=n+A6(r),s=new Uint8Array(i+r);return S6(t,s,0),S6(r,s,n),s.set(e,i),new gle(t,r,e,s)};class gle{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const rT=({name:t,code:e,encode:r})=>new mle(t,e,r);class mle{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?O2(this.code,r):r.then(n=>O2(this.code,n))}else throw Error("Unknown type, must be binary type")}}const nT=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ble=rT({name:"sha2-256",code:18,encode:nT("SHA-256")}),yle=rT({name:"sha2-512",code:19,encode:nT("SHA-512")});var vle=Object.freeze({__proto__:null,sha256:ble,sha512:yle});const iT=0,wle="identity",sT=YM,xle=t=>O2(iT,sT(t)),_le={code:iT,name:wle,encode:sT,digest:xle};var Ele=Object.freeze({__proto__:null,identity:_le});new TextEncoder,new TextDecoder;const C6={...gce,...bce,...vce,...xce,...Sce,...Nce,...Lce,...Uce,...qce,...Yce};({...vle,...Ele});function Sle(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function oT(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const I6=oT("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ub=oT("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Sle(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Ale={utf8:I6,"utf-8":I6,hex:C6.base16,latin1:ub,ascii:ub,binary:ub,...C6};function Cle(t,e="utf8"){const r=Ale[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}const aT="wc",Ile=2,o3="core",Fo=`${aT}@${2}:${o3}:`,Mle={name:o3,logger:"error"},Tle={database:":memory:"},kle="crypto",M6="client_ed25519_seed",Ole=Qe.ONE_DAY,Rle="keychain",Ple="0.3",Nle="messages",Dle="0.3",Ble=Qe.SIX_HOURS,Lle="publisher",cT="irn",$le="error",Fle="wss://relay.walletconnect.com",Ule="relayer",fn={message:"relayer_message",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},jle="_subscription",B0={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},T6=Qe.ONE_SECOND,Hle="2.3.3",zle="0.3",es={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Wle="subscription",qle="0.3",Vle=Qe.FIVE_SECONDS*1e3,Gle="pairing",Kle="0.3",Lu={wc_pairingDelete:{req:{ttl:Qe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Qe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Qe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Qe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Qe.ONE_DAY,prompt:!1,tag:0},res:{ttl:Qe.ONE_DAY,prompt:!1,tag:0}}},Ki={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Jle="history",Zle="0.3",Yle="expirer",fi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Qle="0.3";let Xle=class{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=Rle,this.version=Ple,this.initialized=!1,this.storagePrefix=Fo,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=Qt("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=Vt.generateChildLogger(r,this.name)}get context(){return Vt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,VM(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?GM(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Qt("NOT_INITIALIZED",this.name);throw new Error(e)}}},eue=class{constructor(e,r,n){this.core=e,this.logger=r,this.name=kle,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),s=n6(i);return PM(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=dae();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const s=await this.getClientSeed(),o=n6(s),a=C2();return await Loe(a,i,Ole,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=pae(a,s);return this.setSymKey(c,o)},this.setSymKey=async(i,s)=>{this.isInitialized();const o=s||gae(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();const a=WM(o),c=Xf(s);if(p6(a)){const b=a.senderPublicKey,v=a.receiverPublicKey;i=await this.generateSharedKey(b,v)}const l=this.getSymKey(i),{type:u,senderPublicKey:h}=a;return bae({type:u,symKey:l,message:c,senderPublicKey:h})},this.decode=async(i,s,o)=>{this.isInitialized();const a=wae(s,o);if(p6(a)){const u=a.receiverPublicKey,h=a.senderPublicKey;i=await this.generateSharedKey(u,h)}const c=this.getSymKey(i),l=yae({symKey:c,encoded:s});return xw(l)},this.core=e,this.logger=Vt.generateChildLogger(r,this.name),this.keychain=n||new Xle(this.core,this.logger)}get context(){return Vt.getLoggerContext(this.logger)}getPayloadType(e){const r=s3(e);return Zh(r.type)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(M6)}catch{e=C2(),await this.keychain.set(M6,e)}return Cle(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Qt("NOT_INITIALIZED",this.name);throw new Error(e)}}},tue=class extends Gie{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=Nle,this.version=Dle,this.initialized=!1,this.storagePrefix=Fo,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const s=I2(i);let o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const s=this.get(n),o=I2(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Vt.generateChildLogger(e,this.name),this.core=r}get context(){return Vt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,VM(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?GM(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=Qt("NOT_INITIALIZED",this.name);throw new Error(e)}}};class rue extends Kie{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new Cr.EventEmitter,this.name=Lle,this.queue=new Map,this.publishTimeout=1e4,this.publish=async(n,i,s)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});try{const o=(s==null?void 0:s.ttl)||Ble,a=M2(s),c=(s==null?void 0:s.prompt)||!1,l=(s==null?void 0:s.tag)||0,u={topic:n,message:i,opts:{ttl:o,relay:a,prompt:c,tag:l}},h=I2(i);this.queue.set(h,u);try{await await KM(this.rpcPublish(n,i,o,a,c,l),this.publishTimeout),this.relayer.events.emit(fn.publish,u)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit(fn.connection_stalled);return}this.onPublish(h,u),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}})}catch(o){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(o),o}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=Vt.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return Vt.getLoggerContext(this.logger)}rpcPublish(e,r,n,i,s,o){var a,c,l,u;const h={method:T2(i.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:s,tag:o}};return vp((a=h.params)==null?void 0:a.prompt)&&((c=h.params)==null||delete c.prompt),vp((l=h.params)==null?void 0:l.tag)&&((u=h.params)==null||delete u.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:h}),this.relayer.provider.request(h)}onPublish(e,r){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:i}=e;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(Gh.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}}class nue{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var iue=Object.defineProperty,sue=Object.defineProperties,oue=Object.getOwnPropertyDescriptors,k6=Object.getOwnPropertySymbols,aue=Object.prototype.hasOwnProperty,cue=Object.prototype.propertyIsEnumerable,O6=(t,e,r)=>e in t?iue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,L0=(t,e)=>{for(var r in e||(e={}))aue.call(e,r)&&O6(t,r,e[r]);if(k6)for(var r of k6(e))cue.call(e,r)&&O6(t,r,e[r]);return t},fb=(t,e)=>sue(t,oue(e));let lue=class extends Yie{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new nue,this.events=new Cr.EventEmitter,this.name=Wle,this.version=qle,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pendingSubInterval=20,this.storagePrefix=Fo,this.subscribeTimeout=1e4,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable())},this.subscribe=async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=M2(i),o={topic:n,relay:s};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((i,s)=>{const o=new Qe.Watch;o.start(this.pendingSubscriptionWatchLabel);const a=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),i(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=Vle&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),s(!1))},this.pendingSubInterval)}),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{await this.restore(),await this.reset()},this.relayer=e,this.logger=Vt.generateChildLogger(r,this.name)}get context(){return Vt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear(),this.initialized=!1}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=M2(n);await this.rpcUnsubscribe(e,r,i);const s=af("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r){const n={method:T2(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await KM(this.relayer.provider.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(fn.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:T2(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.provider.request(i)}onSubscribe(e,r){this.setSubscription(e,fb(L0({},r),{id:e})),this.pending.delete(r.topic)}onResubscribe(e,r){this.addSubscription(e,fb(L0({},r),{id:e})),this.pending.delete(r.topic)}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r))}addSubscription(e,r){this.subscriptions.set(e,L0({},r)),this.topicMap.set(r.topic,e),this.events.emit(es.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Qt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(es.deleted,fb(L0({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(es.sync)}async reset(){this.cached.length&&await Promise.all(this.cached.map(async e=>await this.resubscribe(e))),this.events.emit(es.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=Qt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async resubscribe(e){if(!this.ids.includes(e.id)){const{topic:r,relay:n}=e,i={topic:r,relay:n};this.pending.set(i.topic,i);const s=await this.rpcSubscribe(i.topic,i.relay);this.onResubscribe(s,i)}}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}checkPending(){this.relayer.transportExplicitlyClosed||this.pending.forEach(async e=>{const r=await this.rpcSubscribe(e.topic,e.relay);this.onSubscribe(r,e)})}registerEventListeners(){this.relayer.core.heartbeat.on(Gh.HEARTBEAT_EVENTS.pulse,()=>{this.checkPending()}),this.relayer.on(fn.connect,async()=>{await this.onConnect()}),this.relayer.on(fn.disconnect,()=>{this.onDisconnect()}),this.events.on(es.created,async e=>{const r=es.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(es.deleted,async e=>{const r=es.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Qt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var uue=Object.defineProperty,R6=Object.getOwnPropertySymbols,fue=Object.prototype.hasOwnProperty,hue=Object.prototype.propertyIsEnumerable,P6=(t,e,r)=>e in t?uue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,due=(t,e)=>{for(var r in e||(e={}))fue.call(e,r)&&P6(t,r,e[r]);if(R6)for(var r of R6(e))hue.call(e,r)&&P6(t,r,e[r]);return t};let pue=class extends Jie{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Cr.EventEmitter,this.name=Ule,this.transportExplicitlyClosed=!1,this.initialized=!1,this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Vt.generateChildLogger(e.logger,this.name):qh(Vt.getDefaultLoggerOptions({level:e.logger||$le})),this.messages=new tue(this.logger,e.core),this.subscriber=new lue(this,this.logger),this.publisher=new rue(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||Fle,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),this.provider=await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0}get context(){return Vt.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r})}async subscribe(e,r){this.isInitialized();let n="";return await Promise.all([new Promise(i=>{this.subscriber.once(es.created,s=>{s.topic===e&&i()})}),new Promise(async i=>{n=await this.subscriber.subscribe(e,r),i()})]),n}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(fn.transport_closed))}async transportOpen(e){this.relayUrl=e||this.relayUrl,this.transportExplicitlyClosed=!1;try{await Promise.all([new Promise(r=>{this.initialized||r(),this.subscriber.once(es.resubscribed,()=>{r()})}),await Promise.race([this.provider.connect(),new Promise((r,n)=>this.once(fn.transport_closed,()=>{n(new Error("closeTransport called before connection was established"))}))])])}catch(r){const n=r;if(!/socket hang up/i.test(n.message))throw new Error(n.message);this.logger.error(n),this.events.emit(fn.transport_closed)}}async restartTransport(e){await this.transportClose(),await new Promise(r=>setTimeout(r,T6)),await this.transportOpen(e)}async createProvider(){const e=await this.core.crypto.signJWT(this.relayUrl);return new Ga(new tce(Pae({sdkVersion:Hle,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e})))}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;return await this.subscriber.isSubscribed(r)?this.messages.has(r,n):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),vw(e)){if(!e.method.endsWith(jle))return;const r=e.params,{topic:n,message:i}=r.data,s={topic:n,message:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(due({type:"event",event:r.id},s)),this.events.emit(r.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(fn.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=yw(e.id,!0);await this.provider.connection.send(r)}registerEventListeners(){this.provider.on(B0.payload,e=>this.onProviderPayload(e)),this.provider.on(B0.connect,()=>{this.events.emit(fn.connect)}),this.provider.on(B0.disconnect,()=>{this.events.emit(fn.disconnect),this.attemptToReconnect()}),this.provider.on(B0.error,e=>this.events.emit(fn.error,e)),this.events.on(fn.connection_stalled,async()=>{await this.restartTransport()})}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.transportOpen()},Qe.toMiliseconds(T6))}isInitialized(){if(!this.initialized){const{message:e}=Qt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var gue=Object.defineProperty,N6=Object.getOwnPropertySymbols,mue=Object.prototype.hasOwnProperty,bue=Object.prototype.propertyIsEnumerable,D6=(t,e,r)=>e in t?gue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,B6=(t,e)=>{for(var r in e||(e={}))mue.call(e,r)&&D6(t,r,e[r]);if(N6)for(var r of N6(e))bue.call(e,r)&&D6(t,r,e[r]);return t};let wg=class extends Zie{constructor(e,r,n,i=Fo,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=zle,this.cached=[],this.initialized=!1,this.storagePrefix=Fo,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{Zae(o)?this.map.set(o.id,o):Yae(o)?this.map.set(o.topic,o):this.getKey&&o!==null&&!vp(o)&&this.map.set(this.getKey(o),o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>wp(a[c],o[c]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=B6(B6({},this.getData(o)),a);this.map.set(o,c),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=Vt.generateChildLogger(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Vt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){const{message:n}=Qt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Qt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Qt("NOT_INITIALIZED",this.name);throw new Error(e)}}},yue=class{constructor(e,r){this.core=e,this.logger=r,this.name=Gle,this.version=Kle,this.events=new Cr,this.initialized=!1,this.storagePrefix=Fo,this.ignoredPayloadTypes=[lu],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=C2(),i=await this.core.crypto.setSymKey(n),s=ab(Qe.FIVE_MINUTES),o={protocol:cT},a={topic:i,expiry:s,relay:o,active:!1},c=Vae({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:o});return await this.pairings.set(i,a),await this.core.relayer.subscribe(i),this.core.expirer.set(i,s),{topic:i,uri:c}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:i,symKey:s,relay:o}=Wae(n.uri),a=ab(Qe.FIVE_MINUTES),c={topic:i,relay:o,expiry:a,active:!1};return await this.pairings.set(i,c),await this.core.crypto.setSymKey(s,i),await this.core.relayer.subscribe(i,{relay:o}),this.core.expirer.set(i,a),n.activatePairing&&await this.activate({topic:i}),c},this.activate=async({topic:n})=>{this.isInitialized();const i=ab(Qe.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Nae();this.events.once(cb("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",af("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,s)=>{const o=Z1(i,s),a=await this.core.crypto.encode(n,o),c=Lu[i].req;return this.core.history.set(n,o),await this.core.relayer.publish(n,a,c),o.id},this.sendResult=async(n,i,s)=>{const o=yw(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=Lu[c.request.method].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{const o=wl(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=Lu[c.request.method]?Lu[c.request.method].res:Lu.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,af("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>y6(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:s}=n,o=s.method;if(this.pairings.keys.includes(i))switch(o){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;if(this.pairings.keys.includes(i))switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit("pairing_ping",{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{const{id:s}=i;setTimeout(()=>{Fs(i)?this.events.emit(cb("pairing_ping",s),{}):Ri(i)&&this.events.emit(cb("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.sendResult(s,n,!0),await this.deletePairing(n),this.events.emit("pairing_delete",{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=af("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(af("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{if(!lb(n)){const{message:i}=Qt("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(i)}if(!Jae(n.uri)){const{message:i}=Qt("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(i)}},this.isValidPing=async n=>{if(!lb(n)){const{message:s}=Qt("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!lb(n)){const{message:s}=Qt("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!ZM(n,!1)){const{message:i}=Qt("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=Qt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(y6(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=Qt("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=Vt.generateChildLogger(r,this.name),this.pairings=new wg(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Vt.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Qt("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(fn.message,async e=>{const{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(r,n);vw(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):ww(i)&&(await this.core.history.resolve(i),this.onRelayEventResponse({topic:r,payload:i}))})}registerExpirerEvents(){this.core.expirer.on(fi.expired,async e=>{const{topic:r}=Lae(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit("pairing_expire",{topic:r}))})}},vue=class extends Vie{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new Cr.EventEmitter,this.name=Jle,this.version=Zle,this.cached=[],this.initialized=!1,this.storagePrefix=Fo,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s};this.records.set(o.id,o),this.events.emit(Ki.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Ri(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(Ki.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Ki.deleted,s)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Vt.generateChildLogger(r,this.name)}get context(){return Vt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Z1(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Qt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ki.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Qt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ki.created,e=>{const r=Ki.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(Ki.updated,e=>{const r=Ki.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(Ki.deleted,e=>{const r=Ki.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Qt("NOT_INITIALIZED",this.name);throw new Error(e)}}},wue=class extends Qie{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new Cr.EventEmitter,this.name=Yle,this.version=Qle,this.cached=[],this.initialized=!1,this.storagePrefix=Fo,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(fi.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(fi.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Vt.generateChildLogger(r,this.name)}get context(){return Vt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Dae(e);if(typeof e=="number")return Bae(e);const{message:r}=Qt("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(fi.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Qt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Qt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Qe.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(fi.expired,{target:e,expiration:r})}checkExpirations(){this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Gh.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(fi.created,e=>{const r=fi.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(fi.expired,e=>{const r=fi.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(fi.deleted,e=>{const r=fi.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Qt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var xue=Object.defineProperty,L6=Object.getOwnPropertySymbols,_ue=Object.prototype.hasOwnProperty,Eue=Object.prototype.propertyIsEnumerable,$6=(t,e,r)=>e in t?xue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,F6=(t,e)=>{for(var r in e||(e={}))_ue.call(e,r)&&$6(t,r,e[r]);if(L6)for(var r of L6(e))Eue.call(e,r)&&$6(t,r,e[r]);return t};let Sue=class lT extends qie{constructor(e){super(e),this.protocol=aT,this.version=Ile,this.name=o3,this.events=new Cr.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=e==null?void 0:e.projectId;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:qh(Vt.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||Mle.logger}));this.logger=Vt.generateChildLogger(r,this.name),this.heartbeat=new Gh.HeartBeat,this.crypto=new eue(this,this.logger,e==null?void 0:e.keychain),this.history=new vue(this,this.logger),this.expirer=new wue(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new kie(F6(F6({},Tle),e==null?void 0:e.storageOptions)),this.relayer=new pue({core:this,logger:this.logger,relayUrl:e==null?void 0:e.relayUrl,projectId:this.projectId}),this.pairing=new yue(this,this.logger)}static async init(e){const r=new lT(e);return await r.initialize(),r}get context(){return Vt.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const Aue=Sue;let Cue=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},Iue=class{constructor(e){this.client=e}};var a3={};Object.defineProperty(a3,"__esModule",{value:!0});var uT=a3.getWindowMetadata=void 0;const U6=zt;function Mue(){let t,e;try{t=U6.getDocumentOrThrow(),e=U6.getLocationOrThrow()}catch{return null}function r(){const h=t.getElementsByTagName("link"),b=[];for(let v=0;v<h.length;v++){const E=h[v],D=E.getAttribute("rel");if(D&&D.toLowerCase().indexOf("icon")>-1){const x=E.getAttribute("href");if(x)if(x.toLowerCase().indexOf("https:")===-1&&x.toLowerCase().indexOf("http:")===-1&&x.indexOf("//")!==0){let _=e.protocol+"//"+e.host;if(x.indexOf("/")===0)_+=x;else{const m=e.pathname.split("/");m.pop();const w=m.join("/");_+=w+"/"+x}b.push(_)}else if(x.indexOf("//")===0){const _=e.protocol+x;b.push(_)}else b.push(x)}}return b}function n(...h){const b=t.getElementsByTagName("meta");for(let v=0;v<b.length;v++){const E=b[v],D=["itemprop","property","name"].map(x=>E.getAttribute(x)).filter(x=>x?h.includes(x):!1);if(D.length&&D){const x=E.getAttribute("content");if(x)return x}}return""}function i(){let h=n("name","og:site_name","og:title","twitter:title");return h||(h=t.title),h}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=r();return{description:a,url:c,icons:l,name:o}}uT=a3.getWindowMetadata=Mue;var Tue={};(function(t){const e=rg,r=ng,n=ig,i=r3,s=m=>m==null,o=Symbol("encodeFragmentIdentifier");function a(m){switch(m.arrayFormat){case"index":return w=>(A,k)=>{const z=A.length;return k===void 0||m.skipNull&&k===null||m.skipEmptyString&&k===""?A:k===null?[...A,[u(w,m),"[",z,"]"].join("")]:[...A,[u(w,m),"[",u(z,m),"]=",u(k,m)].join("")]};case"bracket":return w=>(A,k)=>k===void 0||m.skipNull&&k===null||m.skipEmptyString&&k===""?A:k===null?[...A,[u(w,m),"[]"].join("")]:[...A,[u(w,m),"[]=",u(k,m)].join("")];case"colon-list-separator":return w=>(A,k)=>k===void 0||m.skipNull&&k===null||m.skipEmptyString&&k===""?A:k===null?[...A,[u(w,m),":list="].join("")]:[...A,[u(w,m),":list=",u(k,m)].join("")];case"comma":case"separator":case"bracket-separator":{const w=m.arrayFormat==="bracket-separator"?"[]=":"=";return A=>(k,z)=>z===void 0||m.skipNull&&z===null||m.skipEmptyString&&z===""?k:(z=z===null?"":z,k.length===0?[[u(A,m),w,u(z,m)].join("")]:[[k,u(z,m)].join(m.arrayFormatSeparator)])}default:return w=>(A,k)=>k===void 0||m.skipNull&&k===null||m.skipEmptyString&&k===""?A:k===null?[...A,u(w,m)]:[...A,[u(w,m),"=",u(k,m)].join("")]}}function c(m){let w;switch(m.arrayFormat){case"index":return(A,k,z)=>{if(w=/\[(\d*)\]$/.exec(A),A=A.replace(/\[\d*\]$/,""),!w){z[A]=k;return}z[A]===void 0&&(z[A]={}),z[A][w[1]]=k};case"bracket":return(A,k,z)=>{if(w=/(\[\])$/.exec(A),A=A.replace(/\[\]$/,""),!w){z[A]=k;return}if(z[A]===void 0){z[A]=[k];return}z[A]=[].concat(z[A],k)};case"colon-list-separator":return(A,k,z)=>{if(w=/(:list)$/.exec(A),A=A.replace(/:list$/,""),!w){z[A]=k;return}if(z[A]===void 0){z[A]=[k];return}z[A]=[].concat(z[A],k)};case"comma":case"separator":return(A,k,z)=>{const S=typeof k=="string"&&k.includes(m.arrayFormatSeparator),H=typeof k=="string"&&!S&&h(k,m).includes(m.arrayFormatSeparator);k=H?h(k,m):k;const re=S||H?k.split(m.arrayFormatSeparator).map(W=>h(W,m)):k===null?k:h(k,m);z[A]=re};case"bracket-separator":return(A,k,z)=>{const S=/(\[\])$/.test(A);if(A=A.replace(/\[\]$/,""),!S){z[A]=k&&h(k,m);return}const H=k===null?[]:k.split(m.arrayFormatSeparator).map(re=>h(re,m));if(z[A]===void 0){z[A]=H;return}z[A]=[].concat(z[A],H)};default:return(A,k,z)=>{if(z[A]===void 0){z[A]=k;return}z[A]=[].concat(z[A],k)}}}function l(m){if(typeof m!="string"||m.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function u(m,w){return w.encode?w.strict?e(m):encodeURIComponent(m):m}function h(m,w){return w.decode?r(m):m}function b(m){return Array.isArray(m)?m.sort():typeof m=="object"?b(Object.keys(m)).sort((w,A)=>Number(w)-Number(A)).map(w=>m[w]):m}function v(m){const w=m.indexOf("#");return w!==-1&&(m=m.slice(0,w)),m}function E(m){let w="";const A=m.indexOf("#");return A!==-1&&(w=m.slice(A)),w}function D(m){m=v(m);const w=m.indexOf("?");return w===-1?"":m.slice(w+1)}function x(m,w){return w.parseNumbers&&!Number.isNaN(Number(m))&&typeof m=="string"&&m.trim()!==""?m=Number(m):w.parseBooleans&&m!==null&&(m.toLowerCase()==="true"||m.toLowerCase()==="false")&&(m=m.toLowerCase()==="true"),m}function _(m,w){w=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},w),l(w.arrayFormatSeparator);const A=c(w),k=Object.create(null);if(typeof m!="string"||(m=m.trim().replace(/^[?#&]/,""),!m))return k;for(const z of m.split("&")){if(z==="")continue;let[S,H]=n(w.decode?z.replace(/\+/g," "):z,"=");H=H===void 0?null:["comma","separator","bracket-separator"].includes(w.arrayFormat)?H:h(H,w),A(h(S,w),H,k)}for(const z of Object.keys(k)){const S=k[z];if(typeof S=="object"&&S!==null)for(const H of Object.keys(S))S[H]=x(S[H],w);else k[z]=x(S,w)}return w.sort===!1?k:(w.sort===!0?Object.keys(k).sort():Object.keys(k).sort(w.sort)).reduce((z,S)=>{const H=k[S];return Boolean(H)&&typeof H=="object"&&!Array.isArray(H)?z[S]=b(H):z[S]=H,z},Object.create(null))}t.extract=D,t.parse=_,t.stringify=(m,w)=>{if(!m)return"";w=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},w),l(w.arrayFormatSeparator);const A=H=>w.skipNull&&s(m[H])||w.skipEmptyString&&m[H]==="",k=a(w),z={};for(const H of Object.keys(m))A(H)||(z[H]=m[H]);const S=Object.keys(z);return w.sort!==!1&&S.sort(w.sort),S.map(H=>{const re=m[H];return re===void 0?"":re===null?u(H,w):Array.isArray(re)?re.length===0&&w.arrayFormat==="bracket-separator"?u(H,w)+"[]":re.reduce(k(H),[]).join("&"):u(H,w)+"="+u(re,w)}).filter(H=>H.length>0).join("&")},t.parseUrl=(m,w)=>{w=Object.assign({decode:!0},w);const[A,k]=n(m,"#");return Object.assign({url:A.split("?")[0]||"",query:_(D(m),w)},w&&w.parseFragmentIdentifier&&k?{fragmentIdentifier:h(k,w)}:{})},t.stringifyUrl=(m,w)=>{w=Object.assign({encode:!0,strict:!0,[o]:!0},w);const A=v(m.url).split("?")[0]||"",k=t.extract(m.url),z=t.parse(k,{sort:!1}),S=Object.assign(z,m.query);let H=t.stringify(S,w);H&&(H=`?${H}`);let re=E(m.url);return m.fragmentIdentifier&&(re=`#${w[o]?u(m.fragmentIdentifier,w):m.fragmentIdentifier}`),`${A}${H}${re}`},t.pick=(m,w,A)=>{A=Object.assign({parseFragmentIdentifier:!0,[o]:!1},A);const{url:k,query:z,fragmentIdentifier:S}=t.parseUrl(m,A);return t.stringifyUrl({url:k,query:i(z,w),fragmentIdentifier:S},A)},t.exclude=(m,w,A)=>{const k=Array.isArray(w)?z=>!w.includes(z):(z,S)=>!w(z,S);return t.pick(m,k,A)}})(Tue);const kue=1;function Oue(){return uT()||{name:"",description:"",url:"",icons:[""]}}function Ao(t,e){return t.filter(r=>e.includes(r)).length===t.length}function ua(t,e){return Qe.fromMiliseconds((e||Date.now())+Qe.toMiliseconds(t))}function vc(t){return Qe.fromMiliseconds(Date.now())>=Qe.toMiliseconds(t)}function wc(t){const e=Qe.toMiliseconds(t||Qe.FIVE_MINUTES);let r,n,i;return{resolve:s=>{i&&r&&(clearTimeout(i),r(s))},reject:s=>{i&&n&&(clearTimeout(i),n(s))},done:()=>new Promise((s,o)=>{i=setTimeout(o,e),r=s,n=o})}}function Rue(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Hr(t,e){return`${t}${e?`:${e}`:""}`}function Qh(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function Pue(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Qh(r.accounts))}),e}function Nue(t,e){const r=[];return Object.values(t).forEach(n=>{Qh(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Due(t,e){const r=[];return Object.values(t).forEach(n=>{Qh(n.accounts).includes(e)&&r.push(...n.events)}),r}function Bue(t,e){const r=Ad(t,e);if(r)throw new Error(r.message);const n={};for(const[i,s]of Object.entries(t))n[i]={methods:s.methods,events:s.events,chains:s.accounts.map(o=>`${o.split(":")[0]}:${o.split(":")[1]}`)};return n}const Lue={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},$ue={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function st(t,e){const{message:r,code:n}=$ue[t];return{message:e?`${r} ${e}`:r,code:n}}function Jn(t,e){const{message:r,code:n}=Lue[t];return{message:e?`${r} ${e}`:r,code:n}}function xg(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function xp(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Js(t){return typeof t>"u"}function En(t,e){return e&&Js(t)?!0:typeof t=="string"&&Boolean(t.trim().length)}function c3(t,e){return e&&Js(t)?!0:typeof t=="number"&&!isNaN(t)}function Fue(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return Ao(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Qh(a),h=r[o];(!Ao(h.chains,u)||!Ao(h.methods,c)||!Ao(h.events,l))&&(s=!1)}),s):!1}function l3(t){return En(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Uue(t){if(En(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&l3(r)}}return!1}function jue(t,e){let r=null;return En(t==null?void 0:t.publicKey,!1)||(r=st("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function j6(t){let e=!0;return xg(t)?t.length&&(e=t.every(r=>En(r,!1))):e=!1,e}function Hue(t,e,r){let n=null;return xg(e)?e.forEach(i=>{n||(!l3(i)||!i.includes(t))&&(n=Jn("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):n=Jn("UNSUPPORTED_CHAINS",`${r}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),n}function zue(t,e){let r=null;return Object.entries(t).forEach(([n,i])=>{if(r)return;const s=Hue(n,i==null?void 0:i.chains,`${e} requiredNamespace`);s&&(r=s)}),r}function Wue(t,e){let r=null;return xg(t)?t.forEach(n=>{r||Uue(n)||(r=Jn("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Jn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function que(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Wue(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function Vue(t,e){let r=null;return j6(t==null?void 0:t.methods)?j6(t==null?void 0:t.events)||(r=Jn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Jn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function fT(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Vue(n,`${e}, namespace`);i&&(r=i)}),r}function Gue(t,e){let r=null;if(t&&xp(t)){const n=fT(t,e);n&&(r=n);const i=zue(t,e);i&&(r=i)}else r=st("MISSING_OR_INVALID",`${e}, requiredNamespaces should be an object with data`);return r}function Ad(t,e){let r=null;if(t&&xp(t)){const n=fT(t,e);n&&(r=n);const i=que(t,e);i&&(r=i)}else r=st("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function hT(t){return En(t.protocol,!0)}function Kue(t,e){let r=!1;return e&&!t?r=!0:t&&xg(t)&&t.length&&t.forEach(n=>{r=hT(n)}),r}function Jue(t){return typeof t=="number"}function Ti(t){return typeof t<"u"&&typeof t!==null}function Zue(t){return!(!t||typeof t!="object"||!t.code||!c3(t.code,!1)||!t.message||!En(t.message,!1))}function Yue(t){return!(Js(t)||!En(t.method,!1))}function Que(t){return!(Js(t)||Js(t.result)&&Js(t.error)||!c3(t.id,!1)||!En(t.jsonrpc,!1))}function Xue(t){return!(Js(t)||!En(t.name,!1))}function H6(t,e){return!(!l3(e)||!Pue(t).includes(e))}function efe(t,e,r){return En(r,!1)?Nue(t,e).includes(r):!1}function tfe(t,e,r){return En(r,!1)?Due(t,e).includes(r):!1}function z6(t,e,r){let n=null;const i=Object.keys(t),s=Object.keys(e);return Ao(i,s)?i.forEach(o=>{if(n)return;const a=t[o].chains,c=Qh(e[o].accounts);Ao(a,c)?Ao(t[o].methods,e[o].methods)?Ao(t[o].events,e[o].events)||(n=st("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy requiredNamespaces events for ${o}`)):n=st("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy requiredNamespaces methods for ${o}`):n=st("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy requiredNamespaces chains for ${o}`)}):n=st("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces`),n}function rfe(t,e){return c3(t,!1)&&t<=e.max&&t>=e.min}const dT="wc",pT=2,gT="client",u3=`${dT}@${pT}:${gT}:`,hb={name:gT,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},nfe="proposal",ife="session",$0=Qe.SEVEN_DAYS,sfe="engine",$u={wc_sessionPropose:{req:{ttl:Qe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Qe.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Qe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Qe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Qe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Qe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Qe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Qe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Qe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Qe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Qe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Qe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Qe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Qe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Qe.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Qe.THIRTY_SECONDS,prompt:!1,tag:1115}}},db={min:Qe.FIVE_MINUTES,max:Qe.SEVEN_DAYS},ofe="request";var afe=Object.defineProperty,cfe=Object.defineProperties,lfe=Object.getOwnPropertyDescriptors,W6=Object.getOwnPropertySymbols,ufe=Object.prototype.hasOwnProperty,ffe=Object.prototype.propertyIsEnumerable,q6=(t,e,r)=>e in t?afe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ns=(t,e)=>{for(var r in e||(e={}))ufe.call(e,r)&&q6(t,r,e[r]);if(W6)for(var r of W6(e))ffe.call(e,r)&&q6(t,r,e[r]);return t},pb=(t,e)=>cfe(t,lfe(e));let hfe=class extends Iue{constructor(e){super(e),this.name=sfe,this.events=new Cr,this.initialized=!1,this.ignoredPayloadTypes=[kue],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys($u)}),this.initialized=!0)},this.connect=async r=>{this.isInitialized(),await this.isValidConnect(r);const{pairingTopic:n,requiredNamespaces:i,relays:s}=r;let o=n,a,c=!1;if(o&&(c=this.client.core.pairing.pairings.get(o).active),!o||!c){const{topic:x,uri:_}=await this.client.core.pairing.create();o=x,a=_}const l=await this.client.core.crypto.generateKeyPair(),u={requiredNamespaces:i,relays:s??[{protocol:cT}],proposer:{publicKey:l,metadata:this.client.metadata}},{reject:h,resolve:b,done:v}=wc();if(this.events.once(Hr("session_connect"),async({error:x,session:_})=>{if(x)h(x);else if(_){_.self.publicKey=l;const m=pb(Ns({},_),{requiredNamespaces:_.requiredNamespaces});await this.client.session.set(_.topic,m),await this.setExpiry(_.topic,_.expiry),o&&await this.client.core.pairing.updateMetadata({topic:o,metadata:_.peer.metadata}),b(m)}}),!o){const{message:x}=st("NO_MATCHING_KEY",`connect() pairing topic: ${o}`);throw new Error(x)}const E=await this.sendRequest(o,"wc_sessionPropose",u),D=ua(Qe.FIVE_MINUTES);return await this.setProposal(E,Ns({id:E,expiry:D},u)),{uri:a,approval:v}},this.pair=async r=>(this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{this.isInitialized(),await this.isValidApprove(r);const{id:n,relayProtocol:i,namespaces:s}=r,o=this.client.proposal.get(n);let{pairingTopic:a,proposer:c,requiredNamespaces:l}=o;xp(l)||(l=Bue(s,"approve()"),this.client.proposal.set(n,pb(Ns({},o),{requiredNamespaces:l})));const u=await this.client.core.crypto.generateKeyPair(),h=c.publicKey,b=await this.client.core.crypto.generateSharedKey(u,h),v={relay:{protocol:i??"irn"},namespaces:s,requiredNamespaces:l,controller:{publicKey:u,metadata:this.client.metadata},expiry:ua($0)};await this.client.core.relayer.subscribe(b);const E=await this.sendRequest(b,"wc_sessionSettle",v),{done:D,resolve:x,reject:_}=wc();this.events.once(Hr("session_approve",E),({error:w})=>{w?_(w):x(this.client.session.get(b))});const m=pb(Ns({},v),{topic:b,acknowledged:!1,self:v.controller,peer:{publicKey:c.publicKey,metadata:c.metadata},controller:u});return await this.client.session.set(b,m),await this.setExpiry(b,ua($0)),a&&await this.client.core.pairing.updateMetadata({topic:a,metadata:m.peer.metadata}),a&&n&&(await this.sendResult(n,a,{relay:{protocol:i??"irn"},responderPublicKey:u}),await this.client.proposal.delete(n,Jn("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:a})),{topic:b,acknowledged:D}},this.reject=async r=>{this.isInitialized(),await this.isValidReject(r);const{id:n,reason:i}=r,{pairingTopic:s}=this.client.proposal.get(n);s&&(await this.sendError(n,s,i),await this.client.proposal.delete(n,Jn("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.isValidUpdate(r);const{topic:n,namespaces:i}=r,s=await this.sendRequest(n,"wc_sessionUpdate",{namespaces:i}),{done:o,resolve:a,reject:c}=wc();return this.events.once(Hr("session_update",s),({error:l})=>{l?c(l):a()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:o}},this.extend=async r=>{this.isInitialized(),await this.isValidExtend(r);const{topic:n}=r,i=await this.sendRequest(n,"wc_sessionExtend",{}),{done:s,resolve:o,reject:a}=wc();return this.events.once(Hr("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,ua($0)),{acknowledged:s}},this.request=async r=>{this.isInitialized(),await this.isValidRequest(r);const{chainId:n,request:i,topic:s,expiry:o}=r,a=await this.sendRequest(s,"wc_sessionRequest",{request:i,chainId:n},o),{done:c,resolve:l,reject:u}=wc(o);return this.events.once(Hr("session_request",a),({error:h,result:b})=>{h?u(h):l(b)}),await c()},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i;Fs(i)?await this.sendResult(s,n,i.result):Ri(i)&&await this.sendError(s,n,i.error),this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0})},this.ping=async r=>{this.isInitialized(),await this.isValidPing(r);const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=await this.sendRequest(n,"wc_sessionPing",{}),{done:s,resolve:o,reject:a}=wc();this.events.once(Hr("session_ping",i),({error:c})=>{c?a(c):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r;await this.sendRequest(n,"wc_sessionEvent",{event:i,chainId:s})},this.disconnect=async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:n}=r;this.client.session.keys.includes(n)?(await this.sendRequest(n,"wc_sessionDelete",Jn("USER_DISCONNECTED")),await this.deleteSession(n)):await this.client.core.pairing.disconnect({topic:n})},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Fue(n,r))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.deleteSession=async(r,n)=>{const{self:i}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await Promise.all([this.client.session.delete(r,Jn("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(i.publicKey),this.client.core.crypto.deleteSymKey(r),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,Jn("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.core.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.core.expirer.set(r,n.expiry)},this.setPendingSessionRequest=async r=>{const n=$u.wc_sessionRequest.req.ttl,{id:i,topic:s,params:o}=r;await this.client.pendingRequest.set(i,{id:i,topic:s,params:o}),n&&this.client.core.expirer.set(i,ua(n))},this.sendRequest=async(r,n,i,s)=>{const o=Z1(n,i),a=await this.client.core.crypto.encode(r,o),c=$u[n].req;return s&&(c.ttl=s),this.client.core.history.set(r,o),this.client.core.relayer.publish(r,a,c),o.id},this.sendResult=async(r,n,i)=>{const s=yw(r,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,r),c=$u[a.request.method].res;this.client.core.relayer.publish(n,o,c),await this.client.core.history.resolve(s)},this.sendError=async(r,n,i)=>{const s=wl(r,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,r),c=$u[a.request.method].res;this.client.core.relayer.publish(n,o,c),await this.client.core.history.resolve(s)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{vc(i.expiry)&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{vc(i.expiry)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession(i)),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=r=>{const{topic:n,payload:i}=r,s=i.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:i}=r,s=(await this.client.core.history.get(n,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onSessionProposeRequest=async(r,n)=>{const{params:i,id:s}=n;try{this.isValidConnect(Ns({},n.params));const o=ua(Qe.FIVE_MINUTES),a=Ns({id:s,pairingTopic:r,expiry:o},i);await this.setProposal(s,a),this.client.events.emit("session_proposal",{id:s,params:a})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(r,n)=>{const{id:i}=n;if(Fs(n)){const{result:s}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});const c=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const l=await this.client.core.crypto.generateSharedKey(a,c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:l});const u=await this.client.core.relayer.subscribe(l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:u}),await this.client.core.pairing.activate({topic:r})}else Ri(n)&&(await this.client.proposal.delete(i,Jn("USER_DISCONNECTED")),this.events.emit(Hr("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,requiredNamespaces:u}=n.params,h={topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,requiredNamespaces:u,controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}};await this.sendResult(n.id,r,!0),this.events.emit(Hr("session_connect"),{session:h})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{const{id:i}=n;Fs(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Hr("session_approve",i),{})):Ri(n)&&(await this.client.session.delete(r,Jn("USER_DISCONNECTED")),this.events.emit(Hr("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:i,id:s}=n;try{this.isValidUpdate(Ns({topic:r},i)),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult(s,r,!0),this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionUpdateResponse=(r,n)=>{const{id:i}=n;Fs(n)?this.events.emit(Hr("session_update",i),{}):Ri(n)&&this.events.emit(Hr("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,ua($0)),await this.sendResult(i,r,!0),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{const{id:i}=n;Fs(n)?this.events.emit(Hr("session_extend",i),{}):Ri(n)&&this.events.emit(Hr("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{const{id:i}=n;setTimeout(()=>{Fs(n)?this.events.emit(Hr("session_ping",i),{}):Ri(n)&&this.events.emit(Hr("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),this.client.core.relayer.once(fn.publish,async()=>{await this.deleteSession(r)}),await this.sendResult(i,r,!0),this.client.events.emit("session_delete",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidRequest(Ns({topic:r},s)),await this.setPendingSessionRequest({id:i,topic:r,params:s}),this.client.events.emit("session_request",{id:i,topic:r,params:s})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(r,n)=>{const{id:i}=n;Fs(n)?this.events.emit(Hr("session_request",i),{result:n.result}):Ri(n)&&this.events.emit(Hr("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidEmit(Ns({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.isValidConnect=async r=>{if(!Ti(r)){const{message:a}=st("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(a)}const{pairingTopic:n,requiredNamespaces:i,relays:s}=r;if(Js(n)||await this.isValidPairingTopic(n),!Js(i)&&xp(i)===0)return;const o=Gue(i,"connect()");if(o)throw new Error(o.message);if(!Kue(s,!0)){const{message:a}=st("MISSING_OR_INVALID",`connect() relays: ${s}`);throw new Error(a)}},this.isValidApprove=async r=>{if(!Ti(r))throw new Error(st("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s}=r;await this.isValidProposalId(n);const o=this.client.proposal.get(n),a=Ad(i,"approve()");if(a)throw new Error(a.message);const c=z6(o.requiredNamespaces,i,"update()");if(c)throw new Error(c.message);if(!En(s,!0)){const{message:l}=st("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(l)}},this.isValidReject=async r=>{if(!Ti(r)){const{message:s}=st("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(await this.isValidProposalId(n),!Zue(i)){const{message:s}=st("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!Ti(r)){const{message:l}=st("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!hT(n)){const{message:l}=st("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=jue(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Ad(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(vc(o)){const{message:l}=st("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async r=>{if(!Ti(r)){const{message:c}=st("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=Ad(i,"update()");if(o)throw new Error(o.message);const a=z6(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!Ti(r)){const{message:i}=st("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!Ti(r)){const{message:c}=st("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!H6(a,s)){const{message:c}=st("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!Yue(i)){const{message:c}=st("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!efe(a,s,i.method)){const{message:c}=st("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!rfe(o,db)){const{message:c}=st("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${db.min} and ${db.max}`);throw new Error(c)}},this.isValidRespond=async r=>{if(!Ti(r)){const{message:s}=st("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(s)}const{topic:n,response:i}=r;if(await this.isValidSessionTopic(n),!Que(i)){const{message:s}=st("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidPing=async r=>{if(!Ti(r)){const{message:i}=st("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!Ti(r)){const{message:a}=st("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!H6(o,s)){const{message:a}=st("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Xue(i)){const{message:a}=st("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!tfe(o,s,i.name)){const{message:a}=st("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!Ti(r)){const{message:i}=st("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}}isInitialized(){if(!this.initialized){const{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(fn.message,async e=>{const{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const i=await this.client.core.crypto.decode(r,n);vw(i)?(this.client.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):ww(i)&&(await this.client.core.history.resolve(i),this.onRelayEventResponse({topic:r,payload:i}))})}registerExpirerEvents(){this.client.core.expirer.on(fi.expired,async e=>{const{topic:r,id:n}=Rue(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,st("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}isValidPairingTopic(e){if(!En(e,!1)){const{message:r}=st("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=st("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(vc(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=st("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!En(e,!1)){const{message:r}=st("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(!this.client.session.keys.includes(e)){const{message:r}=st("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(vc(this.client.session.get(e).expiry)){await this.deleteSession(e);const{message:r}=st("EXPIRED",`session topic: ${e}`);throw new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(En(e,!1)){const{message:r}=st("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=st("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!Jue(e)){const{message:r}=st("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=st("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(vc(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);const{message:r}=st("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},dfe=class extends wg{constructor(e,r){super(e,r,nfe,u3),this.core=e,this.logger=r}},pfe=class extends wg{constructor(e,r){super(e,r,ife,u3),this.core=e,this.logger=r}},gfe=class extends wg{constructor(e,r){super(e,r,ofe,u3),this.core=e,this.logger=r}};class f3 extends Cue{constructor(e){super(e),this.protocol=dT,this.version=pT,this.name=hb.name,this.events=new Cr.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=(e==null?void 0:e.name)||hb.name,this.metadata=(e==null?void 0:e.metadata)||Oue();const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:qh(Vt.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||hb.logger}));this.core=(e==null?void 0:e.core)||new Aue(e),this.logger=Vt.generateChildLogger(r,this.name),this.session=new pfe(this.core,this.logger),this.proposal=new dfe(this.core,this.logger),this.pendingRequest=new gfe(this.core,this.logger),this.engine=new hfe(this)}static async init(e){const r=new f3(e);return await r.initialize(),r}get context(){return Vt.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var h3={};Object.defineProperty(h3,"__esModule",{value:!0});h3.getWindowMetadata=void 0;const V6=zt;function mfe(){let t,e;try{t=V6.getDocumentOrThrow(),e=V6.getLocationOrThrow()}catch{return null}function r(){const h=t.getElementsByTagName("link"),b=[];for(let v=0;v<h.length;v++){const E=h[v],D=E.getAttribute("rel");if(D&&D.toLowerCase().indexOf("icon")>-1){const x=E.getAttribute("href");if(x)if(x.toLowerCase().indexOf("https:")===-1&&x.toLowerCase().indexOf("http:")===-1&&x.indexOf("//")!==0){let _=e.protocol+"//"+e.host;if(x.indexOf("/")===0)_+=x;else{const m=e.pathname.split("/");m.pop();const w=m.join("/");_+=w+"/"+x}b.push(_)}else if(x.indexOf("//")===0){const _=e.protocol+x;b.push(_)}else b.push(x)}}return b}function n(...h){const b=t.getElementsByTagName("meta");for(let v=0;v<b.length;v++){const E=b[v],D=["itemprop","property","name"].map(x=>E.getAttribute(x)).filter(x=>x?h.includes(x):!1);if(D.length&&D){const x=E.getAttribute("content");if(x)return x}}return""}function i(){let h=n("name","og:site_name","og:title","twitter:title");return h||(h=t.title),h}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=r();return{description:a,url:c,icons:l,name:o}}h3.getWindowMetadata=mfe;var bfe={};(function(t){const e=rg,r=ng,n=ig,i=r3,s=m=>m==null,o=Symbol("encodeFragmentIdentifier");function a(m){switch(m.arrayFormat){case"index":return w=>(A,k)=>{const z=A.length;return k===void 0||m.skipNull&&k===null||m.skipEmptyString&&k===""?A:k===null?[...A,[u(w,m),"[",z,"]"].join("")]:[...A,[u(w,m),"[",u(z,m),"]=",u(k,m)].join("")]};case"bracket":return w=>(A,k)=>k===void 0||m.skipNull&&k===null||m.skipEmptyString&&k===""?A:k===null?[...A,[u(w,m),"[]"].join("")]:[...A,[u(w,m),"[]=",u(k,m)].join("")];case"colon-list-separator":return w=>(A,k)=>k===void 0||m.skipNull&&k===null||m.skipEmptyString&&k===""?A:k===null?[...A,[u(w,m),":list="].join("")]:[...A,[u(w,m),":list=",u(k,m)].join("")];case"comma":case"separator":case"bracket-separator":{const w=m.arrayFormat==="bracket-separator"?"[]=":"=";return A=>(k,z)=>z===void 0||m.skipNull&&z===null||m.skipEmptyString&&z===""?k:(z=z===null?"":z,k.length===0?[[u(A,m),w,u(z,m)].join("")]:[[k,u(z,m)].join(m.arrayFormatSeparator)])}default:return w=>(A,k)=>k===void 0||m.skipNull&&k===null||m.skipEmptyString&&k===""?A:k===null?[...A,u(w,m)]:[...A,[u(w,m),"=",u(k,m)].join("")]}}function c(m){let w;switch(m.arrayFormat){case"index":return(A,k,z)=>{if(w=/\[(\d*)\]$/.exec(A),A=A.replace(/\[\d*\]$/,""),!w){z[A]=k;return}z[A]===void 0&&(z[A]={}),z[A][w[1]]=k};case"bracket":return(A,k,z)=>{if(w=/(\[\])$/.exec(A),A=A.replace(/\[\]$/,""),!w){z[A]=k;return}if(z[A]===void 0){z[A]=[k];return}z[A]=[].concat(z[A],k)};case"colon-list-separator":return(A,k,z)=>{if(w=/(:list)$/.exec(A),A=A.replace(/:list$/,""),!w){z[A]=k;return}if(z[A]===void 0){z[A]=[k];return}z[A]=[].concat(z[A],k)};case"comma":case"separator":return(A,k,z)=>{const S=typeof k=="string"&&k.includes(m.arrayFormatSeparator),H=typeof k=="string"&&!S&&h(k,m).includes(m.arrayFormatSeparator);k=H?h(k,m):k;const re=S||H?k.split(m.arrayFormatSeparator).map(W=>h(W,m)):k===null?k:h(k,m);z[A]=re};case"bracket-separator":return(A,k,z)=>{const S=/(\[\])$/.test(A);if(A=A.replace(/\[\]$/,""),!S){z[A]=k&&h(k,m);return}const H=k===null?[]:k.split(m.arrayFormatSeparator).map(re=>h(re,m));if(z[A]===void 0){z[A]=H;return}z[A]=[].concat(z[A],H)};default:return(A,k,z)=>{if(z[A]===void 0){z[A]=k;return}z[A]=[].concat(z[A],k)}}}function l(m){if(typeof m!="string"||m.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function u(m,w){return w.encode?w.strict?e(m):encodeURIComponent(m):m}function h(m,w){return w.decode?r(m):m}function b(m){return Array.isArray(m)?m.sort():typeof m=="object"?b(Object.keys(m)).sort((w,A)=>Number(w)-Number(A)).map(w=>m[w]):m}function v(m){const w=m.indexOf("#");return w!==-1&&(m=m.slice(0,w)),m}function E(m){let w="";const A=m.indexOf("#");return A!==-1&&(w=m.slice(A)),w}function D(m){m=v(m);const w=m.indexOf("?");return w===-1?"":m.slice(w+1)}function x(m,w){return w.parseNumbers&&!Number.isNaN(Number(m))&&typeof m=="string"&&m.trim()!==""?m=Number(m):w.parseBooleans&&m!==null&&(m.toLowerCase()==="true"||m.toLowerCase()==="false")&&(m=m.toLowerCase()==="true"),m}function _(m,w){w=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},w),l(w.arrayFormatSeparator);const A=c(w),k=Object.create(null);if(typeof m!="string"||(m=m.trim().replace(/^[?#&]/,""),!m))return k;for(const z of m.split("&")){if(z==="")continue;let[S,H]=n(w.decode?z.replace(/\+/g," "):z,"=");H=H===void 0?null:["comma","separator","bracket-separator"].includes(w.arrayFormat)?H:h(H,w),A(h(S,w),H,k)}for(const z of Object.keys(k)){const S=k[z];if(typeof S=="object"&&S!==null)for(const H of Object.keys(S))S[H]=x(S[H],w);else k[z]=x(S,w)}return w.sort===!1?k:(w.sort===!0?Object.keys(k).sort():Object.keys(k).sort(w.sort)).reduce((z,S)=>{const H=k[S];return Boolean(H)&&typeof H=="object"&&!Array.isArray(H)?z[S]=b(H):z[S]=H,z},Object.create(null))}t.extract=D,t.parse=_,t.stringify=(m,w)=>{if(!m)return"";w=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},w),l(w.arrayFormatSeparator);const A=H=>w.skipNull&&s(m[H])||w.skipEmptyString&&m[H]==="",k=a(w),z={};for(const H of Object.keys(m))A(H)||(z[H]=m[H]);const S=Object.keys(z);return w.sort!==!1&&S.sort(w.sort),S.map(H=>{const re=m[H];return re===void 0?"":re===null?u(H,w):Array.isArray(re)?re.length===0&&w.arrayFormat==="bracket-separator"?u(H,w)+"[]":re.reduce(k(H),[]).join("&"):u(H,w)+"="+u(re,w)}).filter(H=>H.length>0).join("&")},t.parseUrl=(m,w)=>{w=Object.assign({decode:!0},w);const[A,k]=n(m,"#");return Object.assign({url:A.split("?")[0]||"",query:_(D(m),w)},w&&w.parseFragmentIdentifier&&k?{fragmentIdentifier:h(k,w)}:{})},t.stringifyUrl=(m,w)=>{w=Object.assign({encode:!0,strict:!0,[o]:!0},w);const A=v(m.url).split("?")[0]||"",k=t.extract(m.url),z=t.parse(k,{sort:!1}),S=Object.assign(z,m.query);let H=t.stringify(S,w);H&&(H=`?${H}`);let re=E(m.url);return m.fragmentIdentifier&&(re=`#${w[o]?u(m.fragmentIdentifier,w):m.fragmentIdentifier}`),`${A}${H}${re}`},t.pick=(m,w,A)=>{A=Object.assign({parseFragmentIdentifier:!0,[o]:!1},A);const{url:k,query:z,fragmentIdentifier:S}=t.parseUrl(m,A);return t.stringifyUrl({url:k,query:i(z,w),fragmentIdentifier:S},A)},t.exclude=(m,w,A)=>{const k=Array.isArray(w)?z=>!w.includes(z):(z,S)=>!w(z,S);return t.pick(m,k,A)}})(bfe);const yfe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function vfe(t,e){const{message:r,code:n}=yfe[t];return{message:e?`${r} ${e}`:r,code:n}}function wfe(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function xfe(t){var e;const r=(e=t[Object.keys(t)[0]])==null?void 0:e.chains[0];return[r.split(":")[0],r.split(":")[1]]}function Uo(t,e){let r;return e.rpcMap&&(r=e.rpcMap[_fe([t])]),r}function _fe(t){return Number(t[0].split(":")[1])}let Efe=class{constructor(e){this.name="eip155",this.namespace=e.namespace,this.client=e.client,this.events=e.events,this.httpProviders=this.createHttpProviders(),this.chainId=this.getDefaultChainId()}async request(e){var r;switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":{const n=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";return this.setDefaultChain(parseInt(n,16).toString()),null}case"eth_chainId":return this.getDefaultChainId()}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){if(this.chainId=parseInt(e),!this.httpProviders[e]){const n=r||Uo(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit("chainChanged",this.chainId)}requestAccounts(){return this.getAccounts()}createHttpProvider(e,r){const n=r||Uo(e,this.namespace);return typeof n>"u"?void 0:new Ga(new jh(n))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}getDefaultChainId(){if(this.chainId)return this.chainId;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return parseInt(e.split(":")[1])}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}},Sfe=class{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=e.events,this.client=e.client,this.chainId=this.getDefaultChainId(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getDefaultChainId(){if(this.chainId)return this.chainId;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Uo(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit("chainChanged",this.chainId)}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Uo(e,this.namespace);return typeof n>"u"?void 0:new Ga(new jh(n))}},Afe=class{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=e.events,this.client=e.client,this.chainId=this.getDefaultChainId(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getDefaultChainId(){if(this.chainId)return this.chainId;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Uo(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit("chainChanged",this.chainId)}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Uo(e,this.namespace);return typeof n>"u"?void 0:new Ga(new jh(n))}},Cfe=class{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=e.events,this.client=e.client,this.chainId=this.getDefaultChainId(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getDefaultChainId(){if(this.chainId)return this.chainId;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Uo(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit("chainChanged",this.chainId)}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Uo(e,this.namespace);return typeof n>"u"?void 0:new Ga(new jh(n))}};const G6="error",Ife="wss://relay.walletconnect.com",Mfe="wc",Tfe="universal_provider",K6=`${Mfe}@${2}:${Tfe}:`;var kfe=Object.defineProperty,Ofe=Object.defineProperties,Rfe=Object.getOwnPropertyDescriptors,J6=Object.getOwnPropertySymbols,Pfe=Object.prototype.hasOwnProperty,Nfe=Object.prototype.propertyIsEnumerable,Z6=(t,e,r)=>e in t?kfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Y6=(t,e)=>{for(var r in e||(e={}))Pfe.call(e,r)&&Z6(t,r,e[r]);if(J6)for(var r of J6(e))Nfe.call(e,r)&&Z6(t,r,e[r]);return t},Dfe=(t,e)=>Ofe(t,Rfe(e));let mT=class bT{constructor(e){this.events=new Cr,this.rpcProviders={},this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:qh(Vt.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||G6}))}static async init(e){const r=new bT(e);return await r.initialize(),r}async request(e,r){const[n,i]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:Y6({},e),chainId:`${n}:${i}`,topic:this.session.topic})}sendAsync(e,r,n){this.request(e,n).then(i=>r(null,i)).catch(i=>r(i,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:vfe("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");const{namespaces:r}=e;return this.setNamespaces(r),this.createProviders(),await this.cleanupPendingPairings(),e.skipPairing===!0?void 0:await this.pair(e.pairingTopic)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces});return r&&(this.uri=r,this.events.emit("display_uri",r)),this.session=await n(),this.onSessionUpdate(),this.onConnect(),this.session}setDefaultChain(e,r){try{const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(wfe(r)){for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}async checkStorage(){if(this.namespaces=await this.client.core.storage.getItem(`${K6}/namespaces`)||{},this.namespaces&&this.createProviders(),this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.onSessionUpdate()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await f3.init({logger:this.providerOpts.logger||G6,relayUrl:this.providerOpts.relayUrl||Ife,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");Object.keys(this.namespaces).forEach(e=>{switch(e){case"eip155":this.rpcProviders[e]=new Efe({client:this.client,namespace:this.namespaces[e],events:this.events});break;case"solana":this.rpcProviders[e]=new Sfe({client:this.client,namespace:this.namespaces[e],events:this.events});break;case"cosmos":this.rpcProviders[e]=new Afe({client:this.client,namespace:this.namespaces[e],events:this.events});break;case"polkadot":break;case"cip34":this.rpcProviders[e]=new Cfe({client:this.client,namespace:this.namespaces[e],events:this.events});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?this.events.emit("accountsChanged",n.data):n.name==="chainChanged"?this.onChainChanged(n.data,r.chainId):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n;const{namespaces:i}=r,s=(n=this.client)==null?void 0:n.session.get(e);this.session=Dfe(Y6({},s),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){if(!e||!Object.keys(e).length)throw new Error("Namespaces must be not empty");this.client.core.storage.setItem(`${K6}/namespaces`,e),this.namespaces=e}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(r&&!Object.keys(this.namespaces).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);return!r||!n?xfe(this.namespaces):[r,n]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,r){const[n,i]=this.validateChain(r);this.getProvider(n).setDefaultChain(i),this.events.emit("chainChanged",e)}onConnect(){this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0})}};const Bfe=mT,Lfe=Object.freeze(Object.defineProperty({__proto__:null,UniversalProvider:Bfe,default:mT},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Cd=window,d3=Cd.ShadowRoot&&(Cd.ShadyCSS===void 0||Cd.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,p3=Symbol(),Q6=new WeakMap;let yT=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==p3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(d3&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=Q6.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&Q6.set(r,e))}return e}toString(){return this.cssText}};const $fe=t=>new yT(typeof t=="string"?t:t+"",void 0,p3),gt=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new yT(r,t,p3)},Ffe=(t,e)=>{d3?t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):e.forEach(r=>{const n=document.createElement("style"),i=Cd.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)})},X6=d3?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return $fe(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var gb;const _p=window,e8=_p.trustedTypes,Ufe=e8?e8.emptyScript:"",t8=_p.reactiveElementPolyfillSupport,R2={toAttribute(t,e){switch(e){case Boolean:t=t?Ufe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},vT=(t,e)=>e!==t&&(e==e||t==t),mb={attribute:!0,type:String,converter:R2,reflect:!1,hasChanged:vT};let Oc=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var r;this.finalize(),((r=this.h)!==null&&r!==void 0?r:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((r,n)=>{const i=this._$Ep(n,r);i!==void 0&&(this._$Ev.set(i,n),e.push(i))}),e}static createProperty(e,r=mb){if(r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(e,r),!r.noAccessor&&!this.prototype.hasOwnProperty(e)){const n=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,r);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){return{get(){return this[r]},set(i){const s=this[e];this[r]=i,this.requestUpdate(e,s,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||mb}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const r=this.properties,n=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(const i of n)this.createProperty(i,r[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(X6(i))}else e!==void 0&&r.push(X6(e));return r}static _$Ep(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(r=>r(this))}addController(e){var r,n;((r=this._$ES)!==null&&r!==void 0?r:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)===null||n===void 0||n.call(e))}removeController(e){var r;(r=this._$ES)===null||r===void 0||r.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,r)=>{this.hasOwnProperty(r)&&(this._$Ei.set(r,this[r]),delete this[r])})}createRenderRoot(){var e;const r=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Ffe(r,this.constructor.elementStyles),r}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(r=>{var n;return(n=r.hostConnected)===null||n===void 0?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(r=>{var n;return(n=r.hostDisconnected)===null||n===void 0?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$EO(e,r,n=mb){var i;const s=this.constructor._$Ep(e,n);if(s!==void 0&&n.reflect===!0){const o=(((i=n.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?n.converter:R2).toAttribute(r,n.type);this._$El=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$El=null}}_$AK(e,r){var n;const i=this.constructor,s=i._$Ev.get(e);if(s!==void 0&&this._$El!==s){const o=i.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((n=o.converter)===null||n===void 0?void 0:n.fromAttribute)!==void 0?o.converter:R2;this._$El=s,this[s]=a.fromAttribute(r,o.type),this._$El=null}}requestUpdate(e,r,n){let i=!0;e!==void 0&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||vT)(this[e],r)?(this._$AL.has(e)||this._$AL.set(e,r),n.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,s)=>this[s]=i),this._$Ei=void 0);let r=!1;const n=this._$AL;try{r=this.shouldUpdate(n),r?(this.willUpdate(n),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var s;return(s=i.hostUpdate)===null||s===void 0?void 0:s.call(i)}),this.update(n)):this._$Ek()}catch(i){throw r=!1,this._$Ek(),i}r&&this._$AE(n)}willUpdate(e){}_$AE(e){var r;(r=this._$ES)===null||r===void 0||r.forEach(n=>{var i;return(i=n.hostUpdated)===null||i===void 0?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((r,n)=>this._$EO(n,this[n],r)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};Oc.finalized=!0,Oc.elementProperties=new Map,Oc.elementStyles=[],Oc.shadowRootOptions={mode:"open"},t8==null||t8({ReactiveElement:Oc}),((gb=_p.reactiveElementVersions)!==null&&gb!==void 0?gb:_p.reactiveElementVersions=[]).push("1.6.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var bb;const Ep=window,Ml=Ep.trustedTypes,r8=Ml?Ml.createPolicy("lit-html",{createHTML:t=>t}):void 0,yo=`lit$${(Math.random()+"").slice(9)}$`,wT="?"+yo,jfe=`<${wT}>`,Tl=document,oh=(t="")=>Tl.createComment(t),ah=t=>t===null||typeof t!="object"&&typeof t!="function",xT=Array.isArray,Hfe=t=>xT(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Fu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,n8=/-->/g,i8=/>/g,fa=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),s8=/'/g,o8=/"/g,_T=/^(?:script|style|textarea|title)$/i,ET=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),ve=ET(1),_t=ET(2),Ka=Symbol.for("lit-noChange"),Nr=Symbol.for("lit-nothing"),a8=new WeakMap,Yc=Tl.createTreeWalker(Tl,129,null,!1),zfe=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":"",o=Fu;for(let c=0;c<r;c++){const l=t[c];let u,h,b=-1,v=0;for(;v<l.length&&(o.lastIndex=v,h=o.exec(l),h!==null);)v=o.lastIndex,o===Fu?h[1]==="!--"?o=n8:h[1]!==void 0?o=i8:h[2]!==void 0?(_T.test(h[2])&&(i=RegExp("</"+h[2],"g")),o=fa):h[3]!==void 0&&(o=fa):o===fa?h[0]===">"?(o=i??Fu,b=-1):h[1]===void 0?b=-2:(b=o.lastIndex-h[2].length,u=h[1],o=h[3]===void 0?fa:h[3]==='"'?o8:s8):o===o8||o===s8?o=fa:o===n8||o===i8?o=Fu:(o=fa,i=void 0);const E=o===fa&&t[c+1].startsWith("/>")?" ":"";s+=o===Fu?l+jfe:b>=0?(n.push(u),l.slice(0,b)+"$lit$"+l.slice(b)+yo+E):l+yo+(b===-2?(n.push(void 0),c):E)}const a=s+(t[r]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[r8!==void 0?r8.createHTML(a):a,n]};class ch{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=zfe(e,r);if(this.el=ch.createElement(l,n),Yc.currentNode=this.el.content,r===2){const h=this.el.content,b=h.firstChild;b.remove(),h.append(...b.childNodes)}for(;(i=Yc.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes()){const h=[];for(const b of i.getAttributeNames())if(b.endsWith("$lit$")||b.startsWith(yo)){const v=u[o++];if(h.push(b),v!==void 0){const E=i.getAttribute(v.toLowerCase()+"$lit$").split(yo),D=/([.?@])?(.*)/.exec(v);c.push({type:1,index:s,name:D[2],strings:E,ctor:D[1]==="."?qfe:D[1]==="?"?Gfe:D[1]==="@"?Kfe:_g})}else c.push({type:6,index:s})}for(const b of h)i.removeAttribute(b)}if(_T.test(i.tagName)){const h=i.textContent.split(yo),b=h.length-1;if(b>0){i.textContent=Ml?Ml.emptyScript:"";for(let v=0;v<b;v++)i.append(h[v],oh()),Yc.nextNode(),c.push({type:2,index:++s});i.append(h[b],oh())}}}else if(i.nodeType===8)if(i.data===wT)c.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(yo,h+1))!==-1;)c.push({type:7,index:s}),h+=yo.length-1}s++}}static createElement(e,r){const n=Tl.createElement("template");return n.innerHTML=e,n}}function kl(t,e,r=t,n){var i,s,o,a;if(e===Ka)return e;let c=n!==void 0?(i=r._$Co)===null||i===void 0?void 0:i[n]:r._$Cl;const l=ah(e)?void 0:e._$litDirective$;return(c==null?void 0:c.constructor)!==l&&((s=c==null?void 0:c._$AO)===null||s===void 0||s.call(c,!1),l===void 0?c=void 0:(c=new l(t),c._$AT(t,r,n)),n!==void 0?((o=(a=r)._$Co)!==null&&o!==void 0?o:a._$Co=[])[n]=c:r._$Cl=c),c!==void 0&&(e=kl(t,c._$AS(t,e.values),c,n)),e}class Wfe{constructor(e,r){this.u=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(e){var r;const{el:{content:n},parts:i}=this._$AD,s=((r=e==null?void 0:e.creationScope)!==null&&r!==void 0?r:Tl).importNode(n,!0);Yc.currentNode=s;let o=Yc.nextNode(),a=0,c=0,l=i[0];for(;l!==void 0;){if(a===l.index){let u;l.type===2?u=new Xh(o,o.nextSibling,this,e):l.type===1?u=new l.ctor(o,l.name,l.strings,this,e):l.type===6&&(u=new Jfe(o,this,e)),this.u.push(u),l=i[++c]}a!==(l==null?void 0:l.index)&&(o=Yc.nextNode(),a++)}return s}p(e){let r=0;for(const n of this.u)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class Xh{constructor(e,r,n,i){var s;this.type=2,this._$AH=Nr,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cm=(s=i==null?void 0:i.isConnected)===null||s===void 0||s}get _$AU(){var e,r;return(r=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&r!==void 0?r:this._$Cm}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=kl(this,e,r),ah(e)?e===Nr||e==null||e===""?(this._$AH!==Nr&&this._$AR(),this._$AH=Nr):e!==this._$AH&&e!==Ka&&this.g(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Hfe(e)?this.k(e):this.g(e)}O(e,r=this._$AB){return this._$AA.parentNode.insertBefore(e,r)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}g(e){this._$AH!==Nr&&ah(this._$AH)?this._$AA.nextSibling.data=e:this.T(Tl.createTextNode(e)),this._$AH=e}$(e){var r;const{values:n,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=ch.createElement(i.h,this.options)),i);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===s)this._$AH.p(n);else{const o=new Wfe(s,this),a=o.v(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let r=a8.get(e.strings);return r===void 0&&a8.set(e.strings,r=new ch(e)),r}k(e){xT(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new Xh(this.O(oh()),this.O(oh()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cm=e,(r=this._$AP)===null||r===void 0||r.call(this,e))}}class _g{constructor(e,r,n,i,s){this.type=1,this._$AH=Nr,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Nr}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=kl(this,e,r,0),o=!ah(e)||e!==this._$AH&&e!==Ka,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=kl(this,a[n+c],r,c),l===Ka&&(l=this._$AH[c]),o||(o=!ah(l)||l!==this._$AH[c]),l===Nr?e=Nr:e!==Nr&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===Nr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class qfe extends _g{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Nr?void 0:e}}const Vfe=Ml?Ml.emptyScript:"";class Gfe extends _g{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Nr?this.element.setAttribute(this.name,Vfe):this.element.removeAttribute(this.name)}}let Kfe=class extends _g{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){var n;if((e=(n=kl(this,e,r,0))!==null&&n!==void 0?n:Nr)===Ka)return;const i=this._$AH,s=e===Nr&&i!==Nr||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==Nr&&(i===Nr||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r,n;typeof this._$AH=="function"?this._$AH.call((n=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&n!==void 0?n:this.element,e):this._$AH.handleEvent(e)}};class Jfe{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){kl(this,e)}}const c8=Ep.litHtmlPolyfillSupport;c8==null||c8(ch,Xh),((bb=Ep.litHtmlVersions)!==null&&bb!==void 0?bb:Ep.litHtmlVersions=[]).push("2.6.1");const Zfe=(t,e,r)=>{var n,i;const s=(n=r==null?void 0:r.renderBefore)!==null&&n!==void 0?n:e;let o=s._$litPart$;if(o===void 0){const a=(i=r==null?void 0:r.renderBefore)!==null&&i!==void 0?i:null;s._$litPart$=o=new Xh(e.insertBefore(oh(),a),a,void 0,r??{})}return o._$AI(t),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var yb,vb;class nt extends Oc{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,r;const n=super.createRenderRoot();return(e=(r=this.renderOptions).renderBefore)!==null&&e!==void 0||(r.renderBefore=n.firstChild),n}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Zfe(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Ka}}nt.finalized=!0,nt._$litElement$=!0,(yb=globalThis.litElementHydrateSupport)===null||yb===void 0||yb.call(globalThis,{LitElement:nt});const l8=globalThis.litElementPolyfillSupport;l8==null||l8({LitElement:nt});((vb=globalThis.litElementVersions)!==null&&vb!==void 0?vb:globalThis.litElementVersions=[]).push("3.2.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ut=t=>e=>typeof e=="function"?((r,n)=>(customElements.define(r,n),n))(t,e):((r,n)=>{const{kind:i,elements:s}=n;return{kind:i,elements:s,finisher(o){customElements.define(r,o)}}})(t,e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Yfe=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(r){r.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(r){r.createProperty(e.key,t)}};function dt(t){return(e,r)=>r!==void 0?((n,i,s)=>{i.constructor.createProperty(s,n)})(t,e,r):Yfe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ft(t){return dt({...t,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var wb;((wb=window.HTMLSlotElement)===null||wb===void 0?void 0:wb.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qfe={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Xfe=t=>(...e)=>({_$litDirective$:t,values:e});class ehe{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,n){this._$Ct=e,this._$AM=r,this._$Ci=n}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Nn=Xfe(class extends ehe{constructor(t){var e;if(super(t),t.type!==Qfe.ATTRIBUTE||t.name!=="class"||((e=t.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,n;if(this.nt===void 0){this.nt=new Set,t.strings!==void 0&&(this.st=new Set(t.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in e)e[s]&&!(!((r=this.st)===null||r===void 0)&&r.has(s))&&this.nt.add(s);return this.render(e)}const i=t.element.classList;this.nt.forEach(s=>{s in e||(i.remove(s),this.nt.delete(s))});for(const s in e){const o=!!e[s];o===this.nt.has(s)||!((n=this.st)===null||n===void 0)&&n.has(s)||(o?(i.add(s),this.nt.add(s)):(i.remove(s),this.nt.delete(s)))}return Ka}});function the(t,e){t.indexOf(e)===-1&&t.push(e)}const ST=(t,e,r)=>Math.min(Math.max(r,t),e),mi={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},lh=t=>typeof t=="number",Qc=t=>Array.isArray(t)&&!lh(t[0]),rhe=(t,e,r)=>{const n=e-t;return((r-t)%n+n)%n+t};function nhe(t,e){return Qc(t)?t[rhe(0,t.length,e)]:t}const AT=(t,e,r)=>-r*t+r*e+t,CT=()=>{},ys=t=>t,g3=(t,e,r)=>e-t===0?1:(r-t)/(e-t);function IT(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=g3(0,e,n);t.push(AT(r,1,i))}}function ihe(t){const e=[0];return IT(e,t-1),e}function she(t,e=ihe(t.length),r=ys){const n=t.length,i=n-e.length;return i>0&&IT(e,i),s=>{let o=0;for(;o<n-2&&!(s<e[o+1]);o++);let a=ST(0,1,g3(e[o],e[o+1],s));return a=nhe(r,o)(a),AT(t[o],t[o+1],a)}}const MT=t=>Array.isArray(t)&&lh(t[0]),P2=t=>typeof t=="object"&&Boolean(t.createAnimation),Ol=t=>typeof t=="function",TT=t=>typeof t=="string",Xc={ms:t=>t*1e3,s:t=>t/1e3};function ohe(t,e){return e?t*(1e3/e):0}const kT=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,ahe=1e-7,che=12;function lhe(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=kT(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>ahe&&++a<che);return o}function cf(t,e,r,n){if(t===e&&r===n)return ys;const i=s=>lhe(s,0,1,t,r);return s=>s===0||s===1?s:kT(i(s),e,n)}const uhe=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*t,i=e==="end"?Math.floor(n):Math.ceil(n);return ST(0,1,i/t)},u8={ease:cf(.25,.1,.25,1),"ease-in":cf(.42,0,1,1),"ease-in-out":cf(.42,0,.58,1),"ease-out":cf(0,0,.58,1)},fhe=/\((.*?)\)/;function f8(t){if(Ol(t))return t;if(MT(t))return cf(...t);if(u8[t])return u8[t];if(t.startsWith("steps")){const e=fhe.exec(t);if(e){const r=e[1].split(",");return uhe(parseFloat(r[0]),r[1].trim())}}return ys}class OT{constructor(e,r=[0,1],{easing:n,duration:i=mi.duration,delay:s=mi.delay,endDelay:o=mi.endDelay,repeat:a=mi.repeat,offset:c,direction:l="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=ys,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((h,b)=>{this.resolve=h,this.reject=b}),n=n||mi.easing,P2(n)){const h=n.createAnimation(r);n=h.easing,r=h.keyframes||r,i=h.duration||i}this.repeat=a,this.easing=Qc(n)?ys:f8(n),this.updateDuration(i);const u=she(r,c,Qc(n)?n.map(f8):ys);this.tick=h=>{var b;s=s;let v=0;this.pauseTime!==void 0?v=this.pauseTime:v=(h-this.startTime)*this.rate,this.t=v,v/=1e3,v=Math.max(v-s,0),this.playState==="finished"&&this.pauseTime===void 0&&(v=this.totalDuration);const E=v/this.duration;let D=Math.floor(E),x=E%1;!x&&E>=1&&(x=1),x===1&&D--;const _=D%2;(l==="reverse"||l==="alternate"&&_||l==="alternate-reverse"&&!_)&&(x=1-x);const m=v>=this.totalDuration?1:Math.min(x,1),w=u(this.easing(m));e(w),this.pauseTime===void 0&&(this.playState==="finished"||v>=this.totalDuration+o)?(this.playState="finished",(b=this.resolve)===null||b===void 0||b.call(this,w)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}class hhe{setAnimation(e){this.animation=e,e==null||e.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const xb=new WeakMap;function RT(t){return xb.has(t)||xb.set(t,{transforms:[],values:new Map}),xb.get(t)}function dhe(t,e){return t.has(e)||t.set(e,new hhe),t.get(e)}const phe=["","X","Y","Z"],ghe=["translate","scale","rotate","skew"],Sp={x:"translateX",y:"translateY",z:"translateZ"},h8={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},mhe={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:h8,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:ys},skew:h8},Rl=new Map,m3=t=>`--motion-${t}`,Ap=["x","y","z"];ghe.forEach(t=>{phe.forEach(e=>{Ap.push(t+e),Rl.set(m3(t+e),mhe[t])})});const bhe=(t,e)=>Ap.indexOf(t)-Ap.indexOf(e),yhe=new Set(Ap),PT=t=>yhe.has(t),vhe=(t,e)=>{Sp[e]&&(e=Sp[e]);const{transforms:r}=RT(t);the(r,e),t.style.transform=whe(r)},whe=t=>t.sort(bhe).reduce(xhe,"").trim(),xhe=(t,e)=>`${t} ${e}(var(${m3(e)}))`,N2=t=>t.startsWith("--"),d8=new Set;function _he(t){if(!d8.has(t)){d8.add(t);try{const{syntax:e,initialValue:r}=Rl.has(t)?Rl.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:r})}catch{}}}const _b=(t,e)=>document.createElement("div").animate(t,e),p8={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{_b({opacity:[1]})}catch{return!1}return!0},finished:()=>Boolean(_b({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{_b({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},Eb={},Uc={};for(const t in p8)Uc[t]=()=>(Eb[t]===void 0&&(Eb[t]=p8[t]()),Eb[t]);const Ehe=.015,She=(t,e)=>{let r="";const n=Math.round(e/Ehe);for(let i=0;i<n;i++)r+=t(g3(0,n-1,i))+", ";return r.substring(0,r.length-2)},g8=(t,e)=>Ol(t)?Uc.linearEasing()?`linear(${She(t,e)})`:mi.easing:MT(t)?Ahe(t):t,Ahe=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`;function Che(t,e){for(let r=0;r<t.length;r++)t[r]===null&&(t[r]=r?t[r-1]:e());return t}const Ihe=t=>Array.isArray(t)?t:[t];function Cp(t){return Sp[t]&&(t=Sp[t]),PT(t)?m3(t):t}const F0={get:(t,e)=>{e=Cp(e);let r=N2(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!r&&r!==0){const n=Rl.get(e);n&&(r=n.initialValue)}return r},set:(t,e,r)=>{e=Cp(e),N2(e)?t.style.setProperty(e,r):t.style[e]=r}};function NT(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function DT(t,e){var r;let n=(e==null?void 0:e.toDefaultUnit)||ys;const i=t[t.length-1];if(TT(i)){const s=((r=i.match(/(-?[\d.]+)([a-z%]*)/))===null||r===void 0?void 0:r[2])||"";s&&(n=o=>o+s)}return n}function Mhe(){return window.__MOTION_DEV_TOOLS_RECORD}function The(t,e,r,n={},i){const s=Mhe(),o=n.record!==!1&&s;let a,{duration:c=mi.duration,delay:l=mi.delay,endDelay:u=mi.endDelay,repeat:h=mi.repeat,easing:b=mi.easing,persist:v=!1,direction:E,offset:D,allowWebkitAcceleration:x=!1}=n;const _=RT(t),m=PT(e);let w=Uc.waapi();m&&vhe(t,e);const A=Cp(e),k=dhe(_.values,A),z=Rl.get(A);return NT(k.animation,!(P2(b)&&k.generator)&&n.record!==!1),()=>{const S=()=>{var W,y;return(y=(W=F0.get(t,A))!==null&&W!==void 0?W:z==null?void 0:z.initialValue)!==null&&y!==void 0?y:0};let H=Che(Ihe(r),S);const re=DT(H,z);if(P2(b)){const W=b.createAnimation(H,e!=="opacity",S,A,k);b=W.easing,H=W.keyframes||H,c=W.duration||c}if(N2(A)&&(Uc.cssRegisterProperty()?_he(A):w=!1),m&&!Uc.linearEasing()&&(Ol(b)||Qc(b)&&b.some(Ol))&&(w=!1),w){z&&(H=H.map(R=>lh(R)?z.toDefaultUnit(R):R)),H.length===1&&(!Uc.partialKeyframes()||o)&&H.unshift(S());const W={delay:Xc.ms(l),duration:Xc.ms(c),endDelay:Xc.ms(u),easing:Qc(b)?void 0:g8(b,c),direction:E,iterations:h+1,fill:"both"};a=t.animate({[A]:H,offset:D,easing:Qc(b)?b.map(R=>g8(R,c)):void 0},W),a.finished||(a.finished=new Promise((R,I)=>{a.onfinish=R,a.oncancel=I}));const y=H[H.length-1];a.finished.then(()=>{v||(F0.set(t,A,y),a.cancel())}).catch(CT),x||(a.playbackRate=1.000001)}else if(i&&m)H=H.map(W=>typeof W=="string"?parseFloat(W):W),H.length===1&&H.unshift(parseFloat(S())),a=new i(W=>{F0.set(t,A,re?re(W):W)},H,Object.assign(Object.assign({},n),{duration:c,easing:b}));else{const W=H[H.length-1];F0.set(t,A,z&&lh(W)?z.toDefaultUnit(W):W)}return o&&s(t,e,H,{duration:c,delay:l,easing:b,repeat:h,offset:D},"motion-one"),k.setAnimation(a),a}}const khe=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function Ohe(t,e){var r;return typeof t=="string"?e?((r=e[t])!==null&&r!==void 0||(e[t]=document.querySelectorAll(t)),t=e[t]):t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const Rhe=t=>t(),BT=(t,e,r=mi.duration)=>new Proxy({animations:t.map(Rhe).filter(Boolean),duration:r,options:e},Nhe),Phe=t=>t.animations[0],Nhe={get:(t,e)=>{const r=Phe(t);switch(e){case"duration":return t.duration;case"currentTime":return Xc.s((r==null?void 0:r[e])||0);case"playbackRate":case"playState":return r==null?void 0:r[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(Dhe)).catch(CT)),t.finished;case"stop":return()=>{t.animations.forEach(n=>NT(n))};case"forEachNative":return n=>{t.animations.forEach(i=>n(i,t))};default:return typeof(r==null?void 0:r[e])>"u"?void 0:()=>t.animations.forEach(n=>n[e]())}},set:(t,e,r)=>{switch(e){case"currentTime":r=Xc.ms(r);case"currentTime":case"playbackRate":for(let n=0;n<t.animations.length;n++)t.animations[n][e]=r;return!0}return!1}},Dhe=t=>t.finished;function Bhe(t,e,r){return Ol(t)?t(e,r):t}function Lhe(t){return function(r,n,i={}){r=Ohe(r);const s=r.length,o=[];for(let a=0;a<s;a++){const c=r[a];for(const l in n){const u=khe(i,l);u.delay=Bhe(u.delay,a,s);const h=The(c,l,n[l],u,t);o.push(h)}}return BT(o,i,i.duration)}}const $he=Lhe(OT),Fhe=5;function LT(t,e,r){const n=Math.max(e-Fhe,0);return ohe(r-t(n),e-n)}const el={stiffness:100,damping:10,mass:1},Uhe=(t=el.stiffness,e=el.damping,r=el.mass)=>e/(2*Math.sqrt(t*r));function jhe(t,e,r){return t<e&&r>=e||t>e&&r<=e}const Hhe=({stiffness:t=el.stiffness,damping:e=el.damping,mass:r=el.mass,from:n=0,to:i=1,velocity:s=0,restSpeed:o=2,restDistance:a=.5}={})=>{s=s?Xc.s(s):0;const c={done:!1,hasReachedTarget:!1,current:n,target:i},l=i-n,u=Math.sqrt(t/r)/1e3,h=Uhe(t,e,r);let b;if(h<1){const v=u*Math.sqrt(1-h*h);b=E=>i-Math.exp(-h*u*E)*((-s+h*u*l)/v*Math.sin(v*E)+l*Math.cos(v*E))}else b=v=>i-Math.exp(-u*v)*(l+(-s+u*l)*v);return v=>{c.current=b(v);const E=v===0?s:LT(b,v,c.current),D=Math.abs(E)<=o,x=Math.abs(i-c.current)<=a;return c.done=D&&x,c.hasReachedTarget=jhe(n,i,c.current),c}},Sb=10,zhe=1e4;function Whe(t,e=ys){let r,n=Sb,i=t(0);const s=[e(i.current)];for(;!i.done&&n<zhe;)i=t(n),s.push(e(i.done?i.target:i.current)),r===void 0&&i.hasReachedTarget&&(r=n),n+=Sb;const o=n-Sb;return s.length===1&&s.push(i.current),{keyframes:s,duration:o/1e3,overshootDuration:(r??o)/1e3}}function m8(t){return lh(t)&&!isNaN(t)}function Ab(t){return TT(t)?parseFloat(t):t}function qhe(t){const e=new WeakMap;return(r={})=>{const n=new Map,i=(o=0,a=100,c=0,l=!1)=>{const u=`${o}-${a}-${c}-${l}`;return n.has(u)||n.set(u,t(Object.assign({from:o,to:a,velocity:c,restSpeed:l?.05:2,restDistance:l?.01:.5},r))),n.get(u)},s=(o,a)=>(e.has(o)||e.set(o,Whe(o,a)),e.get(o));return{createAnimation:(o,a=!0,c,l,u)=>{let h,b,v,E=0,D=ys;const x=o.length;if(a){D=DT(o,l?Rl.get(Cp(l)):void 0);const _=o[x-1];if(v=Ab(_),x>1&&o[0]!==null)b=Ab(o[0]);else{const m=u==null?void 0:u.generator;if(m){const{animation:w,generatorStartTime:A}=u,k=(w==null?void 0:w.startTime)||A||0,z=(w==null?void 0:w.currentTime)||performance.now()-k,S=m(z).current;b=S,E=LT(H=>m(H).current,z,S)}else c&&(b=Ab(c()))}}if(m8(b)&&m8(v)){const _=i(b,v,E,l==null?void 0:l.includes("scale"));h=Object.assign(Object.assign({},s(_,D)),{easing:"linear"}),u&&(u.generator=_,u.generatorStartTime=performance.now())}return h||(h={easing:"ease",duration:s(i(0,100)).overshootDuration}),h}}}}const U0=qhe(Hhe);function Vhe(t,e={}){return BT([()=>{const r=new OT(t,[0,1],e);return r.finished.catch(()=>{}),r}],e,e.duration)}function vo(t,e,r){return(Ol(t)?Vhe:$he)(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qn=t=>t??Nr;var e0={},Ghe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},$T={},ni={};let b3;const Khe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ni.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ni.getSymbolTotalCodewords=function(e){return Khe[e]};ni.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};ni.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');b3=e};ni.isKanjiModeEnabled=function(){return typeof b3<"u"};ni.toSJIS=function(e){return b3(e)};var Eg={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(Eg);function FT(){this.buffer=[],this.length=0}FT.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Jhe=FT;function t0(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}t0.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};t0.prototype.get=function(t,e){return this.data[t*this.size+e]};t0.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};t0.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Zhe=t0,UT={};(function(t){const e=ni.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(UT);var jT={};const Yhe=ni.getSymbolSize,b8=7;jT.getPositions=function(e){const r=Yhe(e);return[[0,0],[r-b8,0],[0,r-b8]]};var HT={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,u=null;for(let h=0;h<s;h++){a=c=0,l=u=null;for(let b=0;b<s;b++){let v=i.get(h,b);v===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=v,a=1),v=i.get(b,h),v===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=v,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,r(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(HT);var Sg={};const Co=Eg,j0=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],H0=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Sg.getBlocksCount=function(e,r){switch(r){case Co.L:return j0[(e-1)*4+0];case Co.M:return j0[(e-1)*4+1];case Co.Q:return j0[(e-1)*4+2];case Co.H:return j0[(e-1)*4+3];default:return}};Sg.getTotalCodewordsCount=function(e,r){switch(r){case Co.L:return H0[(e-1)*4+0];case Co.M:return H0[(e-1)*4+1];case Co.Q:return H0[(e-1)*4+2];case Co.H:return H0[(e-1)*4+3];default:return}};var zT={},Ag={};const kf=new Uint8Array(512),Ip=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)kf[r]=e,Ip[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)kf[r]=kf[r-255]})();Ag.log=function(e){if(e<1)throw new Error("log("+e+")");return Ip[e]};Ag.exp=function(e){return kf[e]};Ag.mul=function(e,r){return e===0||r===0?0:kf[Ip[e]+Ip[r]]};(function(t){const e=Ag;t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(zT);const WT=zT;function y3(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}y3.prototype.initialize=function(e){this.degree=e,this.genPoly=WT.generateECPolynomial(this.degree)};y3.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=WT.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var Qhe=y3,qT={},Qo={},v3={};v3.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Ms={};const VT="[0-9]+",Xhe="[A-Z $%*+\\-./:]+";let uh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";uh=uh.replace(/u/g,"\\u");const e0e="(?:(?![A-Z0-9 $%*+\\-./:]|"+uh+`)(?:.|[\r
]))+`;Ms.KANJI=new RegExp(uh,"g");Ms.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ms.BYTE=new RegExp(e0e,"g");Ms.NUMERIC=new RegExp(VT,"g");Ms.ALPHANUMERIC=new RegExp(Xhe,"g");const t0e=new RegExp("^"+uh+"$"),r0e=new RegExp("^"+VT+"$"),n0e=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ms.testKanji=function(e){return t0e.test(e)};Ms.testNumeric=function(e){return r0e.test(e)};Ms.testAlphanumeric=function(e){return n0e.test(e)};(function(t){const e=v3,r=Ms;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(Qo);(function(t){const e=ni,r=Sg,n=Eg,i=Qo,s=v3,o=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,a=e.getBCHDigit(o);function c(b,v,E){for(let D=1;D<=40;D++)if(v<=t.getCapacity(D,E,b))return D}function l(b,v){return i.getCharCountIndicator(b,v)+4}function u(b,v){let E=0;return b.forEach(function(D){const x=l(D.mode,v);E+=x+D.getBitsLength()}),E}function h(b,v){for(let E=1;E<=40;E++)if(u(b,E)<=t.getCapacity(E,v,i.MIXED))return E}t.from=function(v,E){return s.isValid(v)?parseInt(v,10):E},t.getCapacity=function(v,E,D){if(!s.isValid(v))throw new Error("Invalid QR Code version");typeof D>"u"&&(D=i.BYTE);const x=e.getSymbolTotalCodewords(v),_=r.getTotalCodewordsCount(v,E),m=(x-_)*8;if(D===i.MIXED)return m;const w=m-l(D,v);switch(D){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},t.getBestVersionForData=function(v,E){let D;const x=n.from(E,n.M);if(Array.isArray(v)){if(v.length>1)return h(v,x);if(v.length===0)return 1;D=v[0]}else D=v;return c(D.mode,D.getLength(),x)},t.getEncodedBits=function(v){if(!s.isValid(v)||v<7)throw new Error("Invalid QR Code version");let E=v<<12;for(;e.getBCHDigit(E)-a>=0;)E^=o<<e.getBCHDigit(E)-a;return v<<12|E}})(qT);var GT={};const D2=ni,KT=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,i0e=1<<14|1<<12|1<<10|1<<4|1<<1,y8=D2.getBCHDigit(KT);GT.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;D2.getBCHDigit(i)-y8>=0;)i^=KT<<D2.getBCHDigit(i)-y8;return(n<<10|i)^i0e};var JT={};const s0e=Qo;function Pl(t){this.mode=s0e.NUMERIC,this.data=t.toString()}Pl.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Pl.prototype.getLength=function(){return this.data.length};Pl.prototype.getBitsLength=function(){return Pl.getBitsLength(this.data.length)};Pl.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};var o0e=Pl;const a0e=Qo,Cb=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Nl(t){this.mode=a0e.ALPHANUMERIC,this.data=t}Nl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Nl.prototype.getLength=function(){return this.data.length};Nl.prototype.getBitsLength=function(){return Nl.getBitsLength(this.data.length)};Nl.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=Cb.indexOf(this.data[r])*45;n+=Cb.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(Cb.indexOf(this.data[r]),6)};var c0e=Nl,l0e=function(e){for(var r=[],n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const u0e=l0e,f0e=Qo;function Dl(t){this.mode=f0e.BYTE,typeof t=="string"&&(t=u0e(t)),this.data=new Uint8Array(t)}Dl.getBitsLength=function(e){return e*8};Dl.prototype.getLength=function(){return this.data.length};Dl.prototype.getBitsLength=function(){return Dl.getBitsLength(this.data.length)};Dl.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var h0e=Dl;const d0e=Qo,p0e=ni;function Bl(t){this.mode=d0e.KANJI,this.data=t}Bl.getBitsLength=function(e){return e*13};Bl.prototype.getLength=function(){return this.data.length};Bl.prototype.getBitsLength=function(){return Bl.getBitsLength(this.data.length)};Bl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=p0e.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var g0e=Bl;(function(t){const e=Qo,r=o0e,n=c0e,i=h0e,s=g0e,o=Ms,a=ni,c=lp;function l(_){return unescape(encodeURIComponent(_)).length}function u(_,m,w){const A=[];let k;for(;(k=_.exec(w))!==null;)A.push({data:k[0],index:k.index,mode:m,length:k[0].length});return A}function h(_){const m=u(o.NUMERIC,e.NUMERIC,_),w=u(o.ALPHANUMERIC,e.ALPHANUMERIC,_);let A,k;return a.isKanjiModeEnabled()?(A=u(o.BYTE,e.BYTE,_),k=u(o.KANJI,e.KANJI,_)):(A=u(o.BYTE_KANJI,e.BYTE,_),k=[]),m.concat(w,A,k).sort(function(S,H){return S.index-H.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function b(_,m){switch(m){case e.NUMERIC:return r.getBitsLength(_);case e.ALPHANUMERIC:return n.getBitsLength(_);case e.KANJI:return s.getBitsLength(_);case e.BYTE:return i.getBitsLength(_)}}function v(_){return _.reduce(function(m,w){const A=m.length-1>=0?m[m.length-1]:null;return A&&A.mode===w.mode?(m[m.length-1].data+=w.data,m):(m.push(w),m)},[])}function E(_){const m=[];for(let w=0;w<_.length;w++){const A=_[w];switch(A.mode){case e.NUMERIC:m.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:m.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:m.push([A,{data:A.data,mode:e.BYTE,length:l(A.data)}]);break;case e.BYTE:m.push([{data:A.data,mode:e.BYTE,length:l(A.data)}])}}return m}function D(_,m){const w={},A={start:{}};let k=["start"];for(let z=0;z<_.length;z++){const S=_[z],H=[];for(let re=0;re<S.length;re++){const W=S[re],y=""+z+re;H.push(y),w[y]={node:W,lastCount:0},A[y]={};for(let R=0;R<k.length;R++){const I=k[R];w[I]&&w[I].node.mode===W.mode?(A[I][y]=b(w[I].lastCount+W.length,W.mode)-b(w[I].lastCount,W.mode),w[I].lastCount+=W.length):(w[I]&&(w[I].lastCount=W.length),A[I][y]=b(W.length,W.mode)+4+e.getCharCountIndicator(W.mode,m))}}k=H}for(let z=0;z<k.length;z++)A[k[z]].end=0;return{map:A,table:w}}function x(_,m){let w;const A=e.getBestModeForData(_);if(w=e.from(m,A),w!==e.BYTE&&w.bit<A.bit)throw new Error('"'+_+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(A));switch(w===e.KANJI&&!a.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new r(_);case e.ALPHANUMERIC:return new n(_);case e.KANJI:return new s(_);case e.BYTE:return new i(_)}}t.fromArray=function(m){return m.reduce(function(w,A){return typeof A=="string"?w.push(x(A,null)):A.data&&w.push(x(A.data,A.mode)),w},[])},t.fromString=function(m,w){const A=h(m,a.isKanjiModeEnabled()),k=E(A),z=D(k,w),S=c.find_path(z.map,"start","end"),H=[];for(let re=1;re<S.length-1;re++)H.push(z.table[S[re]].node);return t.fromArray(v(H))},t.rawSplit=function(m){return t.fromArray(h(m,a.isKanjiModeEnabled()))}})(JT);const Cg=ni,Ib=Eg,m0e=Jhe,b0e=Zhe,y0e=UT,v0e=jT,B2=HT,L2=Sg,w0e=Qhe,Mp=qT,x0e=GT,_0e=Qo,Mb=JT;function E0e(t,e){const r=t.size,n=v0e.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function S0e(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function A0e(t,e){const r=y0e.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function C0e(t,e){const r=t.size,n=Mp.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function Tb(t,e,r){const n=t.size,i=x0e.getEncodedBits(e,r);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function I0e(t,e){const r=t.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function M0e(t,e,r){const n=new m0e;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),_0e.getCharCountIndicator(c.mode,t)),c.write(n)});const i=Cg.getSymbolTotalCodewords(t),s=L2.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return T0e(n,t,e)}function T0e(t,e,r){const n=Cg.getSymbolTotalCodewords(e),i=L2.getTotalCodewordsCount(e,r),s=n-i,o=L2.getBlocksCount(e,r),a=n%o,c=o-a,l=Math.floor(n/o),u=Math.floor(s/o),h=u+1,b=l-u,v=new w0e(b);let E=0;const D=new Array(o),x=new Array(o);let _=0;const m=new Uint8Array(t.buffer);for(let S=0;S<o;S++){const H=S<c?u:h;D[S]=m.slice(E,E+H),x[S]=v.encode(D[S]),E+=H,_=Math.max(_,H)}const w=new Uint8Array(n);let A=0,k,z;for(k=0;k<_;k++)for(z=0;z<o;z++)k<D[z].length&&(w[A++]=D[z][k]);for(k=0;k<b;k++)for(z=0;z<o;z++)w[A++]=x[z][k];return w}function k0e(t,e,r,n){let i;if(Array.isArray(t))i=Mb.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=Mb.rawSplit(t);l=Mp.getBestVersionForData(u,r)}i=Mb.fromString(t,l||40)}else throw new Error("Invalid data");const s=Mp.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=M0e(e,r,i),a=Cg.getSymbolSize(e),c=new b0e(a);return E0e(c,e),S0e(c),A0e(c,e),Tb(c,r,0),e>=7&&C0e(c,e),I0e(c,o),isNaN(n)&&(n=B2.getBestMask(c,Tb.bind(null,c,r))),B2.applyMask(n,c),Tb(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}$T.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=Ib.M,i,s;return typeof r<"u"&&(n=Ib.from(r.errorCorrectionLevel,Ib.M),i=Mp.from(r.version),s=B2.from(r.maskPattern),r.toSJISFunc&&Cg.setToSJISFunction(r.toSJISFunc)),k0e(e,i,n,s)};var ZT={},w3={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,h=[s.color.light,s.color.dark];for(let b=0;b<l;b++)for(let v=0;v<l;v++){let E=(b*l+v)*4,D=s.color.light;if(b>=u&&v>=u&&b<l-u&&v<l-u){const x=Math.floor((b-u)/c),_=Math.floor((v-u)/c);D=h[a[x*o+_]?1:0]}n[E++]=D.r,n[E++]=D.g,n[E++]=D.b,n[E]=D.a}}})(w3);(function(t){const e=w3;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=n()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),h=l.getContext("2d"),b=h.createImageData(u,u);return e.qrToImageData(b.data,s,c),r(h,l,u),h.putImageData(b,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),u=c.type||"image/png",h=c.rendererOpts||{};return l.toDataURL(u,h.quality)}})(ZT);var YT={};const O0e=w3;function v8(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function kb(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function R0e(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(n+=s?kb("M",c+r,.5+l+r):kb("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(n+=kb("h",o),o=0)):i++}return n}YT.render=function(e,r,n){const i=O0e.getOptions(r),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+v8(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+v8(i.color.dark,"stroke")+' d="'+R0e(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof n=="function"&&n(null,b),b};const P0e=Ghe,$2=$T,QT=ZT,N0e=YT;function x3(t,e,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!P0e())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,l){try{const u=$2.create(r,n);c(t(u,e,n))}catch(u){l(u)}})}try{const c=$2.create(r,n);i(null,t(c,e,n))}catch(c){i(c)}}e0.create=$2.create;e0.toCanvas=x3.bind(null,QT.render);e0.toDataURL=x3.bind(null,QT.renderToDataURL);e0.toString=x3.bind(null,function(t,e,r){return N0e.render(t,r)});var D0e=Object.defineProperty,w8=Object.getOwnPropertySymbols,B0e=Object.prototype.hasOwnProperty,L0e=Object.prototype.propertyIsEnumerable,x8=(t,e,r)=>e in t?D0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_8=(t,e)=>{for(var r in e||(e={}))B0e.call(e,r)&&x8(t,r,e[r]);if(w8)for(var r of w8(e))L0e.call(e,r)&&x8(t,r,e[r]);return t};function E8(){return{default:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(51,150,255)",background:"rgb(232,242,252)"},dark:{inverse:"rgb(255,255,255)",foreground:"rgb(71,161,255)",background:"rgb(21,38,55)"}},magenta:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(198,83,128)",background:"rgb(244,221,230)"},dark:{inverse:"rgb(255,255,255)",foreground:"rgb(203,77,140)",background:"rgb(57,35,43)"}},blue:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(61,92,245)",background:"rgb(232,235,252)"},dark:{inverse:"rgb(255,255,255)",foreground:"rgb(81,109,251)",background:"rgb(28,33,59)"}},orange:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(234,140,46)",background:"rgb(244,236,221)"},dark:{inverse:"rgb(0,0,0)",foreground:"rgb(255,166,76)",background:"rgb(57,50,34)"}},green:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(38,181,98)",background:"rgb(218,246,218)"},dark:{inverse:"rgb(0,0,0)",foreground:"rgb(38,217,98)",background:"rgb(35,52,40)"}},purple:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(121,76,255)",background:"rgb(225,218,246)"},dark:{inverse:"rgb(255,255,255)",foreground:"rgb(144,110,247)",background:"rgb(36,31,51)"}},teal:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(43,182,182)",background:"rgb(217,242,238)"},dark:{inverse:"rgb(0,0,0)",foreground:"rgb(54,226,226)",background:"rgb(29,48,52)"}},blackWhite:{light:{inverse:"rgb(255,255,255)",foreground:"rgb(20,20,20)",background:"rgb(255,255,255)"},dark:{inverse:"rgb(0,0,0)",foreground:"rgb(255,255,255)",background:"rgb(20,20,20)"}}}}function $0e(){return{light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1"}}}function F0e(){return{default:{1:"#B6B9C9",2:"#C653C6",3:"#794DFF",4:"#2EB8B8"},blue:{1:"#E8EBFD",2:"#C653C6",3:"#2DD2C5",4:"#3D5CF5"},magenta:{1:"#F4DDE6",2:"#E0D452",3:"#F09475",4:"#D1618D"},orange:{1:"#F4ECDD",2:"#B4EB47",3:"#3075E8",4:"#EB9947"},green:{1:"#DAF6DA",2:"#E06B92",3:"#99E54D",4:"#26B562"},purple:{1:"#E1DAF6",2:"#EB9947",3:"#E06B92",4:"#794DFF"},teal:{1:"#D9F2EE",2:"#F09475",3:"#794DFF",4:"#2EB8B8"},blackWhite:{1:"#E3E8E8",2:"#98AEAE",3:"#516767",4:"#242E2E"}}}const Ge={color(){var t,e;const r=(t=Xt.state.themeColor)!=null?t:"default",n=(e=Xt.state.themeMode)!=null?e:"dark",i=E8()[r][n],s=$0e()[n],o=F0e()[r];return{foreground:_8({accent:i.foreground,inverse:i.inverse},s.foreground),background:_8({accent:i.background},s.background),gradient:o,overlay:s.overlay,error:"rgb(242, 90, 103)"}},setTheme(){const t=document.querySelector(":root"),{themeZIndex:e}=Xt.state;if(t){const r={"--w3m-color-fg-accent":Ge.color().foreground.accent,"--w3m-color-fg-inverse":Ge.color().foreground.inverse,"--w3m-color-fg-1":Ge.color().foreground[1],"--w3m-color-fg-2":Ge.color().foreground[2],"--w3m-color-fg-3":Ge.color().foreground[3],"--w3m-color-bg-1":Ge.color().background[1],"--w3m-color-bg-2":Ge.color().background[2],"--w3m-color-bg-3":Ge.color().background[3],"--w3m-color-overlay":Ge.color().overlay,"--w3m-color-err":Ge.color().error,"--w3m-color-success":E8().green.light.foreground,"--w3m-gradient-1":Ge.color().gradient[1],"--w3m-gradient-2":Ge.color().gradient[2],"--w3m-gradient-3":Ge.color().gradient[3],"--w3m-gradient-4":Ge.color().gradient[4],"--w3m-modal-z-index":`${e}`};Object.entries(r).forEach(([n,i])=>t.style.setProperty(n,i))}},globalCss:gt`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent}button::after{content:'';position:absolute;inset:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button w3m-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--w3m-color-fg-inverse);background:var(--w3m-color-fg-accent)}`},U0e=gt`button{display:flex;border-radius:10px;flex-direction:column;transition:background-color .2s ease;justify-content:center;padding:5px;width:100px}button:hover{background-color:var(--w3m-color-overlay)}button>div{display:flex;justify-content:center;align-items:center;width:32px;height:32px;box-shadow:inset 0 0 0 1px var(--w3m-color-overlay);background-color:var(--w3m-color-fg-accent);border-radius:50%;margin-bottom:4px}button path{fill:var(--w3m-color-fg-inverse)}`;var j0e=Object.defineProperty,H0e=Object.getOwnPropertyDescriptor,z0=(t,e,r,n)=>{for(var i=n>1?void 0:n?H0e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&j0e(e,r,i),i};let xc=class extends nt{constructor(){super(...arguments),this.icon=void 0,this.label="",this.onClick=()=>null}render(){return ve`<button @click="${this.onClick}"><div>${this.icon}</div><w3m-text variant="xsmall-normal" color="accent">${this.label}</w3m-text></button>`}};xc.styles=[Ge.globalCss,U0e],z0([dt()],xc.prototype,"icon",2),z0([dt()],xc.prototype,"label",2),z0([dt()],xc.prototype,"onClick",2),xc=z0([ut("w3m-box-button")],xc);const z0e=gt`button{border-radius:28px;height:28px;padding:0 10px;background-color:var(--w3m-color-fg-accent)}button path{fill:var(--w3m-color-fg-inverse)}button::after{border-radius:inherit;border:1px solid var(--w3m-color-overlay)}button:disabled::after{background-color:transparent}.w3m-icon-left svg{margin-right:5px}.w3m-icon-right svg{margin-left:5px}button:hover::after{background-color:var(--w3m-color-overlay)}button:disabled{background-color:var(--w3m-color-bg-3)}`;var W0e=Object.defineProperty,q0e=Object.getOwnPropertyDescriptor,Uu=(t,e,r,n)=>{for(var i=n>1?void 0:n?q0e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&W0e(e,r,i),i};let ha=class extends nt{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null}render(){const t={"w3m-icon-left":this.iconLeft!==void 0,"w3m-icon-right":this.iconRight!==void 0};return ve`<button class="${Nn(t)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<w3m-text variant="small-normal" color="inverse"><slot></slot></w3m-text>${this.iconRight}</button>`}};ha.styles=[Ge.globalCss,z0e],Uu([dt()],ha.prototype,"disabled",2),Uu([dt()],ha.prototype,"iconLeft",2),Uu([dt()],ha.prototype,"iconRight",2),Uu([dt()],ha.prototype,"onClick",2),ha=Uu([ut("w3m-button")],ha);const V0e=gt`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:10px;color:var(--w3m-color-fg-inverse);background-color:var(--w3m-color-fg-accent)}button::after{content:'';inset:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--w3m-color-overlay)}button:hover::after{background-color:var(--w3m-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--w3m-color-bg-3);color:var(--w3m-color-fg-3)}.w3m-secondary{color:var(--w3m-color-fg-accent);background-color:transparent}.w3m-secondary::after{display:none}`;var G0e=Object.defineProperty,K0e=Object.getOwnPropertyDescriptor,Ob=(t,e,r,n)=>{for(var i=n>1?void 0:n?K0e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&G0e(e,r,i),i};let ju=class extends nt{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const t={"w3m-secondary":this.variant==="secondary"};return ve`<button ?disabled="${this.disabled}" class="${Nn(t)}"><slot></slot></button>`}};ju.styles=[Ge.globalCss,V0e],Ob([dt()],ju.prototype,"disabled",2),Ob([dt()],ju.prototype,"variant",2),ju=Ob([ut("w3m-button-big")],ju);let J0e=class{constructor(...t){this.angle=0,this.t=1253106,this.last=0,this.height=500,this.amp=300,this.seed=15,this.freqX=14e-5,this.freqY=29e-5,this.freqDelta=1e-5,this.activeColors=[1,1,1,1],this.isMetaKey=!1,this.playing=!1,S8(this,"resize",()=>{this.width=window.innerWidth,this.minigl.setSize(this.width,this.height),this.minigl.setOrthographicCamera(),this.xSegCount=Math.ceil(this.width*this.conf.density[0]),this.ySegCount=Math.ceil(this.height*this.conf.density[1]),this.mesh.geometry.setTopology(this.xSegCount,this.ySegCount),this.mesh.geometry.setSize(this.width,this.height),this.mesh.material.uniforms.u_shadow_power.value=this.width<550?5:6}),S8(this,"animate",e=>{if(this.playing){if(this.shouldSkipFrame(e)||(this.t+=Math.min(e-this.last,1e3/15),this.last=e,this.mesh.material.uniforms.u_time.value=this.t,this.minigl.render()),this.last!==0&&this.isStatic)return this.minigl.render();requestAnimationFrame(this.animate)}})}play(t){this.el=t,this.connect()}stop(){this.playing=!1}async connect(){this.shaderFiles={vertex:"varying vec3 v_color;void main(){float time=u_time*u_global.noiseSpeed;vec2 noiseCoord=resolution*uvNorm*u_global.noiseFreq;vec2 st=1.-uvNorm.xy;float tilt=resolution.y/2.0*uvNorm.y;float incline=resolution.x*uvNorm.x/2.0*u_vertDeform.incline;float offset=resolution.x/2.0*u_vertDeform.incline*mix(u_vertDeform.offsetBottom,u_vertDeform.offsetTop,uv.y);float noise=snoise(vec3(noiseCoord.x*u_vertDeform.noiseFreq.x+time*u_vertDeform.noiseFlow,noiseCoord.y*u_vertDeform.noiseFreq.y,time*u_vertDeform.noiseSpeed+u_vertDeform.noiseSeed))*u_vertDeform.noiseAmp;noise*=1.0-pow(abs(uvNorm.y),2.0);noise=max(0.0,noise);vec3 pos=vec3(position.x,position.y+tilt+incline+noise-offset,position.z);if(u_active_colors[0]==1.){v_color=u_baseColor;}for(int i=0;i<u_waveLayers_length;i++){if(u_active_colors[i+1]==1.){WaveLayers layer=u_waveLayers[i];float noise=smoothstep(layer.noiseFloor,layer.noiseCeil,snoise(vec3(noiseCoord.x*layer.noiseFreq.x+time*layer.noiseFlow,noiseCoord.y*layer.noiseFreq.y,time*layer.noiseSpeed+layer.noiseSeed))/2.0+0.5);v_color=blendNormal(v_color,layer.color,pow(noise,4.));}}gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.0);}",noise:`
// MIT License: Copyright (C) 2011 Ashima Arts. All rights reserved. https://github.com/ashima/webgl-noise, https://github.com/stegu/webgl-noise
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`,blend:`
// MIT Licence: Copyright (C) 2015 Jamie Owen. All rights reserved. https://github.com/jamieowen/glsl-blend
vec3 blendNormal(vec3 base, vec3 blend){return blend;}vec3 blendNormal(vec3 base,vec3 blend,float opacity){return (blendNormal(base,blend)*opacity+base*(1.0-opacity));}float blendScreen(float base,float blend){return 1.0-((1.0-base)*(1.0-blend));}vec3 blendScreen(vec3 base,vec3 blend){return vec3(blendScreen(base.r,blend.r),blendScreen(base.g,blend.g),blendScreen(base.b,blend.b));}vec3 blendScreen(vec3 base,vec3 blend,float opacity){return (blendScreen(base, blend)*opacity+base*(1.0-opacity));}vec3 blendMultiply(vec3 base,vec3 blend){return base*blend;}vec3 blendMultiply(vec3 base,vec3 blend,float opacity){return (blendMultiply(base,blend)*opacity+base*(1.0-opacity));}float blendOverlay(float base,float blend){return base<0.5?(2.0*base*blend):(1.0-2.0*(1.0-base)*(1.0-blend));}vec3 blendOverlay(vec3 base,vec3 blend){return vec3(blendOverlay(base.r,blend.r),blendOverlay(base.g,blend.g),blendOverlay(base.b,blend.b));}vec3 blendOverlay(vec3 base,vec3 blend,float opacity){return (blendOverlay(base,blend)*opacity+base*(1.0-opacity));}vec3 blendHardLight(vec3 base,vec3 blend){return blendOverlay(blend,base);}vec3 blendHardLight(vec3 base,vec3 blend,float opacity){return (blendHardLight(base,blend)*opacity+base*(1.0-opacity));}float blendSoftLight(float base,float blend){return (blend<0.5)?(2.0*base*blend+base*base*(1.0-2.0*blend)):(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend));}vec3 blendSoftLight(vec3 base,vec3 blend){return vec3(blendSoftLight(base.r,blend.r),blendSoftLight(base.g,blend.g),blendSoftLight(base.b,blend.b));}vec3 blendSoftLight(vec3 base,vec3 blend,float opacity){return (blendSoftLight(base,blend)*opacity+base*(1.0-opacity));}float blendColorDodge(float base,float blend){return (blend==1.0)?blend:min(base/(1.0-blend),1.0);}vec3 blendColorDodge(vec3 base,vec3 blend){return vec3(blendColorDodge(base.r,blend.r),blendColorDodge(base.g,blend.g),blendColorDodge(base.b,blend.b));}vec3 blendColorDodge(vec3 base,vec3 blend,float opacity){return (blendColorDodge(base, blend)*opacity+base*(1.0-opacity));}float blendColorBurn(float base,float blend){return (blend==0.0)?blend:max((1.0-((1.0-base)/blend)),0.0);}vec3 blendColorBurn(vec3 base,vec3 blend){return vec3(blendColorBurn(base.r,blend.r),blendColorBurn(base.g,blend.g),blendColorBurn(base.b,blend.b));}vec3 blendColorBurn(vec3 base,vec3 blend,float opacity){return (blendColorBurn(base, blend)*opacity+base*(1.0-opacity));}float blendVividLight(float base,float blend){return (blend<0.5)?blendColorBurn(base,(2.0*blend)):blendColorDodge(base,(2.0*(blend-0.5)));}vec3 blendVividLight(vec3 base,vec3 blend){return vec3(blendVividLight(base.r,blend.r),blendVividLight(base.g,blend.g),blendVividLight(base.b,blend.b));}vec3 blendVividLight(vec3 base,vec3 blend,float opacity){return (blendVividLight(base,blend)*opacity+base*(1.0-opacity));}float blendLighten(float base,float blend){return max(blend,base);}vec3 blendLighten(vec3 base,vec3 blend){return vec3(blendLighten(base.r,blend.r),blendLighten(base.g,blend.g),blendLighten(base.b,blend.b));}vec3 blendLighten(vec3 base,vec3 blend,float opacity){return (blendLighten(base,blend)*opacity+base*(1.0-opacity));}float blendLinearBurn(float base,float blend){return max(base+blend-1.0,0.0);}vec3 blendLinearBurn(vec3 base,vec3 blend){return max(base+blend-vec3(1.0),vec3(0.0));}vec3 blendLinearBurn(vec3 base,vec3 blend,float opacity){return (blendLinearBurn(base, blend)*opacity+base*(1.0-opacity));}float blendLinearDodge(float base,float blend){return min(base+blend,1.0);}vec3 blendLinearDodge(vec3 base,vec3 blend){return min(base+blend,vec3(1.0));}vec3 blendLinearDodge(vec3 base,vec3 blend,float opacity){return (blendLinearDodge(base,blend)*opacity+base*(1.0-opacity));}float blendLinearLight(float base,float blend){return blend<0.5?blendLinearBurn(base,(2.0*blend)):blendLinearDodge(base,(2.0*(blend-0.5)));}vec3 blendLinearLight(vec3 base,vec3 blend){return vec3(blendLinearLight(base.r,blend.r),blendLinearLight(base.g,blend.g),blendLinearLight(base.b,blend.b));}vec3 blendLinearLight(vec3 base,vec3 blend,float opacity){return (blendLinearLight(base,blend)*opacity+base*(1.0-opacity));}`,fragment:"varying vec3 v_color;void main(){vec3 color=v_color;if(u_darken_top==1.0){vec2 st=gl_FragCoord.xy/resolution.xy;color.g-=pow(st.y+sin(-12.0)*st.x,u_shadow_power)*0.4;}gl_FragColor=vec4(color,1.0);}"},this.conf={density:[.06,.16]},this.minigl=new Y0e(this.el,null,null,!0),requestAnimationFrame(()=>{this.el&&(this.computedCanvasStyle=getComputedStyle(this.el),this.waitForCssVars())})}initMaterial(){this.uniforms={u_time:new this.minigl.Uniform({value:0}),u_shadow_power:new this.minigl.Uniform({value:5}),u_darken_top:new this.minigl.Uniform({value:this.el.dataset.jsDarkenTop===""?1:0}),u_active_colors:new this.minigl.Uniform({value:this.activeColors,type:"vec4"}),u_global:new this.minigl.Uniform({value:{noiseFreq:new this.minigl.Uniform({value:[this.freqX,this.freqY],type:"vec2"}),noiseSpeed:new this.minigl.Uniform({value:5e-6})},type:"struct"}),u_vertDeform:new this.minigl.Uniform({value:{incline:new this.minigl.Uniform({value:Math.sin(this.angle)/Math.cos(this.angle)}),offsetTop:new this.minigl.Uniform({value:-.5}),offsetBottom:new this.minigl.Uniform({value:-.5}),noiseFreq:new this.minigl.Uniform({value:[3,4],type:"vec2"}),noiseAmp:new this.minigl.Uniform({value:this.amp}),noiseSpeed:new this.minigl.Uniform({value:10}),noiseFlow:new this.minigl.Uniform({value:3}),noiseSeed:new this.minigl.Uniform({value:this.seed})},type:"struct",excludeFrom:"fragment"}),u_baseColor:new this.minigl.Uniform({value:this.sectionColors[0],type:"vec3",excludeFrom:"fragment"}),u_waveLayers:new this.minigl.Uniform({value:[],excludeFrom:"fragment",type:"array"})};for(let t=1;t<this.sectionColors.length;t+=1)this.uniforms.u_waveLayers.value.push(new this.minigl.Uniform({value:{color:new this.minigl.Uniform({value:this.sectionColors[t],type:"vec3"}),noiseFreq:new this.minigl.Uniform({value:[2+t/this.sectionColors.length,3+t/this.sectionColors.length],type:"vec2"}),noiseSpeed:new this.minigl.Uniform({value:11+.3*t}),noiseFlow:new this.minigl.Uniform({value:6.5+.3*t}),noiseSeed:new this.minigl.Uniform({value:this.seed+10*t}),noiseFloor:new this.minigl.Uniform({value:.1}),noiseCeil:new this.minigl.Uniform({value:.63+.07*t})},type:"struct"}));return this.vertexShader=[this.shaderFiles.noise,this.shaderFiles.blend,this.shaderFiles.vertex].join(""),new this.minigl.Material(this.vertexShader,this.shaderFiles.fragment,this.uniforms)}initMesh(){this.material=this.initMaterial(),this.geometry=new this.minigl.PlaneGeometry,this.mesh=new this.minigl.Mesh(this.geometry,this.material)}shouldSkipFrame(t){return!!window.document.hidden||parseInt(t,10)%2==0||void 0}updateFrequency(t){this.freqX+=t,this.freqY+=t}toggleColor(t){this.activeColors[t]=this.activeColors[t]===0?1:0}init(){this.playing=!0,this.initGradientColors(),this.initMesh(),this.resize(),requestAnimationFrame(this.animate)}waitForCssVars(){this.computedCanvasStyle&&this.computedCanvasStyle.getPropertyValue("--w3m-gradient-1").indexOf("#")!==-1?this.init():this.init()}initGradientColors(){this.sectionColors=["--w3m-gradient-1","--w3m-gradient-2","--w3m-gradient-3","--w3m-gradient-4"].map(t=>{let e=this.computedCanvasStyle.getPropertyValue(t).trim();return e.length===4&&(e=`#${e.substr(1).split("").map(r=>r+r).join("")}`),e&&`0x${e.substr(1)}`}).filter(Boolean).map(Z0e)}};function Z0e(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]}function S8(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}let Y0e=class{constructor(t,e,r){const n=this;n.canvas=t,n.gl=n.canvas.getContext("webgl",{antialias:!0}),n.meshes=[];const i=n.gl;e&&r&&this.setSize(e,r),Object.defineProperties(n,{Material:{enumerable:!1,value:class{constructor(o,a,c={}){const l=this;function u(v,E){const D=i.createShader(v);return i.shaderSource(D,E),i.compileShader(D),i.getShaderParameter(D,i.COMPILE_STATUS)||console.error(i.getShaderInfoLog(D)),D}function h(v,E){return Object.entries(v).map(([D,x])=>x.getDeclaration(D,E)).join("")}l.uniforms=c,l.uniformInstances=[];const b="precision highp float;";l.vertexSource=`${b} attribute vec4 position;attribute vec2 uv;attribute vec2 uvNorm;${h(n.commonUniforms,"vertex")} ${h(c,"vertex")} ${o}`,l.Source=`${b} ${h(n.commonUniforms,"fragment")} ${h(c,"fragment")} ${a} `,l.vertexShader=u(i.VERTEX_SHADER,l.vertexSource),l.fragmentShader=u(i.FRAGMENT_SHADER,l.Source),l.program=i.createProgram(),i.attachShader(l.program,l.vertexShader),i.attachShader(l.program,l.fragmentShader),i.linkProgram(l.program),i.getProgramParameter(l.program,i.LINK_STATUS)||console.error(i.getProgramInfoLog(l.program)),i.useProgram(l.program),l.attachUniforms(void 0,n.commonUniforms),l.attachUniforms(void 0,l.uniforms)}attachUniforms(o,a){const c=this;o===void 0?Object.entries(a).forEach(([l,u])=>{c.attachUniforms(l,u)}):a.type=="array"?a.value.forEach((l,u)=>c.attachUniforms(`${o}[${u}]`,l)):a.type=="struct"?Object.entries(a.value).forEach(([l,u])=>c.attachUniforms(`${o}.${l}`,u)):c.uniformInstances.push({uniform:a,location:i.getUniformLocation(c.program,o)})}}},Uniform:{enumerable:!1,value:class{constructor(o){this.type="float",Object.assign(this,o),this.typeFn={float:"1f",int:"1i",vec2:"2fv",vec3:"3fv",vec4:"4fv",mat4:"Matrix4fv"}[this.type]||"1f",this.update()}update(o){this.value!==void 0&&i[`uniform${this.typeFn}`](o,this.typeFn.indexOf("Matrix")===0?this.transpose:this.value,this.typeFn.indexOf("Matrix")===0?this.value:null)}getDeclaration(o,a,c){const l=this;if(l.excludeFrom!==a){if(l.type==="array")return l.value[0].getDeclaration(o,a,l.value.length)+`const int ${o}_length=${l.value.length};`;if(l.type==="struct"){let u=o.replace("u_","");return u=u.charAt(0).toUpperCase()+u.slice(1),`uniform struct ${u} {`+Object.entries(l.value).map(([h,b])=>b.getDeclaration(h,a).replace(/^uniform/,"")).join("")+`} ${o}${c>0?`[${c}]`:""};`}return`uniform ${l.type} ${o}${c>0?`[${c}]`:""};`}}}},PlaneGeometry:{enumerable:!1,value:class{constructor(o,a,c,l,u){i.createBuffer(),this.attributes={position:new n.Attribute({target:i.ARRAY_BUFFER,size:3}),uv:new n.Attribute({target:i.ARRAY_BUFFER,size:2}),uvNorm:new n.Attribute({target:i.ARRAY_BUFFER,size:2}),index:new n.Attribute({target:i.ELEMENT_ARRAY_BUFFER,size:3,type:i.UNSIGNED_SHORT})},this.setTopology(c,l),this.setSize(o,a,u)}setTopology(o=1,a=1){const c=this;c.xSegCount=o,c.ySegCount=a,c.vertexCount=(c.xSegCount+1)*(c.ySegCount+1),c.quadCount=c.xSegCount*c.ySegCount*2,c.attributes.uv.values=new Float32Array(2*c.vertexCount),c.attributes.uvNorm.values=new Float32Array(2*c.vertexCount),c.attributes.index.values=new Uint16Array(3*c.quadCount);for(let l=0;l<=c.ySegCount;l++)for(let u=0;u<=c.xSegCount;u++){const h=l*(c.xSegCount+1)+u;if(c.attributes.uv.values[2*h]=u/c.xSegCount,c.attributes.uv.values[2*h+1]=1-l/c.ySegCount,c.attributes.uvNorm.values[2*h]=u/c.xSegCount*2-1,c.attributes.uvNorm.values[2*h+1]=1-l/c.ySegCount*2,u<c.xSegCount&&l<c.ySegCount){const b=l*c.xSegCount+u;c.attributes.index.values[6*b]=h,c.attributes.index.values[6*b+1]=h+1+c.xSegCount,c.attributes.index.values[6*b+2]=h+1,c.attributes.index.values[6*b+3]=h+1,c.attributes.index.values[6*b+4]=h+1+c.xSegCount,c.attributes.index.values[6*b+5]=h+2+c.xSegCount}}c.attributes.uv.update(),c.attributes.uvNorm.update(),c.attributes.index.update()}setSize(o=1,a=1,c="xz"){const l=this;l.width=o,l.height=a,l.orientation=c,l.attributes.position.values&&l.attributes.position.values.length===3*l.vertexCount||(l.attributes.position.values=new Float32Array(3*l.vertexCount));const u=o/-2,h=a/-2,b=o/l.xSegCount,v=a/l.ySegCount;for(let E=0;E<=l.ySegCount;E++){const D=h+E*v;for(let x=0;x<=l.xSegCount;x++){const _=u+x*b,m=E*(l.xSegCount+1)+x;l.attributes.position.values[3*m+"xyz".indexOf(c[0])]=_,l.attributes.position.values[3*m+"xyz".indexOf(c[1])]=-D}}l.attributes.position.update()}}},Mesh:{enumerable:!1,value:class{constructor(o,a){const c=this;c.geometry=o,c.material=a,c.attributeInstances=[],Object.entries(c.geometry.attributes).forEach(([l,u])=>{c.attributeInstances.push({attribute:u,location:u.attach(l,c.material.program)})}),n.meshes.push(c)}draw(){i.useProgram(this.material.program),this.material.uniformInstances.forEach(({uniform:o,location:a})=>o.update(a)),this.attributeInstances.forEach(({attribute:o,location:a})=>o.use(a)),i.drawElements(i.TRIANGLES,this.geometry.attributes.index.values.length,i.UNSIGNED_SHORT,0)}remove(){n.meshes=n.meshes.filter(o=>o!=this)}}},Attribute:{enumerable:!1,value:class{constructor(o){this.type=i.FLOAT,this.normalized=!1,this.buffer=i.createBuffer(),Object.assign(this,o),this.update()}update(){this.values!==void 0&&(i.bindBuffer(this.target,this.buffer),i.bufferData(this.target,this.values,i.STATIC_DRAW))}attach(o,a){const c=i.getAttribLocation(a,o);return this.target===i.ARRAY_BUFFER&&(i.enableVertexAttribArray(c),i.vertexAttribPointer(c,this.size,this.type,this.normalized,0,0)),c}use(o){i.bindBuffer(this.target,this.buffer),this.target===i.ARRAY_BUFFER&&(i.enableVertexAttribArray(o),i.vertexAttribPointer(o,this.size,this.type,this.normalized,0,0))}}}});const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];n.commonUniforms={projectionMatrix:new n.Uniform({type:"mat4",value:s}),modelViewMatrix:new n.Uniform({type:"mat4",value:s}),resolution:new n.Uniform({type:"vec2",value:[1,1]}),aspectRatio:new n.Uniform({type:"float",value:1})}}setSize(t=640,e=480){this.width=t,this.height=e,this.canvas.width=t,this.canvas.height=e,this.gl.viewport(0,0,t,e),this.commonUniforms.resolution.value=[t,e],this.commonUniforms.aspectRatio.value=t/e}setOrthographicCamera(t=0,e=0,r=0,n=-2e3,i=2e3){this.commonUniforms.projectionMatrix.value=[2/this.width,0,0,0,0,2/this.height,0,0,0,0,2/(n-i),0,t,e,r,1]}render(){this.gl.clearColor(0,0,0,0),this.gl.clearDepth(1),this.meshes.forEach(t=>t.draw())}};const ct={CROSS_ICON:_t`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,NOISE_TEXTURE:_t`<svg id="w3m-transparent-noise"><filter id="w3m-noise"><feTurbulence type="fractalNoise" baseFrequency="0.8"/></filter><rect width="100%" height="100%" filter="url(#w3m-noise)"/></svg>`,WALLET_CONNECT_LOGO:_t`<svg width="178" height="29" viewBox="0 0 178 29" id="w3m-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:_t`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:_t`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:_t`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:_t`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:_t`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:_t`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:_t`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:_t`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:_t`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:_t`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:_t`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:_t`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:_t`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,HELP_ETH_IMG:_t`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#j)"><rect width="60" height="60" rx="30" fill="#987DE8"/><path fill-rule="evenodd" clip-rule="evenodd" d="m15.48 28.367 11.966-19.3c1.174-1.892 3.927-1.892 5.1 0l11.97 19.306a6 6 0 0 1 .9 3.142v.028a6 6 0 0 1-1.154 3.56L33.227 50.208c-1.599 2.188-4.864 2.188-6.461 0L15.733 35.095a6 6 0 0 1-1.154-3.538v-.029a6 6 0 0 1 .9-3.161Z" fill="#fff"/><path d="M30.84 10.112a.992.992 0 0 0-.844-.464V24.5l12.598 5.53c.081-.466-.001-.963-.27-1.398L30.84 10.112Z" fill="#643CDD"/><path d="M29.996 9.648a.991.991 0 0 0-.845.465l-11.489 18.53a1.991 1.991 0 0 0-.264 1.387l12.598-5.53V9.648Z" fill="#BDADEB"/><path d="M29.996 50.544a.994.994 0 0 0 .808-.41l11.235-15.38c.307-.434-.193-.988-.658-.72L31.49 39.71a2.998 2.998 0 0 1-1.494.398v10.437Z" fill="#643CDD"/><path d="M17.966 34.762 29.19 50.134c.2.274.503.41.807.41V40.108a2.998 2.998 0 0 1-1.493-.398l-9.884-5.676c-.468-.27-.971.292-.653.728Z" fill="#BDADEB"/><path d="M42.594 30.03 29.996 24.5v13.138a3 3 0 0 0 1.495-.399l10.149-5.83c.525-.31.856-.823.954-1.38Z" fill="#401AB3"/><path d="M29.996 37.638V24.462l-12.598 5.566c.098.564.437 1.083.974 1.392l10.13 5.82c.462.265.978.398 1.494.398Z" fill="#7C5AE2"/></g><rect class="help-img-highlight" x=".5" y=".5" width="59" height="59" rx="29.5"/><defs><clipPath id="j"><rect width="60" height="60" rx="30" fill="#fff"/></clipPath></defs></svg>`,HELP_PAINTING_IMG:_t`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#k)"><rect width="60" height="60" rx="3" fill="#C653C6"/><path d="M52.094 47.344c0-4.246-1.436-9.557-5.885-12.4a2.876 2.876 0 0 0-1.615-3.891v-.819a4.037 4.037 0 0 0-1.34-3.007 4.75 4.75 0 0 0-2.41-6.252v-5.506c0-6.248-5.065-11.313-11.313-11.313-6.247 0-11.312 5.065-11.312 11.313v2.152a3.343 3.343 0 0 0-1.18 5.045 4.738 4.738 0 0 0-1.633 3.584 4.73 4.73 0 0 0 .956 2.858 5.218 5.218 0 0 0-2.358 6.815c-3.06 4.129-6.098 8.298-6.098 15.64 0 2.668.364 4.856.731 6.385.184.765.368 1.366.509 1.78a12.721 12.721 0 0 0 .225.611l.015.037.005.011.001.004v.002h.001l.92-.393-.92.394.26.606h38.26l.291-.49-.86-.51.86.51v-.001l.002-.002.002-.005.01-.017.035-.06.127-.225c.108-.195.26-.477.441-.835.363-.714.845-1.732 1.328-2.953.959-2.427 1.945-5.725 1.945-9.068Z" fill="#E87DE8" stroke="#fff" stroke-width="2"/><path fill-rule="evenodd" clip-rule="evenodd" d="M26.5 29.5c-3-.5-5.5-3-5.503-7l.002-7c0-.466 0-.698.026-.893a3 3 0 0 1 2.582-2.582c.195-.026.428-.026.893-.026 2 0 2.5-2.5 2.5-2.5s0 2.5 2.5 2.5c1.398 0 2.097 0 2.648.229a3 3 0 0 1 1.624 1.623c.228.552.228 1.25.228 2.649v6c0 4-3 7-6.5 7 1.35.23 4 0 6.5-2v9.53C34 38.5 31.495 40 28 40s-6-1.5-6-2.97L24 34l2.5 1.5v-6ZM26 47h4.5c2.5 0 3 4 3 5.5h-3l-1-1.5H26v-4Zm-6.25 5.5H24V57h-8c0-1 1-4.5 3.75-4.5Z" fill="#fff"/></g><rect class="help-img-highlight" x=".5" y=".5" width="59" height="59" rx="2.5"/><defs><clipPath id="k"><rect width="60" height="60" rx="3" fill="#fff"/></clipPath></defs></svg>`,HELP_CHART_IMG:_t`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#l)"><path d="M0 25.01C0 15.76 0 11.133 1.97 7.678a15 15 0 0 1 5.598-5.597C11.023.11 15.648.11 24.9.11h10.2c9.251 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.597C60 11.133 60 15.758 60 25.01v10.2c0 9.252 0 13.877-1.97 17.332a15 15 0 0 1-5.598 5.598c-3.455 1.97-8.08 1.97-17.332 1.97H24.9c-9.251 0-13.877 0-17.332-1.97a14.999 14.999 0 0 1-5.597-5.598C0 49.087 0 44.462 0 35.21v-10.2Z" fill="#1DC956"/><path d="M.5 25.01c0-4.635 0-8.078.244-10.795.244-2.71.726-4.65 1.66-6.289a14.5 14.5 0 0 1 5.412-5.41c1.639-.936 3.579-1.418 6.289-1.661C16.822.61 20.265.61 24.9.61h10.2c4.635 0 8.078 0 10.795.245 2.71.243 4.65.725 6.29 1.66a14.5 14.5 0 0 1 5.41 5.411c.935 1.64 1.417 3.579 1.66 6.29.244 2.717.245 6.16.245 10.794v10.2c0 4.635 0 8.078-.244 10.795-.244 2.71-.726 4.65-1.66 6.29a14.5 14.5 0 0 1-5.412 5.41c-1.639.936-3.579 1.418-6.289 1.661-2.717.244-6.16.244-10.795.244H24.9c-4.635 0-8.078 0-10.795-.244-2.71-.243-4.65-.725-6.29-1.66a14.5 14.5 0 0 1-5.41-5.412C1.47 50.655.988 48.716.745 46.005.5 43.288.5 39.845.5 35.21v-10.2Z" stroke="#fff" stroke-opacity=".1"/><path d="M16.109 60c-3.833-.179-6.41-.645-8.541-1.86a15 15 0 0 1-5.598-5.598C.553 50.057.155 46.967.043 41.985l4.146-1.382a4 4 0 0 0 2.48-2.39l4.654-12.409a2 2 0 0 1 2.505-1.195l2.526.842a2 2 0 0 0 2.422-1.003l2.968-5.938c.81-1.62 3.185-1.415 3.705.32l3.774 12.581a2 2 0 0 0 3.025 1.09l3.342-2.228c.27-.18.49-.422.646-.706l5.297-9.712a2 2 0 0 1 1.428-1.016l4.134-.689a2 2 0 0 1 1.61.437l3.892 3.243a2 2 0 0 0 2.694-.122l4.633-4.632C60 19.28 60 21.88 60 25.01v10.2c0 9.252 0 13.877-1.97 17.332a14.998 14.998 0 0 1-5.598 5.598c-2.131 1.215-4.708 1.681-8.54 1.86H16.108Z" fill="#2BEE6C"/><path d="M.072 43.03a112.37 112.37 0 0 1-.048-2.093l3.85-1.283a3 3 0 0 0 1.86-1.793l4.653-12.408a3 3 0 0 1 3.758-1.793l2.526.842a1 1 0 0 0 1.21-.501l2.97-5.938c1.214-2.43 4.775-2.123 5.556.48l3.774 12.58a1 1 0 0 0 1.513.545l3.341-2.227a1 1 0 0 0 .323-.353l5.298-9.712a3 3 0 0 1 2.14-1.523l4.135-.69a3 3 0 0 1 2.414.655l3.892 3.244a1 1 0 0 0 1.347-.061l5.28-5.28c.046.845.077 1.752.097 2.732l-3.962 3.962a3 3 0 0 1-4.042.183l-3.893-3.243a1 1 0 0 0-.804-.218l-4.135.689a1 1 0 0 0-.714.507l-5.297 9.712c-.233.427-.565.79-.97 1.06l-3.34 2.228a3 3 0 0 1-4.538-1.635l-3.775-12.58c-.26-.868-1.447-.97-1.852-.16l-2.969 5.937a3 3 0 0 1-3.632 1.505l-2.526-.842a1 1 0 0 0-1.252.597L7.606 38.564a5 5 0 0 1-3.1 2.988L.072 43.029Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M49.5 19a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z" fill="#2BEE6C"/><path d="M47.5 19a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" fill="#fff"/><path d="M45 .283v59.654c-.63.042-1.294.074-2 .098V.185c.706.025 1.37.056 2 .098Z" fill="#fff"/><path class="help-img-highlight" d="M.5 25.01c0-4.635 0-8.078.244-10.795.244-2.71.726-4.65 1.66-6.289a14.5 14.5 0 0 1 5.412-5.41c1.639-.936 3.579-1.418 6.289-1.661C16.822.61 20.265.61 24.9.61h10.2c4.635 0 8.078 0 10.795.245 2.71.243 4.65.725 6.29 1.66a14.5 14.5 0 0 1 5.41 5.411c.935 1.64 1.417 3.579 1.66 6.29.244 2.717.245 6.16.245 10.794v10.2c0 4.635 0 8.078-.244 10.795-.244 2.71-.726 4.65-1.66 6.29a14.5 14.5 0 0 1-5.412 5.41c-1.639.936-3.579 1.418-6.289 1.661-2.717.244-6.16.244-10.795.244H24.9c-4.635 0-8.078 0-10.795-.244-2.71-.243-4.65-.725-6.29-1.66a14.5 14.5 0 0 1-5.41-5.412C1.47 50.655.988 48.716.745 46.005.5 43.288.5 39.845.5 35.21v-10.2Z"/></g><defs><clipPath id="l"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,HELP_KEY_IMG:_t`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#m)"><path fill="#EB8B47" d="M0 24.9c0-9.252 0-13.878 1.97-17.332A15 15 0 0 1 7.569 1.97C11.023 0 15.648 0 24.9 0h10.2c9.251 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.022 60 15.648 60 24.899v10.2c0 9.252 0 13.878-1.97 17.332a15.001 15.001 0 0 1-5.598 5.598c-3.455 1.97-8.08 1.97-17.332 1.97H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.351 0 35.1V24.9Z"/><path class="help-img-highlight" d="M.5 24.9c0-4.635 0-8.078.244-10.795.244-2.71.726-4.65 1.66-6.29a14.5 14.5 0 0 1 5.412-5.41C9.455 1.468 11.395.986 14.105.743 16.822.5 20.265.5 24.9.5h10.2c4.635 0 8.078 0 10.795.244 2.71.243 4.65.725 6.29 1.66a14.5 14.5 0 0 1 5.41 5.411c.935 1.64 1.417 3.58 1.66 6.29.244 2.717.245 6.16.245 10.794v10.2c0 4.635 0 8.078-.244 10.796-.244 2.71-.726 4.65-1.66 6.289a14.5 14.5 0 0 1-5.412 5.41c-1.639.936-3.579 1.418-6.289 1.661-2.717.244-6.16.244-10.795.244H24.9c-4.635 0-8.078 0-10.795-.244-2.71-.243-4.65-.725-6.29-1.66a14.5 14.5 0 0 1-5.41-5.411c-.935-1.64-1.417-3.58-1.66-6.29C.5 43.178.5 39.734.5 35.1V24.9Z"/><path fill="#FF974C" stroke="#fff" stroke-width="2" d="M39.192 29.192c5.077-5.077 5.077-13.308 0-18.385-5.076-5.077-13.308-5.077-18.384 0-5.077 5.077-5.077 13.308 0 18.385l1.287 1.291c1.137 1.142 1.706 1.712 2.097 2.387.267.462.472.957.608 1.473.2.755.2 1.56.2 3.171V48.75c0 1.077 0 1.615.134 2.119a4 4 0 0 0 .407.984c.262.45.643.831 1.404 1.592l.294.295c.654.654.982.981 1.365 1.086.26.07.533.07.792 0 .383-.105.71-.432 1.365-1.086l3.478-3.479c.655-.654.982-.981 1.087-1.365a1.5 1.5 0 0 0 0-.791c-.105-.384-.432-.711-1.087-1.365l-.478-.479c-.655-.654-.982-.981-1.087-1.365a1.5 1.5 0 0 1 0-.791c.105-.384.432-.711 1.087-1.365l.478-.479c.655-.654.982-.981 1.087-1.365a1.5 1.5 0 0 0 0-.791c-.105-.384-.432-.711-1.087-1.365l-.492-.493c-.65-.65-.974-.974-1.08-1.355a1.5 1.5 0 0 1-.003-.788c.102-.382.425-.71 1.069-1.364l5.46-5.547Z"/><circle cx="30" cy="17" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2"/></g><defs><clipPath id="m"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,HELP_USER_IMG:_t`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#n)"><rect width="60" height="60" fill="#00ACE6" rx="30"/><path fill="#1AC6FF" stroke="#fff" stroke-width="2" d="M59 73c0 16.016-12.984 29-29 29S1 89.016 1 73c0-16.017 11-29 29-29s29 12.983 29 29ZM18.69 19.902a11 11 0 0 1 9.281-8.692 14.842 14.842 0 0 1 4.058 0 11 11 0 0 1 9.28 8.692c.178.866.322 1.75.44 2.625.132.977.132 1.968 0 2.945a39.467 39.467 0 0 1-.44 2.625 11 11 0 0 1-9.28 8.692 14.862 14.862 0 0 1-4.058 0 11 11 0 0 1-9.28-8.692 39.467 39.467 0 0 1-.44-2.625 11.004 11.004 0 0 1 0-2.945c.118-.876.262-1.759.44-2.625Z"/><circle cx="24.5" cy="23.5" r="1.5" fill="#fff"/><circle cx="35.5" cy="23.5" r="1.5" fill="#fff"/><path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m31 20-3 8h4"/></g><rect class="help-img-highlight" width="59" height="59" x=".5" y=".5" rx="29.5"/><defs><clipPath id="n"><rect width="60" height="60" fill="#fff" rx="30"/></clipPath></defs></svg>`,HELP_LOCK_IMG:_t`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><rect width="60" height="60" fill="#C653C6" rx="3"/><path fill="#fff" d="M20.034 15.216C20 15.607 20 16.07 20 17v2.808c0 1.13 0 1.696-.2 2.11a1.78 1.78 0 0 1-.584.714c-.366.28-1.051.42-2.423.7a7.076 7.076 0 0 0-1.597.511 9.001 9.001 0 0 0-4.353 4.353C10 30.005 10 32.336 10 37c0 4.663 0 6.995.843 8.804a9.001 9.001 0 0 0 4.353 4.353C17.005 51 19.336 51 24 51h12c4.663 0 6.995 0 8.804-.843a9.001 9.001 0 0 0 4.353-4.353C50 43.995 50 41.664 50 37c0-4.663 0-6.995-.843-8.804a9.001 9.001 0 0 0-4.353-4.353 7.076 7.076 0 0 0-1.597-.511c-1.372-.28-2.057-.42-2.423-.7a1.78 1.78 0 0 1-.583-.715C40 21.505 40 20.94 40 19.809V17c0-.929 0-1.393-.034-1.784a9 9 0 0 0-8.182-8.182C31.393 7 30.93 7 30 7s-1.393 0-1.784.034a9 9 0 0 0-8.182 8.182Z"/><path fill="#E87DE8" d="M22 17c0-.929 0-1.393.044-1.784a7 7 0 0 1 6.172-6.172C28.606 9 29.071 9 30 9s1.393 0 1.784.044a7 7 0 0 1 6.172 6.172c.044.39.044.855.044 1.784v4.5a1.5 1.5 0 0 1-3 0V17c0-.93 0-1.394-.077-1.78a4 4 0 0 0-3.143-3.143C31.394 12 30.93 12 30 12s-1.394 0-1.78.077a4 4 0 0 0-3.143 3.143C25 15.606 25 16.07 25 17v4.5a1.5 1.5 0 0 1-3 0V17Z"/><path fill="#E87DE8" fill-rule="evenodd" d="M12 36.62c0-4.317 0-6.476.92-8.088a7 7 0 0 1 2.612-2.612c1.612-.92 3.77-.92 8.088-.92h6.855c.469 0 .703 0 .906.017 2.73.222 4.364 2.438 4.619 4.983.27-2.698 2.111-5 5.015-5A6.985 6.985 0 0 1 48 31.985v5.395c0 4.317 0 6.476-.92 8.088a7 7 0 0 1-2.612 2.612c-1.612.92-3.77.92-8.088.92h-5.855c-.469 0-.703 0-.906-.017-2.73-.222-4.364-2.438-4.619-4.983-.258 2.583-1.943 4.818-4.714 4.99-.155.01-.335.01-.694.01-.55 0-.825 0-1.057-.015a7 7 0 0 1-6.52-6.52C12 42.233 12 41.958 12 41.408V36.62Zm21.24-.273a4 4 0 1 0-6.478 0c.985 1.36 1.479 2.039 1.564 2.229.178.398.176.818.174 1.247V42.5a1.5 1.5 0 0 0 3 0v-2.677c-.002-.429-.004-.85.174-1.247.085-.19.579-.87 1.565-2.229Z" clip-rule="evenodd"/><rect class="help-img-highlight" width="59" height="59" x=".5" y=".5" rx="2.5"/></svg>`,HELP_COMPAS_IMG:_t`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><rect width="60" height="60" fill="#1DC956" rx="30"/><circle cx="30" cy="29.999" r="3" fill="#fff"/><path fill="#2BEE6C" stroke="#fff" stroke-width="2" d="m45.316 17.9-.88-.425.88.424a7.9 7.9 0 0 1 .026-.053c.093-.192.21-.432.26-.687l-.819-.162.819.162a2 2 0 0 0-.239-1.405c-.132-.224-.32-.412-.472-.562a8.415 8.415 0 0 1-.042-.042l-.042-.042c-.15-.151-.338-.34-.562-.472l-.508.862.508-.862a2 2 0 0 0-1.405-.239c-.255.05-.495.167-.687.26l-.053.026-15.05 7.246-.108.052c-1.131.545-1.843.887-2.456 1.374a6.994 6.994 0 0 0-1.13 1.13c-.487.613-.83 1.325-1.375 2.457l-.051.108-7.247 15.05-.025.053c-.094.192-.21.431-.26.686a2 2 0 0 0 .239 1.406l.855-.505-.856.505c.133.224.321.411.473.562l.042.042.041.042c.15.151.338.34.563.472a2 2 0 0 0 1.405.239l-.195-.981.195.98c.255-.05.494-.166.686-.26l.054-.025-.419-.87.419.87 15.05-7.247.107-.051c1.132-.545 1.844-.888 2.457-1.374a7.002 7.002 0 0 0 1.13-1.13c.487-.614.83-1.325 1.374-2.457l.052-.108 7.246-15.05Z"/><path fill="#1DC956" d="m33.376 32.723-2.669-3.43-14.85 14.849.206.205a1 1 0 0 0 1.141.194l15.105-7.273a3 3 0 0 0 1.067-4.545Z"/><path fill="#86F999" d="m26.624 27.276 2.669 3.43 14.85-14.849-.206-.205a1 1 0 0 0-1.141-.194L27.69 22.731a3 3 0 0 0-1.067 4.545Z"/><circle cx="30" cy="30" r="3" fill="#fff" transform="rotate(45 30 30)"/><rect class="help-img-highlight" width="59" height="59" x=".5" y=".5" rx="29.5"/></svg>`,HELP_NOUN_IMG:_t`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><rect width="60" height="60" fill="#794CFF" rx="3"/><path fill="#987DE8" stroke="#fff" stroke-width="2" d="M33 22.5v-1H16v5H8.5V36H13v-5h3v7.5h17V31h1v7.5h17v-17H34v5h-1v-4Z"/><path fill="#fff" d="M37.5 25h10v10h-10z"/><path fill="#4019B2" d="M42.5 25h5v10h-5z"/><path fill="#fff" d="M19.5 25h10v10h-10z"/><path fill="#4019B2" d="M24.5 25h5v10h-5z"/><path fill="#fff" d="M12 30.5h4V37h-4v-6.5Z"/><rect class="help-img-highlight" width="59" height="59" x=".5" y=".5" rx="2.5"/></svg>`,HELP_DAO_IMG:_t`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#o)"><path fill="#EB8B47" d="M0 24.9c0-9.252 0-13.878 1.97-17.332A15 15 0 0 1 7.569 1.97C11.023 0 15.648 0 24.9 0h10.2c9.251 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.022 60 15.648 60 24.899v10.2c0 9.252 0 13.878-1.97 17.332a15.001 15.001 0 0 1-5.598 5.598c-3.455 1.97-8.08 1.97-17.332 1.97H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.351 0 35.1V24.9Z"/><path class="help-img-highlight" d="M.5 24.9c0-4.635 0-8.078.244-10.795.244-2.71.726-4.65 1.66-6.29a14.5 14.5 0 0 1 5.412-5.41C9.455 1.468 11.395.986 14.105.743 16.822.5 20.265.5 24.9.5h10.2c4.635 0 8.078 0 10.795.244 2.71.243 4.65.725 6.29 1.66a14.5 14.5 0 0 1 5.41 5.411c.935 1.64 1.417 3.58 1.66 6.29.244 2.717.245 6.16.245 10.794v10.2c0 4.635 0 8.078-.244 10.796-.244 2.71-.726 4.65-1.66 6.289a14.5 14.5 0 0 1-5.412 5.41c-1.639.936-3.579 1.418-6.289 1.661-2.717.244-6.16.244-10.795.244H24.9c-4.635 0-8.078 0-10.795-.244-2.71-.243-4.65-.725-6.29-1.66a14.5 14.5 0 0 1-5.41-5.411c-.935-1.64-1.417-3.58-1.66-6.29C.5 43.178.5 39.734.5 35.1V24.9Z"/><path fill="#FF974C" stroke="#fff" stroke-width="2" d="M19 52c5.523 0 10-4.477 10-10s-4.477-10-10-10S9 36.477 9 42s4.477 10 10 10Z"/><path fill="#fff" fill-rule="evenodd" d="M42.844 8.326a1 1 0 0 0-1.687 0L28.978 27.463A1 1 0 0 0 29.822 29h24.357a1 1 0 0 0 .843-1.537L42.844 8.326Z" clip-rule="evenodd"/><path fill="#FF974C" fill-rule="evenodd" d="M42.335 11.646c.324.115.571.504 1.066 1.28l7.332 11.523c.562.883.843 1.325.792 1.69a1 1 0 0 1-.342.623c-.28.238-.803.238-1.85.238H34.667c-1.047 0-1.57 0-1.85-.238a1 1 0 0 1-.342-.623c-.051-.365.23-.806.792-1.69l7.332-11.523c.495-.776.742-1.165 1.066-1.28a1 1 0 0 1 .67 0ZM35 27a7 7 0 0 0 7-7 7 7 0 0 0 7 7H35Z" clip-rule="evenodd"/><path fill="#FF974C" stroke="#fff" stroke-width="2" d="M10.106 9.357c-.109.32-.107.682-.106.975V25.668c-.001.293-.003.654.106.975a2 2 0 0 0 1.251 1.25c.32.11.682.108.975.107H19c5.523 0 10-4.477 10-10S24.523 8 19 8h-6.668c-.293-.001-.654-.003-.975.106a2 2 0 0 0-1.25 1.251Z"/><circle cx="19" cy="18" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2"/><circle cx="19" cy="41.999" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2"/></g><defs><clipPath id="o"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,SEARCH_ICON:_t`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,HELP_ICON:_t`<svg width="11" height="17" viewBox="0 0 11 17"><path fill="#fff" d="M5.22 2.97c-1.07 0-2.25.843-2.25 2.25a.75.75 0 0 1-1.5 0c0-2.393 2.019-3.75 3.75-3.75 1.73 0 3.75 1.357 3.75 3.75 0 1.64-1.038 2.466-1.785 3.057-.802.635-1.215.984-1.215 1.693a.75.75 0 1 1-1.5 0c0-1.466.985-2.24 1.681-2.788l.103-.081C7.007 6.504 7.47 6.08 7.47 5.22c0-1.407-1.181-2.25-2.25-2.25ZM5.22 14.97a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"/></svg>`,WALLET_ICON:_t`<svg width="15" height="14" fill="none" viewBox="0 0 15 14"><path fill="#fff" fill-rule="evenodd" d="M.64 9.2v-3h.001c.009-1.857.07-2.886.525-3.682a4 4 0 0 1 1.492-1.493C3.58.5 4.813.5 7.28.5h3.735c.58 0 .871 0 1.114.04A3 3 0 0 1 14.6 3.011c.04.243.04.533.04 1.114 0 .58 0 .871-.04 1.114a3 3 0 0 1-2.471 2.47c-.243.041-.533.041-1.114.041h-.777c.178.307.302.648.362 1.011.04.243.04.533.04 1.114 0 .58 0 .871-.04 1.114a3 3 0 0 1-2.471 2.47c-.243.041-.533.041-1.114.041H4.507A3.867 3.867 0 0 1 .64 9.633V9.2ZM7.28 2h3.735c.64 0 .779.005.87.02a1.5 1.5 0 0 1 1.235 1.236c.015.09.02.229.02.869s-.005.779-.02.87a1.5 1.5 0 0 1-1.236 1.235c-.09.015-.229.02-.869.02H4.023c-.697 0-1.345.21-1.883.572V6.25h.001c.004-.791.015-1.383.059-1.867.056-.629.157-.926.269-1.122a2.5 2.5 0 0 1 .932-.933c.197-.111.494-.212 1.123-.268C5.173 2 6.019 2 7.28 2Zm-.265 5.75H4.023c-1.04 0-1.883.843-1.883 1.883A2.367 2.367 0 0 0 4.507 12h2.508c.64 0 .779-.005.87-.02a1.5 1.5 0 0 0 1.235-1.236c.015-.09.02-.229.02-.869s-.005-.779-.02-.87A1.5 1.5 0 0 0 7.884 7.77c-.09-.015-.228-.02-.869-.02Z" clip-rule="evenodd"/></svg>`,NETWORK_PLACEHOLDER:_t`<svg width="28" height="28" fill="none" viewBox="0 0 28 28"><mask id="p" width="26" height="28" x="1" y="0" maskUnits="userSpaceOnUse" style="mask-type:alpha"><path fill="#D9D9D9" d="M12 1.172a4 4 0 0 1 4 0l8.124 4.69a4 4 0 0 1 2 3.465v9.381a4 4 0 0 1-2 3.464L16 26.862a4 4 0 0 1-4 0l-8.124-4.69a4 4 0 0 1-2-3.464V9.327a4 4 0 0 1 2-3.464L12 1.173Z"/></mask><g mask="url(#p)"><path id="network-placeholder-fill" fill="#fff" d="M0 0h28v28H0z"/><path id="network-placeholder-dash" stroke="#000" stroke-dasharray="2 2" d="m8.953 2.931 2.032-1.173.25.433 1.015-.586c.269-.155.553-.271.844-.35l-.13-.483a4.003 4.003 0 0 1 2.071 0l-.13.483c.293.079.576.195.845.35l1.016.586.25-.433 2.03 1.173-.25.433 2.032 1.173.25-.433 2.03 1.172-.25.433 1.016.587c.269.155.512.342.725.556l.354-.354a4.003 4.003 0 0 1 1.035 1.794l-.483.129c.078.292.12.596.12.906v1.172h.5v2.346h-.5v2.345h.5v2.345h-.5v1.173c0 .31-.042.614-.12.906l.483.13a4.003 4.003 0 0 1-1.035 1.793l-.354-.354a3.498 3.498 0 0 1-.725.556l-1.015.586.25.434-2.031 1.172-.25-.433-2.031 1.173.25.433-2.031 1.172-.25-.433-1.016.587a3.494 3.494 0 0 1-.844.35l.13.482a4.003 4.003 0 0 1-2.071 0l.13-.483a3.496 3.496 0 0 1-.845-.35l-1.015-.586-.25.433-2.032-1.172.25-.433-2.03-1.173-.25.433L4.89 22.76l.25-.434-1.015-.586a3.498 3.498 0 0 1-.725-.556l-.354.354a4.003 4.003 0 0 1-1.035-1.794l.483-.13a3.497 3.497 0 0 1-.12-.905v-1.173h-.5V15.19h.5v-2.345h-.5v-2.346h.5V9.327c0-.31.042-.614.12-.906l-.483-.13a4.003 4.003 0 0 1 1.035-1.793l.354.354c.213-.214.456-.401.725-.556l1.015-.587-.25-.433 2.031-1.172.25.433 2.031-1.173-.25-.433Z"/><path fill="#798686" stroke="#fff" d="M14.243 13.563 14 13.428l-.243.135-6.388 3.549-.024.013c-.432.24-.79.44-1.053.622-.266.184-.516.405-.636.722a1.5 1.5 0 0 0 0 1.062c.12.317.37.538.636.722.263.183.62.382 1.053.622l.024.013 3.164 1.758.088.049c1.164.646 1.857 1.032 2.607 1.162.51.09 1.033.09 1.544 0 .75-.13 1.443-.516 2.606-1.162l.09-.05 3.163-1.757.024-.013c.432-.24.79-.44 1.053-.622.266-.184.516-.405.636-.722l-.468-.177.468.177a1.5 1.5 0 0 0 0-1.062l-.468.177.468-.177c-.12-.317-.37-.538-.636-.722-.263-.183-.62-.382-1.053-.622l-.024-.013-6.388-3.55Z"/><path fill="#9EA9A9" stroke="#fff" d="M14.243 8.563 14 8.428l-.243.135-6.388 3.549-.024.013c-.432.24-.79.44-1.053.622-.266.184-.516.405-.636.722a1.5 1.5 0 0 0 0 1.062c.12.316.37.537.636.722.263.183.62.382 1.053.622l.024.013 3.164 1.758.088.049c1.164.646 1.857 1.032 2.607 1.162.51.09 1.033.09 1.544 0 .75-.13 1.443-.516 2.606-1.162l.09-.05 3.163-1.757.024-.013c.432-.24.79-.44 1.053-.622.266-.184.516-.405.636-.722l-.468-.177.468.177a1.5 1.5 0 0 0 0-1.062l-.468.177.468-.177c-.12-.316-.37-.537-.636-.722-.263-.183-.62-.382-1.053-.622l-.024-.013-6.388-3.55Z"/><path fill="#C9CFCF" stroke="#fff" d="m22.344 9.53-.468-.176.468.177a1.5 1.5 0 0 0 0-1.062l-.468.177.468-.177c-.12-.317-.37-.537-.636-.722-.263-.183-.62-.382-1.053-.622l-.024-.013-3.163-1.758-.09-.05c-1.163-.645-1.856-1.03-2.606-1.161a4.5 4.5 0 0 0-1.544 0c-.75.13-1.443.516-2.607 1.162l-.088.05-3.164 1.757-.024.013c-.432.24-.79.44-1.053.622-.266.185-.516.405-.636.722a1.5 1.5 0 0 0 0 1.062c.12.317.37.537.636.722.263.183.62.382 1.053.622l.024.013 3.164 1.758.088.049c1.164.646 1.857 1.032 2.607 1.162.51.09 1.033.09 1.544 0 .75-.13 1.443-.516 2.606-1.162l.09-.05 3.163-1.757.024-.013c.432-.24.79-.44 1.053-.622.266-.184.516-.405.636-.722Z"/></g></svg>`,WALLET_PLACEHOLDER:_t`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,TOKEN_PLACEHOLDER:_t`<svg width="60" height="60" viewBox="0 0 60 60" fill="none"><rect id="token-placeholder-fill" width="58" height="58" x="1" y="1" fill="#fff" rx="29"/><path fill="#3B4040" stroke="#fff" stroke-width="2" d="M32 10a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v5.566c0 .357.192.685.495.875a16.001 16.001 0 0 1 4.256 3.894c.667.88.33 2.113-.627 2.665l-2.494 1.44c-.956.552-2.166.204-2.913-.609a9.12 9.12 0 1 0 .064 12.267c.739-.82 1.945-1.181 2.907-.64l2.509 1.415c.962.542 1.312 1.77.654 2.658a16 16 0 0 1-4.356 4.028c-.303.19-.495.518-.495.875V50a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-2.992c0-.602-.528-1.065-1.13-1.032-.579.032-1.16.032-1.74 0-.602-.032-1.13.43-1.13 1.032V50a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-5.566c0-.357-.192-.685-.495-.875a16 16 0 0 1 0-27.118c.303-.19.495-.517.495-.875V10a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2.992c0 .601.528 1.064 1.13 1.032.58-.032 1.161-.032 1.74 0 .602.033 1.13-.43 1.13-1.032V10Z"/><rect id="token-placeholder-dash" width="58" height="58" x="1" y="1" stroke="#000" stroke-dasharray="6 6" stroke-width="2" rx="29"/></svg>`,ACCOUNT_COPY:_t`<svg width="14" height="14" fill="none" viewBox="0 0 14 14"><path fill="#fff" fill-rule="evenodd" d="M4.003 4.005c.012-1.225.074-1.936.391-2.491a3 3 0 0 1 1.12-1.12C6.204 0 7.136 0 9 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C14 2.204 14 3.136 14 5s0 2.795-.394 3.486a3 3 0 0 1-1.12 1.12c-.555.317-1.266.379-2.491.391l.002.003c-.012 1.222-.075 1.932-.391 2.486a3 3 0 0 1-1.12 1.12C7.796 14 6.864 14 5 14s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C0 11.796 0 10.864 0 9s0-2.795.394-3.486a3 3 0 0 1 1.12-1.12c.554-.316 1.264-.379 2.486-.391l.003.002ZM9 8.5c-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.045-.08-.113-.243-.154-.693C5.501 6.58 5.5 5.959 5.5 5c0-.959.001-1.58.043-2.05.04-.45.109-.613.154-.693a1.5 1.5 0 0 1 .56-.56c.08-.045.243-.113.693-.154C7.42 1.501 8.041 1.5 9 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.045.08.113.243.154.693.042.47.043 1.091.043 2.05 0 .959-.001 1.58-.043 2.05-.04.45-.109.613-.154.693a1.5 1.5 0 0 1-.56.56c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043ZM4 5.503a13.77 13.77 0 0 0-1.05.04c-.45.04-.613.109-.693.154a1.5 1.5 0 0 0-.56.56c-.045.08-.113.243-.154.693C1.501 7.42 1.5 8.041 1.5 9c0 .959.001 1.58.043 2.05.04.45.109.613.154.693a1.5 1.5 0 0 0 .56.56c.08.045.243.113.693.154.47.042 1.091.043 2.05.043.959 0 1.58-.001 2.05-.043.45-.04.613-.109.693-.154a1.5 1.5 0 0 0 .56-.56c.045-.08.113-.242.154-.693.025-.283.035-.619.04-1.05-1.534-.003-2.358-.037-2.983-.394a3 3 0 0 1-1.12-1.12c-.357-.625-.39-1.449-.394-2.983Z" clip-rule="evenodd"/></svg>`,ACCOUNT_DISCONNECT:_t`<svg width="16" height="14" fill="none" viewBox="0 0 16 14"><path fill="#fff" d="M9.677 1.5h-2.61c-1.261 0-2.107.001-2.757.06-.629.056-.926.157-1.122.268a2.5 2.5 0 0 0-.933.933c-.112.196-.212.493-.269 1.122-.058.65-.06 1.496-.06 2.757v.72c0 1.26.002 2.107.06 2.756.057.63.157.927.27 1.123a2.5 2.5 0 0 0 .932.933c.196.111.493.212 1.122.268.65.059 1.496.06 2.757.06h2.61a.75.75 0 1 1 0 1.5h-2.61c-2.467 0-3.7 0-4.622-.525a4 4 0 0 1-1.493-1.493C.427 11.06.427 9.827.427 7.36v-.72c0-2.467 0-3.7.525-4.622A4 4 0 0 1 2.445.525C3.366 0 4.6 0 7.067 0h2.61a.75.75 0 1 1 0 1.5Z"/><path fill="#fff" d="M10.896 11.03a.75.75 0 0 1 0-1.06l1.793-1.793a.25.25 0 0 0-.176-.427H8.177a.75.75 0 0 1 0-1.5h4.336a.25.25 0 0 0 .176-.427L10.896 4.03a.75.75 0 0 1 1.061-1.06l3.323 3.323a1 1 0 0 1 0 1.414l-3.323 3.323a.75.75 0 0 1-1.06 0Z"/></svg>`},Q0e={1:"692ed6ba-e569-459a-556a-776476829e00",42161:"600a9a04-c1b9-42ca-6785-9b4b6ff85200",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00"};var vs=(t=>(t.metaMask="metaMask",t.trust="trust",t.phantom="phantom",t.brave="brave",t.spotEthWallet="spotEthWallet",t.exodus="exodus",t.tokenPocket="tokenPocket",t.frame="frame",t.tally="tally",t.coinbaseWallet="coinbaseWallet",t.core="core",t.bitkeep="bitkeep",t.mathWallet="mathWallet",t.opera="opera",t.tokenary="tokenary",t["1inch"]="1inch",t.kuCoinWallet="kuCoinWallet",t.ledger="ledger",t))(vs||{});const Ta={injectedPreset:{metaMask:{name:"MetaMask",icon:"619537c0-2ff3-4c78-9ed8-a05e7567f300",url:"https://metamask.io",isMobile:!0,isInjected:!0},trust:{name:"Trust",icon:"0528ee7e-16d1-4089-21e3-bbfb41933100",url:"https://trustwallet.com",isMobile:!0,isInjected:!0},spotEthWallet:{name:"Spot",icon:"1bf33a89-b049-4a1c-d1f6-4dd7419ee400",url:"https://www.spot-wallet.com",isMobile:!0,isInjected:!0},phantom:{name:"Phantom",icon:"62471a22-33cb-4e65-5b54-c3d9ea24b900",url:"https://phantom.app",isInjected:!0},core:{name:"Core",icon:"35f9c46e-cc57-4aa7-315d-e6ccb2a1d600",url:"https://core.app",isMobile:!0,isInjected:!0},bitkeep:{name:"BitKeep",icon:"3f7075d0-4ab7-4db5-404d-3e4c05e6fe00",url:"https://bitkeep.com",isMobile:!0,isInjected:!0},tokenPocket:{name:"TokenPocket",icon:"f3119826-4ef5-4d31-4789-d4ae5c18e400",url:"https://www.tokenpocket.pro",isMobile:!0,isInjected:!0},mathWallet:{name:"MathWallet",icon:"26a8f588-3231-4411-60ce-5bb6b805a700",url:"https://mathwallet.org",isMobile:!0,isInjected:!0},exodus:{name:"Exodus",icon:"4c16cad4-cac9-4643-6726-c696efaf5200",url:"https://www.exodus.com",isMobile:!0,isDesktop:!0,isInjected:!0},kuCoinWallet:{name:"KuCoin Wallet",icon:"1e47340b-8fd7-4ad6-17e7-b2bd651fae00",url:"https://kuwallet.com",isMobile:!0,isInjected:!0},ledger:{name:"Ledger",icon:"a7f416de-aa03-4c5e-3280-ab49269aef00",url:"https://www.ledger.com",isDesktop:!0},brave:{name:"Brave",icon:"125e828e-9936-4451-a8f2-949c119b7400",url:"https://brave.com/wallet",isInjected:!0},frame:{name:"Frame",icon:"cd492418-ea85-4ef1-aeed-1c9e20b58900",url:"https://frame.sh",isInjected:!0},tally:{name:"Tally",icon:"98d2620c-9fc8-4a1c-31bc-78d59d00a300",url:"https://tallyho.org",isInjected:!0},coinbaseWallet:{name:"Coinbase",icon:"f8068a7f-83d7-4190-1f94-78154a12c600",url:"https://www.coinbase.com/wallet",isInjected:!0},opera:{name:"Opera",icon:"877fa1a4-304d-4d45-ca8e-f76d1a556f00",url:"https://www.opera.com/crypto",isInjected:!0},tokenary:{name:"Tokenary",icon:"5e481041-dc3c-4a81-373a-76bbde91b800",url:"https://tokenary.io",isDesktop:!0,isInjected:!0},["1inch"]:{name:"1inch Wallet",icon:"dce1ee99-403f-44a9-9f94-20de30616500",url:"https://1inch.io/wallet",isMobile:!0}},getInjectedId(t){if(t.toUpperCase()!=="INJECTED"&&t.length)return t;const{ethereum:e,spotEthWallet:r,coinbaseWalletExtension:n}=window;return e?e.isTrust||e.isTrustWallet?"trust":e.isPhantom?"phantom":e.isBraveWallet?"brave":r?"spotEthWallet":e.isExodus?"exodus":e.isTokenPocket?"tokenPocket":e.isFrame?"frame":e.isTally?"tally":n?"coinbaseWallet":e.isAvalanche?"core":e.isBitKeep?"bitkeep":e.isMathWallet?"mathWallet":e.isOpera?"opera":e.isTokenary?"tokenary":e.isOneInchIOSWallet||e.isOneInchAndroidWallet?"1inch":e.isKuCoinWallet?"kuCoinWallet":e.isMetaMask?"metaMask":"injected":"metaMask"},getInjectedName(t){var e,r;if(t.length&&t.toUpperCase()!=="INJECTED")return t;const n=Ta.getInjectedId("");return(r=(e=Ta.injectedPreset[n])==null?void 0:e.name)!=null?r:"Injected"}},X0e={ETH:{icon:"692ed6ba-e569-459a-556a-776476829e00"},WETH:{icon:"692ed6ba-e569-459a-556a-776476829e00"},AVAX:{icon:"30c46e53-e989-45fb-4549-be3bd4eb3b00"},FTM:{icon:"06b26297-fe0c-4733-5d6b-ffa5498aac00"},BNB:{icon:"93564157-2e8e-4ce7-81df-b264dbee9b00"},MATIC:{icon:"41d04d42-da3b-4453-8506-668cc0727900"},OP:{icon:"ab9c186a-c52f-464b-2906-ca59d760a400"},xDAI:{icon:"02b53f6a-e3d4-479e-1cb4-21178987d100"},EVMOS:{icon:"f926ff41-260d-4028-635e-91913fc28e00"},METIS:{icon:"3897a66d-40b9-4833-162f-a2c90531c900"},IOTX:{icon:"34e68754-e536-40da-c153-6ef2e7188a00"}};var ede=Object.defineProperty,A8=Object.getOwnPropertySymbols,tde=Object.prototype.hasOwnProperty,rde=Object.prototype.propertyIsEnumerable,C8=(t,e,r)=>e in t?ede(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nde=(t,e)=>{for(var r in e||(e={}))tde.call(e,r)&&C8(t,r,e[r]);if(A8)for(var r of A8(e))rde.call(e,r)&&C8(t,r,e[r]);return t};const Ne={MOBILE_BREAKPOINT:600,W3M_RECENT_WALLET:"W3M_RECENT_WALLET",rejectStandaloneButtonComponent(){const{isStandalone:t}=Te.state;if(t)throw new Error("Web3Modal button components are not available in standalone mode.")},getShadowRootElement(t,e){const r=t.renderRoot.querySelector(e);if(!r)throw new Error(`${e} not found`);return r},getWalletId(t){return Ta.getInjectedId(t)},getWalletIcon(t){var e,r;const n=(e=Ta.injectedPreset[t])==null?void 0:e.icon,{projectId:i,walletImages:s}=Xt.state;return(r=s==null?void 0:s[t])!=null?r:i&&n?Rr.getImageUrl(n):""},getWalletName(t,e=!1){const r=Ta.getInjectedName(t);return e?r.split(" ")[0]:r},getChainIcon(t){var e;const r=Q0e[t],{projectId:n,chainImages:i}=Xt.state;return(e=i==null?void 0:i[t])!=null?e:n&&r?Rr.getImageUrl(r):""},getTokenIcon(t){var e,r;const n=(e=X0e[t])==null?void 0:e.icon,{projectId:i,tokenImages:s}=Xt.state;return(r=s==null?void 0:s[t])!=null?r:i&&n?Rr.getImageUrl(n):""},isMobileAnimation(){return window.innerWidth<=Ne.MOBILE_BREAKPOINT},async preloadImage(t){return new Promise((e,r)=>{const n=new Image;n.onload=e,n.onerror=r,n.src=t})},getErrorMessage(t){return t instanceof Error?t.message:"Unknown Error"},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},async handleMobileLinking(t){const{standaloneUri:e,selectedChain:r}=Te.state,{links:n,name:i}=t;function s(o){let a="";n!=null&&n.universal?a=At.formatUniversalUrl(n.universal,o,i):n!=null&&n.native&&(a=At.formatNativeUrl(n.native,o,i)),At.openHref(a)}e?s(e):(await Wt.client().connectWalletConnect(o=>{s(o)},r==null?void 0:r.id),Ar.close()),Ne.setRecentWallet(t)},async handleAndroidLinking(){const{standaloneUri:t,selectedChain:e}=Te.state;t?At.openHref(t):(await Wt.client().connectWalletConnect(r=>{At.setWalletConnectAndroidDeepLink(r),At.openHref(r)},e==null?void 0:e.id),Ar.close())},async handleUriCopy(){const{standaloneUri:t}=Te.state;if(t)await navigator.clipboard.writeText(t);else{const e=Wt.client().walletConnectUri;await navigator.clipboard.writeText(e)}kn.openToast("Link copied","success")},async handleConnectorConnection(t,e){try{const{selectedChain:r}=Te.state;await Wt.client().connectConnector(t,r==null?void 0:r.id),Ar.close()}catch(r){console.error(r),e?e():kn.openToast(Ne.getErrorMessage(r),"error")}},getCustomWallets(){var t;const{desktopWallets:e,mobileWallets:r}=Xt.state;return(t=At.isMobile()?r:e)!=null?t:[]},getCustomImageUrls(){const{chainImages:t,walletImages:e}=Xt.state,r=Object.values(t??{}),n=Object.values(e??{});return Object.values([...r,...n])},getConnectorImageUrls(){return Wt.client().getConnectors().map(({id:t})=>Ta.getInjectedId(t)).map(t=>Ne.getWalletIcon(t))},truncate(t,e=8){return t.length<=e?t:`${t.substring(0,4)}...${t.substring(t.length-4)}`},generateAvatarColors(t){var e;const r=(e=t.match(/.{1,7}/g))==null?void 0:e.splice(0,5),n=[];r==null||r.forEach(s=>{let o=0;for(let c=0;c<s.length;c+=1)o=s.charCodeAt(c)+((o<<5)-o),o=o&o;const a=[0,0,0];for(let c=0;c<3;c+=1){const l=o>>c*8&255;a[c]=l}n.push(`rgb(${a[0]}, ${a[1]}, ${a[2]})`)});const i=document.querySelector(":root");if(i){const s={"--w3m-color-av-1":n[0],"--w3m-color-av-2":n[1],"--w3m-color-av-3":n[2],"--w3m-color-av-4":n[3],"--w3m-color-av-5":n[4]};Object.entries(s).forEach(([o,a])=>i.style.setProperty(o,a))}},setRecentWallet(t){const e=Wt.client().walletConnectVersion;localStorage.setItem(Ne.W3M_RECENT_WALLET,JSON.stringify({[e]:t}))},getRecentWallet(){const t=localStorage.getItem(Ne.W3M_RECENT_WALLET),{isStandalone:e}=Te.state;if(t&&!e){const r=JSON.parse(t),n=Wt.client().walletConnectVersion;if(t[n])return r[n]}},getExtensionWallets(){const t=[];for(const[e,r]of Object.entries(Ta.injectedPreset))e!==vs.coinbaseWallet&&r&&r.isInjected&&!r.isDesktop&&t.push(nde({id:e},r));return t},caseSafeIncludes(t,e){return t.toUpperCase().includes(e.toUpperCase())}},ide=gt`#w3m-transparent-noise,.w3m-canvas,.w3m-color-placeholder,.w3m-gradient-placeholder,.w3m-highlight{inset:0;position:absolute;display:block;pointer-events:none;width:100%;height:100px;border-radius:8px 8px 0 0;transform:translateY(-5px)}.w3m-gradient-placeholder{background:linear-gradient(var(--w3m-gradient-1),var(--w3m-gradient-2),var(--w3m-gradient-3),var(--w3m-gradient-4))}.w3m-color-placeholder{background-color:var(--w3m-color-fg-accent)}.w3m-highlight{border:1px solid var(--w3m-color-overlay)}.w3m-canvas{opacity:0;transition:opacity 2s ease;box-shadow:0 8px 28px -6px rgba(10,16,31,.12),0 18px 88px -4px rgba(10,16,31,.14)}.w3m-canvas-visible{opacity:1}#w3m-transparent-noise{mix-blend-mode:multiply;opacity:.35}.w3m-toolbar{height:28px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.w3m-toolbar img,.w3m-toolbar svg{height:28px;object-position:left center;object-fit:contain}#w3m-wc-logo path{fill:var(--w3m-color-fg-inverse)}.w3m-action-btn{width:28px;height:28px;border-radius:50%;border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:background-color,.2s ease;background-color:var(--w3m-color-bg-1);box-shadow:0 0 0 1px var(--w3m-color-overlay),0 2px 4px -2px rgba(0,0,0,.12),0 4px 4px -2px rgba(0,0,0,.08)}.w3m-action-btn:hover{background-color:var(--w3m-color-bg-2)}.w3m-action-btn svg{display:block;object-position:center}.w3m-action-btn path{fill:var(--w3m-color-fg-1)}.w3m-actions{display:flex}.w3m-actions button:first-child{margin-right:16px}.w3m-help-active button:first-child{background-color:var(--w3m-color-fg-1)}.w3m-help-active button:first-child path{fill:var(--w3m-color-bg-1)}`;var sde=Object.defineProperty,ode=Object.getOwnPropertyDescriptor,Rb=(t,e,r,n)=>{for(var i=n>1?void 0:n?ode(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&sde(e,r,i),i};const I8=new J0e;let Hu=class extends nt{constructor(){super(),this.open=!1,this.isHelp=!1,this.unsubscribeRouter=void 0,this.playTimeout=void 0,this.unsubscribeRouter=It.subscribe(t=>{this.isHelp=t.view==="Help"})}firstUpdated(){const{themeBackground:t}=Xt.state;t==="gradient"&&(this.playTimeout=setTimeout(()=>{I8.play(this.canvasEl),this.open=!0},800))}disconnectedCallback(){var t;(t=this.unsubscribeRouter)==null||t.call(this),clearTimeout(this.playTimeout),I8.stop()}get canvasEl(){return Ne.getShadowRootElement(this,".w3m-canvas")}onHelp(){It.push("Help")}render(){const{themeBackground:t}=Xt.state,e={"w3m-canvas":!0,"w3m-canvas-visible":this.open},r={"w3m-actions":!0,"w3m-help-active":this.isHelp};return ve`${t==="themeColor"?ve`<div class="w3m-color-placeholder"></div>`:null} ${t==="gradient"?ve`<div class="w3m-gradient-placeholder"></div><canvas class="${Nn(e)}"></canvas>${ct.NOISE_TEXTURE}`:null}<div class="w3m-highlight"></div><div class="w3m-toolbar">${ct.WALLET_CONNECT_LOGO}<div class="${Nn(r)}"><button class="w3m-action-btn" @click="${this.onHelp}">${ct.HELP_ICON}</button> <button class="w3m-action-btn" @click="${Ar.close}">${ct.CROSS_ICON}</button></div></div>`}};Hu.styles=[Ge.globalCss,ide],Rb([Ft()],Hu.prototype,"open",2),Rb([Ft()],Hu.prototype,"isHelp",2),Hu=Rb([ut("w3m-modal-backcard")],Hu);const ade=gt`main{padding:20px;padding-top:0;width:100%}`;var cde=Object.defineProperty,lde=Object.getOwnPropertyDescriptor,ude=(t,e,r,n)=>{for(var i=n>1?void 0:n?lde(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&cde(e,r,i),i};let Pb=class extends nt{render(){return ve`<main><slot></slot></main>`}};Pb.styles=[Ge.globalCss,ade],Pb=ude([ut("w3m-modal-content")],Pb);const fde=gt`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--w3m-color-bg-2)}`;var hde=Object.defineProperty,dde=Object.getOwnPropertyDescriptor,pde=(t,e,r,n)=>{for(var i=n>1?void 0:n?dde(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&hde(e,r,i),i};let Nb=class extends nt{render(){return ve`<footer><slot></slot></footer>`}};Nb.styles=[Ge.globalCss,fde],Nb=pde([ut("w3m-modal-footer")],Nb);const gde=gt`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.w3m-border{border-bottom:1px solid var(--w3m-color-bg-2);margin-bottom:20px}header button{padding:15px 20px;transition:opacity .2s ease}@media(hover:hover){header button:hover{opacity:.5}}.w3m-back-btn{position:absolute;left:0}.w3m-action-btn{position:absolute;right:0}path{fill:var(--w3m-color-fg-accent)}`;var mde=Object.defineProperty,bde=Object.getOwnPropertyDescriptor,zu=(t,e,r,n)=>{for(var i=n>1?void 0:n?bde(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&mde(e,r,i),i};let da=class extends nt{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return ve`<button class="w3m-back-btn" @click="${It.goBack}">${ct.BACK_ICON}</button>`}actionBtnTemplate(){return ve`<button class="w3m-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const t={"w3m-border":this.border},e=It.state.history.length>1,r=this.title?ve`<w3m-text variant="large-bold">${this.title}</w3m-text>`:ve`<slot></slot>`;return ve`<header class="${Nn(t)}">${e?this.backBtnTemplate():null} ${r} ${this.onAction?this.actionBtnTemplate():null}</header>`}};da.styles=[Ge.globalCss,gde],zu([dt()],da.prototype,"title",2),zu([dt()],da.prototype,"onAction",2),zu([dt()],da.prototype,"actionIcon",2),zu([dt()],da.prototype,"border",2),da=zu([ut("w3m-modal-header")],da);const yde=gt`.w3m-router{overflow:hidden;will-change:transform}.w3m-content{display:flex;flex-direction:column}`;var vde=Object.defineProperty,wde=Object.getOwnPropertyDescriptor,Db=(t,e,r,n)=>{for(var i=n>1?void 0:n?wde(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&vde(e,r,i),i};let Wu=class extends nt{constructor(){super(),this.view=It.state.view,this.prevView=It.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=It.subscribe(t=>{this.view!==t.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([t])=>{const e=`${t.contentRect.height}px`;this.oldHeight!=="0px"&&(vo(this.routerEl,{height:[this.oldHeight,e]},{duration:.2}),vo(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.03})),this.oldHeight=e}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var t,e;(t=this.unsubscribe)==null||t.call(this),(e=this.resizeObserver)==null||e.disconnect()}get routerEl(){return Ne.getShadowRootElement(this,".w3m-router")}get contentEl(){return Ne.getShadowRootElement(this,".w3m-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return ve`<w3m-connect-wallet-view></w3m-connect-wallet-view>`;case"SelectNetwork":return ve`<w3m-select-network-view></w3m-select-network-view>`;case"InjectedConnector":return ve`<w3m-injected-connector-view></w3m-injected-connector-view>`;case"InstallConnector":return ve`<w3m-install-connector-view></w3m-install-connector-view>`;case"GetWallet":return ve`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"DesktopConnector":return ve`<w3m-desktop-connector-view></w3m-desktop-connector-view>`;case"WalletExplorer":return ve`<w3m-wallet-explorer-view></w3m-wallet-explorer-view>`;case"Qrcode":return ve`<w3m-qrcode-view></w3m-qrcode-view>`;case"Help":return ve`<w3m-help-view></w3m-help-view>`;case"Account":return ve`<w3m-account-view></w3m-account-view>`;case"SwitchNetwork":return ve`<w3m-switch-network-view></w3m-switch-network-view>`;default:return ve`<div>Not Found</div>`}}async onChangeRoute(){await vo(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15}).finished,this.view=It.state.view}render(){return ve`<div class="w3m-router"><div class="w3m-content">${this.viewTemplate()}</div></div>`}};Wu.styles=[Ge.globalCss,yde],Db([Ft()],Wu.prototype,"view",2),Db([Ft()],Wu.prototype,"prevView",2),Wu=Db([ut("w3m-modal-router")],Wu);const xde=gt`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:10px 15px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:36px;border:1px solid var(--w3m-color-overlay);background-color:var(--w3m-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--w3m-color-bg-3)}}.w3m-success path{fill:var(--w3m-color-fg-accent)}.w3m-error path{fill:var(--w3m-color-err)}`;var _de=Object.defineProperty,Ede=Object.getOwnPropertyDescriptor,M8=(t,e,r,n)=>{for(var i=n>1?void 0:n?Ede(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&_de(e,r,i),i};let W0=class extends nt{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=kn.subscribe(t=>{t.open?(this.open=!0,this.timeout=setTimeout(()=>kn.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var t;(t=this.unsubscribe)==null||t.call(this),clearTimeout(this.timeout),kn.closeToast()}render(){const{message:t,variant:e}=kn.state,r={"w3m-success":e==="success","w3m-error":e==="error"};return this.open?ve`<div class="${Nn(r)}">${e==="success"?ct.CHECKMARK_ICON:null} ${e==="error"?ct.CROSS_ICON:null}<w3m-text variant="small-normal">${t}</w3m-text></div>`:null}};W0.styles=[Ge.globalCss,xde],M8([Ft()],W0.prototype,"open",2),W0=M8([ut("w3m-modal-toast")],W0);const Sde=gt`button{padding:5px;border-radius:10px;transition:all .2s ease;display:flex;flex-direction:column;align-items:center;justify-content:center;width:80px;height:90px}w3m-network-image{width:54px;height:59px}w3m-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;margin-top:5px}button:hover{background-color:var(--w3m-color-overlay)}`;var Ade=Object.defineProperty,Cde=Object.getOwnPropertyDescriptor,q0=(t,e,r,n)=>{for(var i=n>1?void 0:n?Cde(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Ade(e,r,i),i};let _c=class extends nt{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.chainId=""}render(){return ve`<button @click="${this.onClick}"><w3m-network-image chainId="${this.chainId}"></w3m-network-image><w3m-text variant="xsmall-normal">${this.name}</w3m-text></button>`}};_c.styles=[Ge.globalCss,Sde],q0([dt()],_c.prototype,"onClick",2),q0([dt()],_c.prototype,"name",2),q0([dt()],_c.prototype,"chainId",2),_c=q0([ut("w3m-network-button")],_c);const Ide=gt`div{width:inherit;height:inherit}.polygon-stroke{stroke:var(--w3m-color-overlay)}svg{width:100%;height:100%;margin:0}#network-placeholder-fill{fill:var(--w3m-color-bg-3)}#network-placeholder-dash{stroke:var(--w3m-color-overlay)}`;var Mde=Object.defineProperty,Tde=Object.getOwnPropertyDescriptor,T8=(t,e,r,n)=>{for(var i=n>1?void 0:n?Tde(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Mde(e,r,i),i};let V0=class extends nt{constructor(){super(...arguments),this.chainId=""}render(){const t=Ne.getChainIcon(this.chainId);return t?ve`<div><svg width="54" height="59" viewBox="0 0 54 59" fill="none"><defs><clipPath id="polygon"><path d="M17.033 4.964c3.852-2.262 5.778-3.393 7.84-3.77a11.807 11.807 0 0 1 4.254 0c2.062.377 3.988 1.508 7.84 3.77l6.066 3.562c3.852 2.263 5.777 3.394 7.13 5.022a12.268 12.268 0 0 1 2.127 3.747c.71 2.006.71 4.268.71 8.793v7.124c0 4.525 0 6.787-.71 8.793a12.268 12.268 0 0 1-2.126 3.747c-1.354 1.628-3.28 2.76-7.131 5.022l-6.066 3.562c-3.852 2.262-5.778 3.393-7.84 3.771a11.814 11.814 0 0 1-4.254 0c-2.062-.378-3.988-1.509-7.84-3.77l-6.066-3.563c-3.852-2.263-5.778-3.394-7.13-5.022a12.268 12.268 0 0 1-2.127-3.747C1 40 1 37.737 1 33.212v-7.124c0-4.525 0-6.787.71-8.793a12.268 12.268 0 0 1 2.127-3.747c1.352-1.628 3.278-2.76 7.13-5.022l6.066-3.562Z"/></clipPath></defs><image clip-path="url(#polygon)" href="${t}" width="58" height="59" x="-2" y="0"/><path class="polygon-stroke" d="M17.22 5.295c3.877-2.277 5.737-3.363 7.72-3.726a11.44 11.44 0 0 1 4.12 0c1.983.363 3.844 1.45 7.72 3.726l6.065 3.562c3.876 2.276 5.731 3.372 7.032 4.938a11.896 11.896 0 0 1 2.06 3.63c.683 1.928.688 4.11.688 8.663v7.124c0 4.553-.005 6.735-.688 8.664a11.896 11.896 0 0 1-2.06 3.63c-1.3 1.565-3.156 2.66-7.032 4.937l-6.065 3.563c-3.877 2.276-5.737 3.362-7.72 3.725a11.46 11.46 0 0 1-4.12 0c-1.983-.363-3.844-1.449-7.72-3.726l-6.065-3.562c-3.876-2.276-5.731-3.372-7.032-4.938a11.885 11.885 0 0 1-2.06-3.63c-.682-1.928-.688-4.11-.688-8.663v-7.124c0-4.553.006-6.735.688-8.664a11.885 11.885 0 0 1 2.06-3.63c1.3-1.565 3.156-2.66 7.032-4.937l6.065-3.562Z" stroke="#fff"/></svg></div>`:ve`${ct.NETWORK_PLACEHOLDER}`}};V0.styles=[Ge.globalCss,Ide],T8([dt()],V0.prototype,"chainId",2),V0=T8([ut("w3m-network-image")],V0);const kde=.1,k8=2.5,Ds=7;function Bb(t,e,r){return t===e?!1:(t-e<0?e-t:t-e)<=r+kde}function Ode(t,e){const r=Array.prototype.slice.call(e0.create(t,{errorCorrectionLevel:e}).modules.data,0),n=Math.sqrt(r.length);return r.reduce((i,s,o)=>(o%n===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const Rde={generate(t,e,r,n){const i=n==="light"?"#141414":"#fff",s=n==="light"?"#fff":"#141414",o=[],a=Ode(t,"Q"),c=e/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:D,y:x})=>{const _=(a.length-Ds)*c*D,m=(a.length-Ds)*c*x,w=.32;for(let A=0;A<l.length;A+=1){const k=c*(Ds-A*2);o.push(_t`<rect fill="${A%2===0?i:s}" height="${k}" rx="${k*w}" ry="${k*w}" width="${k}" x="${_+c*A}" y="${m+c*A}">`)}});const u=Math.floor((r+25)/c),h=a.length/2-u/2,b=a.length/2+u/2-1,v=[];a.forEach((D,x)=>{D.forEach((_,m)=>{if(a[x][m]&&!(x<Ds&&m<Ds||x>a.length-(Ds+1)&&m<Ds||x<Ds&&m>a.length-(Ds+1))&&!(x>h&&x<b&&m>h&&m<b)){const w=x*c+c/2,A=m*c+c/2;v.push([w,A])}})});const E={};return v.forEach(([D,x])=>{E[D]?E[D].push(x):E[D]=[x]}),Object.entries(E).map(([D,x])=>{const _=x.filter(m=>x.every(w=>!Bb(m,w,c)));return[Number(D),_]}).forEach(([D,x])=>{x.forEach(_=>{o.push(_t`<circle cx="${D}" cy="${_}" fill="${i}" r="${c/k8}">`)})}),Object.entries(E).filter(([D,x])=>x.length>1).map(([D,x])=>{const _=x.filter(m=>x.some(w=>Bb(m,w,c)));return[Number(D),_]}).map(([D,x])=>{x.sort((m,w)=>m<w?-1:1);const _=[];for(const m of x){const w=_.find(A=>A.some(k=>Bb(m,k,c)));w?w.push(m):_.push([m])}return[D,_.map(m=>[m[0],m[m.length-1]])]}).forEach(([D,x])=>{x.forEach(([_,m])=>{o.push(_t`<line x1="${D}" x2="${D}" y1="${_}" y2="${m}" stroke="${i}" stroke-width="${c/(k8/2)}" stroke-linecap="round">`)})}),o}},Pde=gt`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;width:100%;aspect-ratio:1/1;animation:fadeIn ease .2s}svg:first-child,w3m-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}w3m-wallet-image{transform:translateY(-50%) translateX(-50%)}w3m-wallet-image{width:25%;height:25%;border-radius:15px}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--w3m-color-fg-accent)}svg:first-child path:last-child{stroke:var(--w3m-color-overlay)}`;var Nde=Object.defineProperty,Dde=Object.getOwnPropertyDescriptor,qu=(t,e,r,n)=>{for(var i=n>1?void 0:n?Dde(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Nde(e,r,i),i};let pa=class extends nt{constructor(){super(...arguments),this.uri="",this.size=0,this.logoSrc="",this.walletId=""}svgTemplate(){var t;const e=(t=Xt.state.themeMode)!=null?t:"light";return _t`<svg height="${this.size}" width="${this.size}">${Rde.generate(this.uri,this.size,this.size/4,e)}</svg>`}render(){return ve`<div>${this.walletId||this.logoSrc?ve`<w3m-wallet-image walletId="${Qn(this.walletId)}" src="${Qn(this.logoSrc)}"></w3m-wallet-image>`:ct.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};pa.styles=[Ge.globalCss,Pde],qu([dt()],pa.prototype,"uri",2),qu([dt({type:Number})],pa.prototype,"size",2),qu([dt()],pa.prototype,"logoSrc",2),qu([dt()],pa.prototype,"walletId",2),pa=qu([ut("w3m-qrcode")],pa);const Bde=gt`:host{position:relative;height:28px;width:75%}input{width:100%;height:100%;line-height:28px!important;border-radius:28px;font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:transparent;position:absolute;background-color:var(--w3m-color-bg-3);box-shadow:inset 0 0 0 1px var(--w3m-color-overlay)}input::placeholder{color:transparent}svg{margin-right:4px}.w3m-placeholder{top:0;left:50%;transform:translateX(-50%);transition:.2s all ease;pointer-events:none;display:flex;align-items:center;justify-content:center;height:100%;width:fit-content;position:relative}input:focus-within+.w3m-placeholder,input:not(:placeholder-shown)+.w3m-placeholder{transform:translateX(10px);left:0}w3m-text{opacity:1;transition:.2s opacity ease}input:focus-within+.w3m-placeholder w3m-text,input:not(:placeholder-shown)+.w3m-placeholder w3m-text{opacity:0}input:focus-within,input:not(:placeholder-shown){color:var(--w3m-color-fg-1)}input:focus-within{box-shadow:inset 0 0 0 1px var(--w3m-color-fg-accent)}path{fill:var(--w3m-color-fg-2)}`;var Lde=Object.defineProperty,$de=Object.getOwnPropertyDescriptor,O8=(t,e,r,n)=>{for(var i=n>1?void 0:n?$de(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Lde(e,r,i),i};let G0=class extends nt{constructor(){super(...arguments),this.onChange=()=>null}render(){const t=At.isMobile()?"Search mobile wallets":"Search desktop wallets";return ve`<input type="text" @input="${this.onChange}" placeholder="${t}"><div class="w3m-placeholder">${ct.SEARCH_ICON}<w3m-text color="secondary" variant="medium-thin">${t}</w3m-text></div>`}};G0.styles=[Ge.globalCss,Bde],O8([dt()],G0.prototype,"onChange",2),G0=O8([ut("w3m-search-input")],G0);const Fde=gt`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--w3m-color-fg-accent)}`;var Ude=Object.defineProperty,jde=Object.getOwnPropertyDescriptor,Hde=(t,e,r,n)=>{for(var i=n>1?void 0:n?jde(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Ude(e,r,i),i};let Lb=class extends nt{render(){return ve`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};Lb.styles=[Ge.globalCss,Fde],Lb=Hde([ut("w3m-spinner")],Lb);const zde=gt`span{font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'tnum' on,'lnum' on,'case' on}.w3m-xxsmall-bold{font-weight:700;font-size:10px;line-height:12px;letter-spacing:.02em;text-transform:uppercase}.w3m-xsmall-normal{font-weight:600;font-size:12px;line-height:14px;letter-spacing:-.03em}.w3m-small-thin{font-weight:500;font-size:14px;line-height:16px;letter-spacing:-.03em}.w3m-small-normal{font-weight:600;font-size:14px;line-height:16px;letter-spacing:-.03em}.w3m-medium-thin{font-weight:500;font-size:16px;line-height:20px;letter-spacing:-.03em}.w3m-medium-normal{font-weight:600;font-size:16px;line-height:20px;letter-spacing:-.03em}.w3m-medium-bold{font-weight:700;font-size:16px;line-height:20px;letter-spacing:-.03em}.w3m-large-bold{font-weight:600;font-size:20px;line-height:24px;letter-spacing:-.03em}:host(*){color:var(--w3m-color-fg-1)}.w3m-color-primary{color:var(--w3m-color-fg-1)}.w3m-color-secondary{color:var(--w3m-color-fg-2)}.w3m-color-tertiary{color:var(--w3m-color-fg-3)}.w3m-color-inverse{color:var(--w3m-color-fg-inverse)}.w3m-color-accnt{color:var(--w3m-color-fg-accent)}.w3m-color-error{color:var(--w3m-color-err)}`;var Wde=Object.defineProperty,qde=Object.getOwnPropertyDescriptor,$b=(t,e,r,n)=>{for(var i=n>1?void 0:n?qde(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Wde(e,r,i),i};let Vu=class extends nt{constructor(){super(...arguments),this.variant="medium-normal",this.color="primary"}render(){const t={"w3m-large-bold":this.variant==="large-bold","w3m-medium-bold":this.variant==="medium-bold","w3m-medium-normal":this.variant==="medium-normal","w3m-medium-thin":this.variant==="medium-thin","w3m-small-normal":this.variant==="small-normal","w3m-small-thin":this.variant==="small-thin","w3m-xsmall-normal":this.variant==="xsmall-normal","w3m-xxsmall-bold":this.variant==="xxsmall-bold","w3m-color-primary":this.color==="primary","w3m-color-secondary":this.color==="secondary","w3m-color-tertiary":this.color==="tertiary","w3m-color-inverse":this.color==="inverse","w3m-color-accnt":this.color==="accent","w3m-color-error":this.color==="error"};return ve`<span class="${Nn(t)}"><slot></slot></span>`}};Vu.styles=[Ge.globalCss,zde],$b([dt()],Vu.prototype,"variant",2),$b([dt()],Vu.prototype,"color",2),Vu=$b([ut("w3m-text")],Vu);const Vde=gt`div{overflow:hidden;position:relative;border-radius:50%}div::after{content:'';position:absolute;inset:0;border-radius:50%;border:1px solid var(--w3m-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}svg{width:100%;height:100%}#token-placeholder-fill{fill:var(--w3m-color-bg-3)}#token-placeholder-dash{stroke:var(--w3m-color-overlay)}`;var Gde=Object.defineProperty,Kde=Object.getOwnPropertyDescriptor,R8=(t,e,r,n)=>{for(var i=n>1?void 0:n?Kde(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Gde(e,r,i),i};let K0=class extends nt{constructor(){super(...arguments),this.symbol=void 0}render(){var t;const e=Ne.getTokenIcon((t=this.symbol)!=null?t:"");return e?ve`<div><img src="${e}" alt="${this.id}"></div>`:ct.TOKEN_PLACEHOLDER}};K0.styles=[Ge.globalCss,Vde],R8([dt()],K0.prototype,"symbol",2),K0=R8([ut("w3m-token-image")],K0);const Jde=gt`button{transition:all .2s ease;width:100%;height:100%;border-radius:10px;display:flex;align-items:flex-start}button:hover{background-color:var(--w3m-color-overlay)}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}w3m-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}w3m-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:15px;margin-bottom:5px}.w3m-sublabel{margin-top:2px}`;var Zde=Object.defineProperty,Yde=Object.getOwnPropertyDescriptor,ho=(t,e,r,n)=>{for(var i=n>1?void 0:n?Yde(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Zde(e,r,i),i};let Ji=class extends nt{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.src=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?ve`<w3m-text class="w3m-sublabel" variant="xxsmall-bold" color="tertiary">RECENT</w3m-text>`:this.installed?ve`<w3m-text class="w3m-sublabel" variant="xxsmall-bold" color="tertiary">INSTALLED</w3m-text>`:null}render(){var t;return ve`<button @click="${this.onClick}"><div><w3m-wallet-image walletId="${this.walletId}" .src="${this.src}"></w3m-wallet-image><w3m-text variant="xsmall-normal">${(t=this.label)!=null?t:Ne.getWalletName(this.name,!0)}</w3m-text>${this.sublabelTemplate()}</div></button>`}};Ji.styles=[Ge.globalCss,Jde],ho([dt()],Ji.prototype,"onClick",2),ho([dt()],Ji.prototype,"name",2),ho([dt()],Ji.prototype,"walletId",2),ho([dt()],Ji.prototype,"label",2),ho([dt()],Ji.prototype,"src",2),ho([dt()],Ji.prototype,"installed",2),ho([dt()],Ji.prototype,"recent",2),Ji=ho([ut("w3m-wallet-button")],Ji);const Qde=gt`div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;inset:0;border-radius:inherit;border:1px solid var(--w3m-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--w3m-color-bg-3)}#wallet-placeholder-dash{stroke:var(--w3m-color-overlay)}`;var Xde=Object.defineProperty,epe=Object.getOwnPropertyDescriptor,Fb=(t,e,r,n)=>{for(var i=n>1?void 0:n?epe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Xde(e,r,i),i};let Gu=class extends nt{constructor(){super(...arguments),this.walletId=void 0,this.src=void 0}render(){var t;const e=Ne.getWalletId((t=this.walletId)!=null?t:""),r=Ne.getWalletId(e),n=this.src?this.src:Ne.getWalletIcon(r);return ve`${n.length?ve`<div><img src="${n}" alt="${this.id}"></div>`:ct.WALLET_PLACEHOLDER}`}};Gu.styles=[Ge.globalCss,Qde],Fb([dt()],Gu.prototype,"walletId",2),Fb([dt()],Gu.prototype,"src",2),Gu=Fb([ut("w3m-wallet-image")],Gu);const tpe=gt`:host{all:initial}div{display:flex;align-items:center;background-color:var(--w3m-color-overlay);box-shadow:inset 0 0 0 1px var(--w3m-color-overlay);border-radius:10px;padding:4px 4px 4px 8px}div button{border-radius:16px;padding:4px 8px 4px 4px;height:auto;margin-left:10px;color:var(--w3m-color-fg-inverse);background-color:var(--w3m-color-fg-accent)}button::after{content:'';inset:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--w3m-color-overlay)}button:hover::after{background-color:var(--w3m-color-overlay)}w3m-avatar{margin-right:6px}w3m-button-big w3m-avatar{margin-left:-5px}`;var rpe=Object.defineProperty,npe=Object.getOwnPropertyDescriptor,P8=(t,e,r,n)=>{for(var i=n>1?void 0:n?npe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&rpe(e,r,i),i};let lf=class extends nt{constructor(){super(),this.balance="hide",Ne.rejectStandaloneButtonComponent()}onOpen(){const{isStandalone:t}=Te.state;t||Ar.open({route:"Account"})}accountTemplate(){return ve`<w3m-avatar></w3m-avatar><w3m-address-text></w3m-address-text>`}render(){return this.balance==="show"?ve`<div><w3m-balance></w3m-balance><button @click="${this.onOpen}">${this.accountTemplate()}</button></div>`:ve`<w3m-button-big @click="${this.onOpen}">${this.accountTemplate()}</w3m-button-big>`}};lf.styles=[Ge.globalCss,tpe],P8([dt()],lf.prototype,"balance",2),lf=P8([ut("w3m-account-button")],lf);const ipe=gt`button{display:flex;border-radius:10px;flex-direction:column;transition:background-color .2s ease;justify-content:center;padding:5px;width:100px}button:hover{background-color:var(--w3m-color-overlay)}button:disabled{pointer-events:none}w3m-network-image{width:32px;height:32px}w3m-text{margin-top:4px}`;var spe=Object.defineProperty,ope=Object.getOwnPropertyDescriptor,Ub=(t,e,r,n)=>{for(var i=n>1?void 0:n?ope(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&spe(e,r,i),i};let Ku=class extends nt{constructor(){super(),this.chainId="",this.label="",this.unsubscribeNetwork=void 0;const{selectedChain:t}=Te.state;this.chainId=t==null?void 0:t.id.toString(),this.label=t==null?void 0:t.name,this.unsubscribeNetwork=Te.subscribe(({selectedChain:e})=>{this.chainId=e==null?void 0:e.id.toString(),this.label=e==null?void 0:e.name})}disconnectedCallback(){var t;(t=this.unsubscribeNetwork)==null||t.call(this)}onClick(){It.push("SelectNetwork")}render(){const{chains:t}=Te.state,e=t&&t.length>1;return ve`<button @click="${this.onClick}" ?disabled="${!e}"><w3m-network-image chainId="${Qn(this.chainId)}"></w3m-network-image><w3m-text variant="xsmall-normal" color="accent">${this.label}</w3m-text></button>`}};Ku.styles=[Ge.globalCss,ipe],Ub([Ft()],Ku.prototype,"chainId",2),Ub([Ft()],Ku.prototype,"label",2),Ku=Ub([ut("w3m-account-network-button")],Ku);const ape=gt`@keyframes slide{0%{background-position:0 0}100%{background-position:200px 0}}w3m-text{padding:1px 0}.w3m-loading{background:linear-gradient(270deg,var(--w3m-color-fg-1) 36.33%,var(--w3m-color-fg-3) 42.07%,var(--w3m-color-fg-1) 83.3%);background-size:200px 100%;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation-name:slide;animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear}`;var cpe=Object.defineProperty,lpe=Object.getOwnPropertyDescriptor,Ju=(t,e,r,n)=>{for(var i=n>1?void 0:n?lpe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&cpe(e,r,i),i};let ga=class extends nt{constructor(){super(),this.address=void 0,this.name=void 0,this.loading=!0,this.variant="button",this.unsubscribeAccount=void 0,this.address=Te.state.address,this.name=Te.state.profileName,this.loading=Boolean(Te.state.profileLoading),this.unsubscribeAccount=Te.subscribe(({address:t,profileName:e,profileLoading:r})=>{this.address=t,this.name=e,this.loading=Boolean(r)})}disconnectedCallback(){var t;(t=this.unsubscribeAccount)==null||t.call(this)}render(){var t;const e=this.variant==="button",r={"w3m-loading":this.loading};return ve`<w3m-text class="${Nn(r)}" variant="${e?"medium-normal":"large-bold"}" color="${e?"inverse":"primary"}">${this.name?this.name:Ne.truncate((t=this.address)!=null?t:"")}</w3m-text>`}};ga.styles=[Ge.globalCss,ape],Ju([Ft()],ga.prototype,"address",2),Ju([Ft()],ga.prototype,"name",2),Ju([Ft()],ga.prototype,"loading",2),Ju([dt()],ga.prototype,"variant",2),ga=Ju([ut("w3m-address-text")],ga);const upe=gt`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 10),0,0)}}.w3m-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px}.w3m-slider::after,.w3m-slider::before{content:'';height:100%;width:50px;z-index:2;position:absolute;background:linear-gradient(to right,var(--w3m-color-bg-1) 0,transparent 100%);top:0}.w3m-slider::before{left:0}.w3m-slider::after{right:0;transform:rotateZ(180deg)}.w3m-track{display:flex;width:calc(70px * 20);animation:scroll 20s linear infinite}.w3m-action{padding:30px 0 10px 0;display:flex;justify-content:center;align-items:center;flex-direction:column}.w3m-action w3m-button-big:last-child{margin-top:10px}w3m-wallet-image{width:60px;height:60px;margin:0 5px;box-shadow:0 2px 4px -2px rgba(0,0,0,.12),0 4px 4px -2px rgba(0,0,0,.08);border-radius:15px}`;var fpe=Object.defineProperty,hpe=Object.getOwnPropertyDescriptor,dpe=(t,e,r,n)=>{for(var i=n>1?void 0:n?hpe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&fpe(e,r,i),i};let jb=class extends nt{onGoToQrcode(){It.push("Qrcode")}onGoToGetWallet(){It.push("GetWallet")}render(){const{previewWallets:t}=Rr.state,e=t.length,r=[...t,...t];return ve`<w3m-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${ct.QRCODE_ICON}"></w3m-modal-header><w3m-modal-content>${e?ve`<div class="w3m-slider"><div class="w3m-track">${r.map(({image_url:n})=>ve`<w3m-wallet-image src="${n.lg}"></w3m-wallet-image>`)}</div></div>`:null}<div class="w3m-action"><w3m-button-big @click="${Ne.handleAndroidLinking}"><w3m-text variant="medium-normal" color="inverse">Select Wallet</w3m-text></w3m-button-big><w3m-button-big variant="secondary" @click="${this.onGoToGetWallet}"><w3m-text variant="medium-normal" color="accent">I dont have a wallet</w3m-text></w3m-button-big></div></w3m-modal-content>`}};jb.styles=[Ge.globalCss,upe],jb=dpe([ut("w3m-android-wallet-selection")],jb);const ppe=gt`@keyframes slide{0%{transform:translateX(-50px)}100%{transform:translateX(200px)}}.w3m-placeholder,img{border-radius:50%;box-shadow:inset 0 0 0 1px var(--w3m-color-overlay);display:block;position:relative;overflow:hidden!important;background-color:var(--w3m-color-av-1);background-image:radial-gradient(at 66% 77%,var(--w3m-color-av-2) 0,transparent 50%),radial-gradient(at 29% 97%,var(--w3m-color-av-3) 0,transparent 50%),radial-gradient(at 99% 86%,var(--w3m-color-av-4) 0,transparent 50%),radial-gradient(at 29% 88%,var(--w3m-color-av-5) 0,transparent 50%);transform:translateZ(0)}.w3m-loader{width:50px;height:100%;background:linear-gradient(270deg,transparent 0,rgba(255,255,255,.4) 30%,transparent 100%);animation-name:slide;animation-duration:1.5s;transform:translateX(-50px);animation-iteration-count:infinite;animation-timing-function:linear;animation-delay:.55s}.w3m-small{width:24px;height:24px}.w3m-medium{width:60px;height:60px}`;var gpe=Object.defineProperty,mpe=Object.getOwnPropertyDescriptor,Zu=(t,e,r,n)=>{for(var i=n>1?void 0:n?mpe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&gpe(e,r,i),i};let ma=class extends nt{constructor(){super(),this.address=void 0,this.avatar=void 0,this.loading=!0,this.size="small",this.unsubscribeAccount=void 0,this.address=Te.state.address,this.avatar=Te.state.profileAvatar,this.loading=Boolean(Te.state.profileLoading),this.unsubscribeAccount=Te.subscribe(({address:t,profileAvatar:e,profileLoading:r})=>{this.address=t,this.avatar=e,this.loading=Boolean(r)})}disconnectedCallback(){var t;(t=this.unsubscribeAccount)==null||t.call(this)}render(){const t={"w3m-placeholder":!0,"w3m-small":this.size==="small","w3m-medium":this.size==="medium"};return this.avatar?ve`<img class="${Nn(t)}" src="${this.avatar}">`:this.address?(Ne.generateAvatarColors(this.address),ve`<div class="${Nn(t)}">${this.loading?ve`<div class="w3m-loader"></div>`:null}</div>`):null}};ma.styles=[Ge.globalCss,ppe],Zu([Ft()],ma.prototype,"address",2),Zu([Ft()],ma.prototype,"avatar",2),Zu([Ft()],ma.prototype,"loading",2),Zu([dt()],ma.prototype,"size",2),ma=Zu([ut("w3m-avatar")],ma);const bpe=gt`div{display:flex;align-items:center}w3m-token-image{width:28px;height:28px;margin-right:6px}`;var ype=Object.defineProperty,vpe=Object.getOwnPropertyDescriptor,Hb=(t,e,r,n)=>{for(var i=n>1?void 0:n?vpe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&ype(e,r,i),i};let Yu=class extends nt{constructor(){var t,e;super(),this.symbol=void 0,this.amount=void 0,this.unsubscribeAccount=void 0,this.symbol=(t=Te.state.balance)==null?void 0:t.symbol,this.amount=(e=Te.state.balance)==null?void 0:e.amount,this.unsubscribeAccount=Te.subscribe(({balance:r})=>{this.symbol=r==null?void 0:r.symbol,this.amount=r==null?void 0:r.amount})}disconnectedCallback(){var t;(t=this.unsubscribeAccount)==null||t.call(this)}render(){let t="_._";return this.amount==="0.0"&&(t=0),this.amount&&this.amount.length>6&&(t=parseFloat(this.amount).toFixed(3)),ve`<div><w3m-token-image symbol="${Qn(this.symbol)}"></w3m-token-image><w3m-text variant="medium-normal" color="primary">${t} ${this.symbol}</w3m-text></div>`}};Yu.styles=[Ge.globalCss,bpe],Hb([Ft()],Yu.prototype,"symbol",2),Hb([Ft()],Yu.prototype,"amount",2),Yu=Hb([ut("w3m-balance")],Yu);const wpe=gt`:host{all:initial}svg{width:28px;height:20px;margin:-1px 3px 0 -5px}svg path{fill:var(--w3m-color-fg-inverse)}button:disabled svg path{fill:var(--w3m-color-fg-3)}w3m-spinner{margin:0 10px 0 0}`;var xpe=Object.defineProperty,_pe=Object.getOwnPropertyDescriptor,J0=(t,e,r,n)=>{for(var i=n>1?void 0:n?_pe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&xpe(e,r,i),i};let ya=class extends nt{constructor(){super(),this.loading=!1,this.label="Connect Wallet",this.icon="show",this.modalUnsub=void 0,Ne.rejectStandaloneButtonComponent(),this.modalUnsub=Ar.subscribe(t=>{t.open&&(this.loading=!0),t.open||(this.loading=!1)})}disconnectedCallback(){var t;(t=this.modalUnsub)==null||t.call(this)}iconTemplate(){return this.icon==="show"?ct.WALLET_CONNECT_ICON:null}onClick(){Te.state.isConnected?this.onDisconnect():this.onConnect()}onConnect(){this.loading=!0;const{enableNetworkView:t}=Xt.state,{chains:e,selectedChain:r}=Te.state,n=(e==null?void 0:e.length)&&e.length>1;t||n&&!r?Ar.open({route:"SelectNetwork"}):Ar.open({route:"ConnectWallet"})}onDisconnect(){Wt.client().disconnect(),Te.resetAccount()}render(){return ve`<w3m-button-big .disabled="${this.loading}" @click="${this.onClick}">${this.loading?ve`<w3m-spinner></w3m-spinner><w3m-text variant="medium-normal" color="accent">Connecting...</w3m-text>`:ve`${this.iconTemplate()}<w3m-text variant="medium-normal" color="inverse">${this.label}</w3m-text>`}</w3m-button-big>`}};ya.styles=[Ge.globalCss,wpe],J0([Ft()],ya.prototype,"loading",2),J0([dt()],ya.prototype,"label",2),J0([dt()],ya.prototype,"icon",2),ya=J0([ut("w3m-connect-button")],ya);var Epe=Object.defineProperty,Spe=Object.getOwnPropertyDescriptor,Qu=(t,e,r,n)=>{for(var i=n>1?void 0:n?Spe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Epe(e,r,i),i};let va=class extends nt{constructor(){super(),this.isConnected=!1,this.label="Connect Wallet",this.icon="show",this.balance="hide",this.unsubscribeAccount=void 0,Ne.rejectStandaloneButtonComponent(),this.isConnected=Te.state.isConnected,this.unsubscribeAccount=Te.subscribe(({isConnected:t})=>{this.isConnected=t})}disconnectedCallback(){var t;(t=this.unsubscribeAccount)==null||t.call(this)}render(){const{enableAccountView:t}=Xt.state;return this.isConnected&&t?ve`<w3m-account-button balance="${Qn(this.balance)}"></w3m-account-button>`:ve`<w3m-connect-button label="${this.isConnected?"Disconnect":Qn(this.label)}" icon="${Qn(this.icon)}"></w3m-connect-button>`}};Qu([Ft()],va.prototype,"isConnected",2),Qu([dt()],va.prototype,"label",2),Qu([dt()],va.prototype,"icon",2),Qu([dt()],va.prototype,"balance",2),va=Qu([ut("w3m-core-button")],va);const Ni={allowedExplorerListings(t){const{explorerAllowList:e,explorerDenyList:r}=Xt.state;let n=[...t];return e&&(n=n.filter(i=>e.includes(i.id))),r&&(n=n.filter(i=>!r.includes(i.id))),n},walletsWithInjected(t){let e=[...t??[]];if(window.ethereum){const r=Ne.getWalletName("");e=e.filter(({name:n})=>!Ne.caseSafeIncludes(n,r))}return e},connectorWallets(){const{isStandalone:t}=Te.state;if(t)return[];let e=Wt.client().getConnectors();return!window.ethereum&&At.isMobile()&&(e=e.filter(({id:r})=>r!=="injected"&&r!==vs.metaMask)),e},walletTemplatesWithRecent(t,e){let r=[...t];if(e){const n=Ne.getRecentWallet();r=r.filter(i=>!i.values.includes(n==null?void 0:n.name)),r.splice(1,0,e)}return r},deduplicateExplorerListingsFromConnectors(t){const{isStandalone:e}=Te.state;if(e)return t;const r=Wt.client().getConnectors().map(({name:n})=>n.toUpperCase());return t.filter(({name:n})=>!r.includes(n.toUpperCase()))}},Ape=gt`.w3m-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.w3m-desktop-title,.w3m-mobile-title{display:flex;align-items:center}.w3m-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.w3m-desktop-title{margin-bottom:10px;padding:0 10px}.w3m-subtitle{display:flex;align-items:center}.w3m-subtitle:last-child path{fill:var(--w3m-color-fg-3)}.w3m-desktop-title svg,.w3m-mobile-title svg{margin-right:6px}.w3m-desktop-title path,.w3m-mobile-title path{fill:var(--w3m-color-fg-accent)}`;var Cpe=Object.defineProperty,Ipe=Object.getOwnPropertyDescriptor,Mpe=(t,e,r,n)=>{for(var i=n>1?void 0:n?Ipe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Cpe(e,r,i),i};let zb=class extends nt{onDesktopWallet(t){It.push("DesktopConnector",{DesktopConnector:t})}onInjectedWallet(){It.push("InjectedConnector")}onInstallConnector(){It.push("InstallConnector",{InstallConnector:{id:"metaMask",name:"MetaMask",isMobile:!0,url:"https://metamask.io"}})}async onConnectorWallet(t){window.ethereum?t==="injected"||t===vs.metaMask?this.onInjectedWallet():await Ne.handleConnectorConnection(t):this.onInstallConnector()}desktopWalletsTemplate(){const{desktopWallets:t}=Xt.state;return t==null?void 0:t.map(({id:e,name:r,links:{universal:n,native:i}})=>ve`<w3m-wallet-button walletId="${e}" name="${r}" .onClick="${()=>this.onDesktopWallet({name:r,walletId:e,universal:n,native:i})}"></w3m-wallet-button>`)}previewWalletsTemplate(){let t=Ni.allowedExplorerListings(Rr.state.previewWallets);return t=Ni.deduplicateExplorerListingsFromConnectors(t),t.map(({name:e,desktop:{universal:r,native:n},homepage:i,image_url:s,id:o})=>ve`<w3m-wallet-button src="${s.lg}" name="${e}" .onClick="${()=>this.onDesktopWallet({walletId:o,name:e,native:n,universal:r||i,icon:s.lg})}"></w3m-wallet-button>`)}connectorWalletsTemplate(){return Ni.connectorWallets().map(({id:t,name:e,ready:r})=>ve`<w3m-wallet-button .installed="${["injected","metaMask"].includes(t)&&r}" name="${e}" walletId="${t}" .onClick="${async()=>this.onConnectorWallet(t)}"></w3m-wallet-button>`)}recentWalletTemplate(){const t=Ne.getRecentWallet();if(!t)return;const{id:e,name:r,links:n,image:i}=t;return ve`<w3m-wallet-button .recent="${!0}" name="${r}" walletId="${Qn(e)}" src="${Qn(i)}" .onClick="${()=>this.onDesktopWallet({name:r,walletId:e,universal:n==null?void 0:n.universal,native:n==null?void 0:n.native,icon:i})}"></w3m-wallet-button>`}render(){const{standaloneUri:t}=Te.state,e=this.desktopWalletsTemplate(),r=this.previewWalletsTemplate(),n=this.connectorWalletsTemplate(),i=this.recentWalletTemplate(),s=[...e??[],...r];let o=[...n,...s];o=Ni.walletTemplatesWithRecent(o,i);const a=t?s:o,c=a.length>4;let l=[];c?l=a.filter(h=>!h.values.includes(vs.coinbaseWallet)).slice(0,3):l=a;const u=Boolean(l.length);return ve`<w3m-modal-header border="${!0}" title="Connect your wallet" .onAction="${Ne.handleUriCopy}" .actionIcon="${ct.COPY_ICON}"></w3m-modal-header><w3m-modal-content><div class="w3m-mobile-title"><div class="w3m-subtitle">${ct.MOBILE_ICON}<w3m-text variant="small-normal" color="accent">Mobile</w3m-text></div><div class="w3m-subtitle">${ct.SCAN_ICON}<w3m-text variant="small-normal" color="secondary">Scan with your wallet</w3m-text></div></div><w3m-walletconnect-qr></w3m-walletconnect-qr></w3m-modal-content>${u?ve`<w3m-modal-footer><div class="w3m-desktop-title">${ct.DESKTOP_ICON}<w3m-text variant="small-normal" color="accent">Desktop</w3m-text></div><div class="w3m-grid">${l} ${c?ve`<w3m-view-all-wallets-button></w3m-view-all-wallets-button>`:null}</div></w3m-modal-footer>`:null}`}};zb.styles=[Ge.globalCss,Ape],zb=Mpe([ut("w3m-desktop-wallet-selection")],zb);const Tpe=gt`div{background-color:var(--w3m-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--w3m-color-bg-3);text-align:center}a{color:var(--w3m-color-fg-accent);text-decoration:none;transition:opacity .2s ease-in-out}a:hover{opacity:.8}`;var kpe=Object.defineProperty,Ope=Object.getOwnPropertyDescriptor,Rpe=(t,e,r,n)=>{for(var i=n>1?void 0:n?Ope(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&kpe(e,r,i),i};let Wb=class extends nt{render(){const{termsOfServiceUrl:t,privacyPolicyUrl:e}=Xt.state;return t??e?ve`<div><w3m-text variant="small-normal" color="secondary">By connecting your wallet, you agree to our<br>${t?ve`<a href="${t}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${t&&e?"and":null} ${e?ve`<a href="${e}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</w3m-text></div>`:null}};Wb.styles=[Ge.globalCss,Tpe],Wb=Rpe([ut("w3m-legal-notice")],Wb);const Ppe=gt`.w3m-grid{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;var Npe=Object.defineProperty,Dpe=Object.getOwnPropertyDescriptor,Bpe=(t,e,r,n)=>{for(var i=n>1?void 0:n?Dpe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Npe(e,r,i),i};let qb=class extends nt{onGoToQrcode(){It.push("Qrcode")}async onConnectorWallet(t){await Ne.handleConnectorConnection(t)}mobileWalletsTemplate(){const{mobileWallets:t}=Xt.state,e=Ni.walletsWithInjected(t);if(e.length)return e.map(({id:r,name:n,links:{universal:i,native:s}})=>ve`<w3m-wallet-button name="${n}" walletId="${r}" .onClick="${async()=>Ne.handleMobileLinking({links:{native:s,universal:i},name:n,id:r})}"></w3m-wallet-button>`)}previewWalletsTemplate(){const{previewWallets:t}=Rr.state;let e=Ni.walletsWithInjected(t);return e=Ni.allowedExplorerListings(e),e=Ni.deduplicateExplorerListingsFromConnectors(e),e.map(({image_url:r,name:n,mobile:{native:i,universal:s},id:o})=>ve`<w3m-wallet-button name="${n}" src="${r.lg}" .onClick="${async()=>Ne.handleMobileLinking({links:{native:i,universal:s},name:n,id:o,image:r.lg})}"></w3m-wallet-button>`)}connectorWalletsTemplate(){let t=Ni.connectorWallets();return window.ethereum||(t=t.filter(({id:e})=>e!=="injected"&&e!==vs.metaMask)),t.map(({name:e,id:r,ready:n})=>ve`<w3m-wallet-button .installed="${["injected","metaMask"].includes(r)&&n}" name="${e}" walletId="${r}" .onClick="${async()=>this.onConnectorWallet(r)}"></w3m-wallet-button>`)}recentWalletTemplate(){const t=Ne.getRecentWallet();if(!t)return;const{id:e,name:r,links:n,image:i}=t;return ve`<w3m-wallet-button .recent="${!0}" name="${r}" walletId="${Qn(e)}" src="${Qn(i)}" .onClick="${async()=>Ne.handleMobileLinking({name:r,id:e,links:n,image:i})}"></w3m-wallet-button>`}render(){const{standaloneUri:t}=Te.state,e=this.connectorWalletsTemplate(),r=this.mobileWalletsTemplate(),n=this.previewWalletsTemplate(),i=this.recentWalletTemplate(),s=r??n;let o=[...e,...s];o=Ni.walletTemplatesWithRecent(o,i);const a=t?s:o,c=a.length>8;let l=[];c?l=a.filter(v=>!v.values.includes(vs.coinbaseWallet)).slice(0,7):l=a;const u=l.slice(0,4),h=l.slice(4,8),b=Boolean(l.length);return ve`<w3m-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${ct.QRCODE_ICON}"></w3m-modal-header>${b?ve`<w3m-modal-content><div class="w3m-grid">${u} ${h.length?ve`${h} ${c?ve`<w3m-view-all-wallets-button></w3m-view-all-wallets-button>`:null}`:null}</div></w3m-modal-content>`:null}`}};qb.styles=[Ge.globalCss,Ppe],qb=Bpe([ut("w3m-mobile-wallet-selection")],qb);const Lpe=gt`:host{all:initial}.w3m-overlay{inset:0;position:fixed;z-index:var(--w3m-modal-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;background-color:rgba(0,0,0,.3);opacity:0;pointer-events:none}.w3m-open{pointer-events:auto}.w3m-container{position:relative;max-width:360px;width:100%;outline:0}.w3m-card{width:100%;position:relative;transform:translateY(5px);border-radius:30px;overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--w3m-color-overlay);background-color:var(--w3m-color-bg-1);color:var(--w3m-color-fg-1)}@media(max-width:600px){.w3m-container{max-width:440px}.w3m-card{border-radius:40px 40px 0 0}.w3m-overlay{align-items:flex-end}}@media(max-width:600px){.w3m-container{max-width:440px}.w3m-card{transform:translateY(5px);border-radius:40px 40px 0 0}.w3m-overlay{align-items:flex-end}}`;var $pe=Object.defineProperty,Fpe=Object.getOwnPropertyDescriptor,Z0=(t,e,r,n)=>{for(var i=n>1?void 0:n?Fpe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&$pe(e,r,i),i};let wa=class extends nt{constructor(){if(super(),this.open=!1,this.preload=!0,this.activeChainId=void 0,this.unsubscribeModal=void 0,this.unsubscribeConfig=void 0,this.unwatchAccount=void 0,this.unwatchNetwork=void 0,this.abortController=void 0,Ge.setTheme(),this.unsubscribeConfig=Xt.subscribe(Ge.setTheme),this.unsubscribeModal=Ar.subscribe(t=>{t.open?this.onOpenModalEvent():this.onCloseModalEvent()}),!Te.state.isStandalone){Te.getAccount();const t=Te.getSelectedChain();this.activeChainId=t==null?void 0:t.id,this.fetchEnsProfile(),this.fetchBalance(),this.unwatchNetwork=Wt.client().watchNetwork(e=>{const r=e.chain;r&&this.activeChainId!==r.id&&(Te.setSelectedChain(r),this.activeChainId=r.id,Te.resetBalance(),this.fetchBalance())}),this.unwatchAccount=Wt.client().watchAccount(e=>{const{address:r}=Te.state;e.address!==r&&(this.fetchEnsProfile(e.address),this.fetchBalance(e.address)),Te.setAddress(e.address),Te.setIsConnected(e.isConnected)})}this.preloadModalData()}disconnectedCallback(){var t,e,r,n;(t=this.unsubscribeModal)==null||t.call(this),(e=this.unsubscribeConfig)==null||e.call(this),(r=this.unwatchAccount)==null||r.call(this),(n=this.unwatchNetwork)==null||n.call(this)}get overlayEl(){return Ne.getShadowRootElement(this,".w3m-overlay")}get containerEl(){return Ne.getShadowRootElement(this,".w3m-container")}async fetchEnsProfile(t){try{if(Xt.state.enableAccountView){Te.setProfileLoading(!0);const e=t??Te.state.address,{id:r}=Wt.client().getDefaultChain();if(e&&r===1){const[n,i]=await Promise.all([Wt.client().fetchEnsName({address:e,chainId:1}),Wt.client().fetchEnsAvatar({address:e,chainId:1})]);i&&await Ne.preloadImage(i),Te.setProfileName(n),Te.setProfileAvatar(i)}}}catch(e){console.error(e),kn.openToast(Ne.getErrorMessage(e),"error")}finally{Te.setProfileLoading(!1)}}async fetchBalance(t){try{if(Xt.state.enableAccountView){Te.setBalanceLoading(!0);const e=t??Te.state.address;if(e){const r=await Wt.client().fetchBalance({address:e});Te.setBalance({amount:r.formatted,symbol:r.symbol})}}}catch(e){console.error(e),kn.openToast(Ne.getErrorMessage(e),"error")}finally{Te.setBalanceLoading(!1)}}toggleBodyScroll(t){if(document.querySelector("body"))if(t){const e=document.getElementById("w3m-styles");e==null||e.remove()}else document.head.insertAdjacentHTML("beforeend",'<style id="w3m-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>')}async preloadExplorerData(){var t;const{standaloneChains:e,chains:r}=Te.state,n=e==null?void 0:e.join(",");await Promise.all([Rr.getPreviewWallets({page:1,entries:10,chains:n,device:At.isMobile()?"mobile":"desktop",version:At.getWalletConnectVersion()}),Rr.getRecomendedWallets()]),Te.setIsDataLoaded(!0);const{previewWallets:i,recomendedWallets:s}=Rr.state,o=(t=r==null?void 0:r.map(c=>Ne.getChainIcon(c.id)))!=null?t:[],a=[...i,...s].map(c=>c.image_url.lg);await this.preloadExplorerImages([...o,...a])}async preloadExplorerImages(t){t.length&&await Promise.all(t.map(async e=>Ne.preloadImage(e)))}async preloadCustomImages(){const t=Ne.getCustomImageUrls();t.length&&await Promise.all(t.map(async e=>Ne.preloadImage(e)))}async preloadConnectorImages(){if(!Te.state.isStandalone){const t=Ne.getConnectorImageUrls();t.length&&await Promise.all(t.map(async e=>Ne.preloadImage(e)))}}async preloadModalData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadExplorerData(),this.preloadCustomImages(),this.preloadConnectorImages()]))}catch(t){console.error(t),kn.openToast("Failed preloading","error")}}onCloseModal(t){t.target===t.currentTarget&&Ar.close()}async onOpenModalEvent(){await this.preloadModalData(),this.toggleBodyScroll(!1);const t=.2;await vo(this.containerEl,{y:0},{duration:0}).finished,vo(this.overlayEl,{opacity:[0,1]},{duration:.2,delay:t}),vo(this.containerEl,Ne.isMobileAnimation()?{y:["50vh",0]}:{scale:[.98,1]},{scale:{easing:U0({velocity:.4})},y:{easing:U0({mass:.5})},delay:t}),this.addKeyboardEvents(),this.open=!0}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents(),await Promise.all([vo(this.containerEl,Ne.isMobileAnimation()?{y:[0,"50vh"]}:{scale:[1,.98]},{scale:{easing:U0({velocity:0})},y:{easing:U0({mass:.5})}}).finished,vo(this.overlayEl,{opacity:[1,0]},{duration:.2}).finished]),this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",t=>{var e;t.key==="Escape"?Ar.close():t.key==="Tab"&&((e=t.target)!=null&&e.tagName.includes("W3M-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var t;(t=this.abortController)==null||t.abort(),this.abortController=void 0}render(){const t={"w3m-overlay":!0,"w3m-open":this.open};return ve`<div id="w3m-modal" class="${Nn(t)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="w3m-container" tabindex="0">${this.open?ve`<w3m-modal-backcard></w3m-modal-backcard><div class="w3m-card"><w3m-modal-router></w3m-modal-router><w3m-modal-toast></w3m-modal-toast></div>`:null}</div></div>`}};wa.styles=[Ge.globalCss,Lpe],Z0([Ft()],wa.prototype,"open",2),Z0([Ft()],wa.prototype,"preload",2),Z0([Ft()],wa.prototype,"activeChainId",2),wa=Z0([ut("w3m-modal")],wa);const Upe=gt`:host{all:initial}w3m-network-image{margin-left:-6px;margin-right:6px;width:28px;height:28px}`;var jpe=Object.defineProperty,Hpe=Object.getOwnPropertyDescriptor,Y0=(t,e,r,n)=>{for(var i=n>1?void 0:n?Hpe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&jpe(e,r,i),i};let xa=class extends nt{constructor(){super(),this.chainId="",this.label="",this.wrongNetwork=!1,this.unsubscribeNetwork=void 0,Ne.rejectStandaloneButtonComponent();const{selectedChain:t}=Te.state;this.onSetChainData(t),this.unsubscribeNetwork=Te.subscribe(({selectedChain:e})=>{this.onSetChainData(e)})}disconnectedCallback(){var t;(t=this.unsubscribeNetwork)==null||t.call(this)}onSetChainData(t){if(t){const{chains:e}=Te.state,r=e==null?void 0:e.map(n=>n.id);this.chainId=t.id.toString(),this.wrongNetwork=!(r!=null&&r.includes(t.id)),this.label=this.wrongNetwork?"Wrong Network":t.name}}onClick(){Ar.open({route:"SelectNetwork"})}render(){var t;const{chains:e}=Te.state,r=e&&e.length>1;return ve`<w3m-button-big @click="${this.onClick}" ?disabled="${!r}"><w3m-network-image chainId="${Qn(this.chainId)}"></w3m-network-image><w3m-text variant="medium-normal" color="inverse">${(t=this.label)!=null&&t.length?this.label:"Select Network"}</w3m-text></w3m-button-big>`}};xa.styles=[Ge.globalCss,Upe],Y0([Ft()],xa.prototype,"chainId",2),Y0([Ft()],xa.prototype,"label",2),Y0([Ft()],xa.prototype,"wrongNetwork",2),xa=Y0([ut("w3m-network-switch")],xa);const zpe=gt`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:10px;transition:background-color .2s ease;height:100%;justify-content:flex-start}.w3m-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:15px;justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--w3m-color-bg-2);box-shadow:inset 0 0 0 1px var(--w3m-color-overlay)}button:hover{background-color:var(--w3m-color-overlay)}.w3m-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:8px;border:1px solid var(--w3m-color-overlay)}.w3m-icons svg{width:21px;height:21px}.w3m-icons img:nth-child(1),.w3m-icons img:nth-child(2),.w3m-icons svg:nth-child(1),.w3m-icons svg:nth-child(2){margin-bottom:4px}w3m-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--w3m-color-bg-3)}#wallet-placeholder-dash{stroke:var(--w3m-color-overlay)}`;var Wpe=Object.defineProperty,qpe=Object.getOwnPropertyDescriptor,Vpe=(t,e,r,n)=>{for(var i=n>1?void 0:n?qpe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Wpe(e,r,i),i};let Vb=class extends nt{onClick(){It.push("WalletExplorer")}render(){const{previewWallets:t}=Rr.state,e=Ne.getCustomWallets(),r=[...t,...e].reverse().slice(0,4);return ve`<button @click="${this.onClick}"><div class="w3m-icons">${r.map(n=>{var i;const s=(i=n.image_url)==null?void 0:i.lg;if(s)return ve`<img src="${s}">`;const o=Ne.getWalletId(n.id),a=Ne.getWalletIcon(o);return a?ve`<img src="${a}">`:ct.WALLET_PLACEHOLDER})}</div><w3m-text variant="xsmall-normal">View All</w3m-text></button>`}};Vb.styles=[Ge.globalCss,zpe],Vb=Vpe([ut("w3m-view-all-wallets-button")],Vb);const Gpe=gt`.w3m-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var Kpe=Object.defineProperty,Jpe=Object.getOwnPropertyDescriptor,N8=(t,e,r,n)=>{for(var i=n>1?void 0:n?Jpe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Kpe(e,r,i),i};let Q0=class extends nt{constructor(){super(),this.uri="",this.createConnectionAndWait()}get overlayEl(){return Ne.getShadowRootElement(this,".w3m-qr-container")}async createConnectionAndWait(t=0){var e;try{const{standaloneUri:r}=Te.state;r?setTimeout(()=>this.uri=r,0):(await Wt.client().connectWalletConnect(n=>this.uri=n,(e=Te.state.selectedChain)==null?void 0:e.id),Ar.close())}catch(r){console.error(r),kn.openToast("Connection request declined","error"),t<2&&this.createConnectionAndWait(t+1)}}render(){return ve`<div class="w3m-qr-container">${this.uri?ve`<w3m-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}"></w3m-qrcode>`:ve`<w3m-spinner></w3m-spinner>`}</div>`}};Q0.styles=[Ge.globalCss,Gpe],N8([Ft()],Q0.prototype,"uri",2),Q0=N8([ut("w3m-walletconnect-qr")],Q0);const Zpe=gt`.w3m-profile{display:flex;justify-content:space-between;align-items:flex-start;padding-top:20px}.w3m-connection-badge{background-color:var(--w3m-color-bg-2);box-shadow:inset 0 0 0 1px var(--w3m-color-overlay);padding:6px 10px 6px 26px;position:relative;border-radius:28px}.w3m-connection-badge::before{content:'';position:absolute;width:10px;height:10px;left:10px;background-color:var(--w3m-color-success);border-radius:50%;top:50%;margin-top:-5px;box-shadow:0 1px 4px 1px var(--w3m-color-success),inset 0 0 0 1px var(--w3m-color-overlay)}.w3m-footer{display:flex;justify-content:space-between}w3m-address-text{margin-top:10px;display:block}.w3m-balance{border-top:1px solid var(--w3m-color-bg-2);padding:11px 20px}`;var Ype=Object.defineProperty,Qpe=Object.getOwnPropertyDescriptor,Xpe=(t,e,r,n)=>{for(var i=n>1?void 0:n?Qpe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Ype(e,r,i),i};let Gb=class extends nt{onDisconnect(){Ar.close(),Wt.client().disconnect(),Te.resetAccount()}async onCopyAddress(){var t;await navigator.clipboard.writeText((t=Te.state.address)!=null?t:""),kn.openToast("Address copied","success")}render(){return ve`<w3m-modal-content><div class="w3m-profile"><div class="w3m-info"><w3m-avatar size="medium"></w3m-avatar><w3m-address-text variant="modal"></w3m-address-text></div><div class="w3m-connection-badge"><w3m-text variant="small-normal" color="secondary">Connected</w3m-text></div></div></w3m-modal-content><div class="w3m-balance"><w3m-balance></w3m-balance></div><w3m-modal-footer><div class="w3m-footer"><w3m-account-network-button></w3m-account-network-button><w3m-box-button label="Copy Address" .onClick="${this.onCopyAddress}" .icon="${ct.ACCOUNT_COPY}"></w3m-box-button><w3m-box-button label="Disconnect" .onClick="${this.onDisconnect}" .icon="${ct.ACCOUNT_DISCONNECT}"></w3m-box-button></div></w3m-modal-footer>`}};Gb.styles=[Ge.globalCss,Zpe],Gb=Xpe([ut("w3m-account-view")],Gb);var e1e=Object.defineProperty,t1e=Object.getOwnPropertyDescriptor,r1e=(t,e,r,n)=>{for(var i=n>1?void 0:n?t1e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&e1e(e,r,i),i};let Kb=class extends nt{viewTemplate(){return At.isAndroid()?ve`<w3m-android-wallet-selection></w3m-android-wallet-selection>`:At.isMobile()?ve`<w3m-mobile-wallet-selection></w3m-mobile-wallet-selection>`:ve`<w3m-desktop-wallet-selection></w3m-desktop-wallet-selection>`}render(){return ve`${this.viewTemplate()}<w3m-legal-notice></w3m-legal-notice>`}};Kb.styles=[Ge.globalCss],Kb=r1e([ut("w3m-connect-wallet-view")],Kb);const n1e=gt`.w3m-wrapper{display:flex;align-items:center;justify-content:center;width:100%;aspect-ratio:1/1;flex-direction:column}.w3m-connecting-title{display:flex;align-items:center;justify-content:center;margin-bottom:16px}w3m-spinner{margin-right:10px}w3m-wallet-image{border-radius:15px;width:25%;aspect-ratio:1/1;margin-bottom:20px}.w3m-install-actions{display:flex}.w3m-install-actions w3m-button{margin:0 5px;opacity:1}`;var i1e=Object.defineProperty,s1e=Object.getOwnPropertyDescriptor,D8=(t,e,r,n)=>{for(var i=n>1?void 0:n?s1e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&i1e(e,r,i),i};let X0=class extends nt{constructor(){super(),this.uri="",this.createConnectionAndWait()}getRouterData(){var t;const e=(t=It.state.data)==null?void 0:t.DesktopConnector;if(!e)throw new Error("Missing router data");return e}onFormatAndRedirect(t){const{native:e,universal:r,name:n}=this.getRouterData();if(e){const i=At.formatNativeUrl(e,t,n);At.openHref(i)}else if(r){const i=At.formatUniversalUrl(r,t,n);At.openHref(i,"_blank")}}async createConnectionAndWait(t=0){var e;const{standaloneUri:r}=Te.state;if(r)this.onFormatAndRedirect(r);else try{await Wt.client().connectWalletConnect(c=>{this.uri=c,this.onFormatAndRedirect(c)},(e=Te.state.selectedChain)==null?void 0:e.id);const{name:n,walletId:i,native:s,universal:o,icon:a}=this.getRouterData();Ne.setRecentWallet({name:n,id:i,links:{native:s,universal:o},image:a}),Ar.close()}catch(n){console.error(n),kn.openToast("Connection request declined","error"),t<2&&this.createConnectionAndWait(t+1)}}onConnectWithMobile(){It.push("Qrcode")}onGoToWallet(){const{universal:t,name:e}=this.getRouterData();if(t){const r=At.formatUniversalUrl(t,this.uri,e);At.openHref(r,"_blank")}}render(){const{name:t,icon:e,universal:r,walletId:n}=this.getRouterData(),i=Ne.getWalletName(t);return ve`<w3m-modal-header title="${i}"></w3m-modal-header><w3m-modal-content><div class="w3m-wrapper">${e?ve`<w3m-wallet-image src="${e}" size="lg"></w3m-wallet-image>`:ve`<w3m-wallet-image size="lg" walletid="${Qn(n)}"></w3m-wallet-image>`}<div class="w3m-connecting-title"><w3m-spinner></w3m-spinner><w3m-text variant="large-bold" color="secondary">${`Continue in ${i}...`}</w3m-text></div><div class="w3m-install-actions"><w3m-button .onClick="${async()=>this.createConnectionAndWait()}" .iconRight="${ct.RETRY_ICON}">Retry</w3m-button>${r?ve`<w3m-button .onClick="${this.onGoToWallet.bind(this)}" .iconLeft="${ct.ARROW_UP_RIGHT_ICON}">Go to Wallet</w3m-button>`:ve`<w3m-button .onClick="${this.onConnectWithMobile}" .iconLeft="${ct.MOBILE_ICON}">Connect with Mobile</w3m-button>`}</div></div></w3m-modal-content>`}};X0.styles=[Ge.globalCss,n1e],D8([Ft()],X0.prototype,"uri",2),X0=D8([ut("w3m-desktop-connector-view")],X0);const o1e=gt`.w3m-info-text{margin:5px 0 15px;max-width:320px;text-align:center}.w3m-wallet-item{margin:0 -20px 0 0;padding-right:20px;display:flex;align-items:center;border-bottom:1px solid var(--w3m-color-bg-2)}.w3m-wallet-item:last-child{margin-bottom:-20px;border-bottom:0}.w3m-wallet-content{margin-left:20px;height:60px;display:flex;flex:1;align-items:center;justify-content:space-between}.w3m-footer-actions{display:flex;flex-direction:column;align-items:center;padding:20px 0;border-top:1px solid var(--w3m-color-bg-2)}w3m-wallet-image{display:block;width:40px;height:40px;border-radius:10px}`;var a1e=Object.defineProperty,c1e=Object.getOwnPropertyDescriptor,l1e=(t,e,r,n)=>{for(var i=n>1?void 0:n?c1e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&a1e(e,r,i),i};let Jb=class extends nt{constructor(){super(...arguments),this.explorerUrl="https://explorer.walletconnect.com/"}onGet(t){At.openHref(t,"_blank")}onExplore(){At.openHref(this.explorerUrl,"_blank")}render(){const{recomendedWallets:t}=Rr.state,e=Ne.getCustomWallets().slice(0,6),r=t.length,n=e.length;return ve`<w3m-modal-header title="Get a wallet"></w3m-modal-header><w3m-modal-content>${r?t.map(({name:i,image_url:s,homepage:o})=>ve`<div class="w3m-wallet-item"><w3m-wallet-image src="${s.lg}"></w3m-wallet-image><div class="w3m-wallet-content"><w3m-text variant="medium-normal">${i}</w3m-text><w3m-button .iconRight="${ct.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGet(o)}">Get</w3m-button></div></div>`):null} ${n?e.map(({name:i,id:s,links:o})=>ve`<div class="w3m-wallet-item"><w3m-wallet-image walletId="${s}"></w3m-wallet-image><div class="w3m-wallet-content"><w3m-text variant="medium-normal">${i}</w3m-text><w3m-button .iconRight="${ct.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGet(o.universal)}">Get</w3m-button></div></div>`):null}</w3m-modal-content><div class="w3m-footer-actions"><w3m-text variant="medium-normal">Not what you're looking for?</w3m-text><w3m-text variant="small-thin" color="secondary" class="w3m-info-text">With hundreds of wallets out there, there's something for everyone</w3m-text><w3m-button .onClick="${this.onExplore.bind(this)}" .iconRight="${ct.ARROW_UP_RIGHT_ICON}">Explore Wallets</w3m-button></div>`}};Jb.styles=[Ge.globalCss,o1e],Jb=l1e([ut("w3m-get-wallet-view")],Jb);const u1e=gt`.w3m-footer-actions{display:flex;justify-content:center}.w3m-footer-actions w3m-button{margin:0 5px}.w3m-info-container{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-bottom:20px}.w3m-info-container:last-child{margin-bottom:0}.w3m-info-text{margin-top:5px;text-align:center}.w3m-images svg{margin:0 2px 5px;width:55px;height:55px}.help-img-highlight{stroke:var(--w3m-color-overlay)}`;var f1e=Object.defineProperty,h1e=Object.getOwnPropertyDescriptor,d1e=(t,e,r,n)=>{for(var i=n>1?void 0:n?h1e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&f1e(e,r,i),i};let Zb=class extends nt{constructor(){super(...arguments),this.learnUrl="https://ethereum.org/en/wallets/"}onGet(){It.push("GetWallet")}onLearnMore(){At.openHref(this.learnUrl,"_blank")}render(){return ve`<w3m-modal-header title="What is a wallet?"></w3m-modal-header><w3m-modal-content><div class="w3m-info-container"><div class="w3m-images">${ct.HELP_CHART_IMG} ${ct.HELP_PAINTING_IMG} ${ct.HELP_ETH_IMG}</div><w3m-text variant="medium-normal">A home for your digital assets</w3m-text><w3m-text variant="small-thin" color="secondary" class="w3m-info-text">A wallet lets you store, send and receive digital assets like cryptocurrencies and NFTs.</w3m-text></div><div class="w3m-info-container"><div class="w3m-images">${ct.HELP_KEY_IMG} ${ct.HELP_USER_IMG} ${ct.HELP_LOCK_IMG}</div><w3m-text variant="medium-normal">One login for all of web3</w3m-text><w3m-text variant="small-thin" color="secondary" class="w3m-info-text">Log in to any app by connecting your wallet. Say goodbye to countless passwords!</w3m-text></div><div class="w3m-info-container"><div class="w3m-images">${ct.HELP_COMPAS_IMG} ${ct.HELP_NOUN_IMG} ${ct.HELP_DAO_IMG}</div><w3m-text variant="medium-normal">Your gateway to a new web</w3m-text><w3m-text variant="small-thin" color="secondary" class="w3m-info-text">With your wallet, you can explore and interact with DeFi, NFTs, DAOs, and much more.</w3m-text></div><div class="w3m-footer-actions"><w3m-button .onClick="${this.onGet.bind(this)}" .iconLeft="${ct.WALLET_ICON}">Get a Wallet</w3m-button><w3m-button .onClick="${this.onLearnMore.bind(this)}" .iconRight="${ct.ARROW_UP_RIGHT_ICON}">Learn More</w3m-button></div></w3m-modal-content>`}};Zb.styles=[Ge.globalCss,u1e],Zb=d1e([ut("w3m-help-view")],Zb);const p1e=gt`.w3m-injected-wrapper{display:flex;align-items:center;justify-content:center;width:100%;aspect-ratio:1/1;flex-direction:column}.w3m-connecting-title{display:flex;align-items:center;justify-content:center;margin-bottom:20px}w3m-spinner{margin-right:10px}w3m-wallet-image{border-radius:15px;width:25%;aspect-ratio:1/1;margin-bottom:20px}w3m-button{opacity:0}.w3m-injected-error w3m-button{opacity:1}`;var g1e=Object.defineProperty,m1e=Object.getOwnPropertyDescriptor,Yb=(t,e,r,n)=>{for(var i=n>1?void 0:n?m1e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&g1e(e,r,i),i};let Xu=class extends nt{constructor(){super(),this.connecting=!0,this.error=!1,this.connector=Wt.client().getConnectorById("injected"),this.onConnect()}async onConnect(){const{ready:t}=this.connector;t&&(this.error=!1,this.connecting=!0,await Ne.handleConnectorConnection("injected",()=>{this.error=!0,this.connecting=!1}))}render(){const t=Ne.getWalletName(this.connector.name),e=Ne.getWalletId(this.connector.id),r={"w3m-injected-wrapper":!0,"w3m-injected-error":this.error};return ve`<w3m-modal-header title="${t}"></w3m-modal-header><w3m-modal-content><div class="${Nn(r)}"><w3m-wallet-image walletId="${e}" size="lg"></w3m-wallet-image><div class="w3m-connecting-title">${this.connecting?ve`<w3m-spinner></w3m-spinner>`:null}<w3m-text variant="large-bold" color="${this.error?"error":"secondary"}">${this.error?"Connection declined":`Continue in ${t}...`}</w3m-text></div><w3m-button .onClick="${this.onConnect.bind(this)}" .disabled="${!this.error}" .iconRight="${ct.RETRY_ICON}">Try Again</w3m-button></div></w3m-modal-content>`}};Xu.styles=[Ge.globalCss,p1e],Yb([Ft()],Xu.prototype,"connecting",2),Yb([Ft()],Xu.prototype,"error",2),Xu=Yb([ut("w3m-injected-connector-view")],Xu);const b1e=gt`.w3m-injected-wrapper{display:flex;align-items:center;justify-content:center;width:100%;aspect-ratio:1/1;flex-direction:column}.w3m-connecting-title{display:flex;align-items:center;justify-content:center;margin-bottom:16px}.w3m-install-title{display:flex;align-items:center;justify-content:center;flex-direction:column}.w3m-install-title w3m-text:last-child{margin-top:10px;max-width:240px}.w3m-install-actions{display:flex;margin-top:15px;align-items:center;flex-direction:column}@media(max-width:355px){.w3m-install-actions{flex-direction:column;align-items:center}}w3m-wallet-image{border-radius:15px;width:25%;aspect-ratio:1/1;margin-bottom:20px}w3m-button{opacity:0}.w3m-install-actions w3m-button{margin:5px;opacity:1}.w3m-info-text{text-align:center}`;var y1e=Object.defineProperty,v1e=Object.getOwnPropertyDescriptor,w1e=(t,e,r,n)=>{for(var i=n>1?void 0:n?v1e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&y1e(e,r,i),i};let Qb=class extends nt{getRouterData(){var t;const e=(t=It.state.data)==null?void 0:t.InstallConnector;if(!e)throw new Error("Missing router data");return e}onInstall(){const{url:t}=this.getRouterData();At.openHref(t,"_blank")}onMobile(){const{name:t}=this.getRouterData();It.push("ConnectWallet"),kn.openToast(`Scan the code with ${t}`,"success")}render(){const{name:t,id:e,isMobile:r}=this.getRouterData();return ve`<w3m-modal-header title="${t}"></w3m-modal-header><w3m-modal-content><div class="w3m-injected-wrapper"><w3m-wallet-image walletId="${e}" size="lg"></w3m-wallet-image><div class="w3m-install-title"><w3m-text variant="large-bold">Install ${t}</w3m-text><w3m-text color="secondary" variant="medium-thin" class="w3m-info-text">To connect ${t}, install the browser extension.</w3m-text></div><div class="w3m-install-actions"><w3m-button .onClick="${this.onInstall.bind(this)}" .iconLeft="${ct.ARROW_DOWN_ICON}">Install Extension</w3m-button>${r?ve`<w3m-button .onClick="${this.onMobile.bind(this)}" .iconLeft="${ct.MOBILE_ICON}">${t} Mobile</w3m-button>`:null}</div></div></w3m-modal-content>`}};Qb.styles=[Ge.globalCss,b1e],Qb=w1e([ut("w3m-install-connector-view")],Qb);var x1e=Object.defineProperty,_1e=Object.getOwnPropertyDescriptor,E1e=(t,e,r,n)=>{for(var i=n>1?void 0:n?_1e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&x1e(e,r,i),i};let Xb=class extends nt{render(){return ve`<w3m-modal-header title="Scan the code" .onAction="${Ne.handleUriCopy}" .actionIcon="${ct.COPY_ICON}"></w3m-modal-header><w3m-modal-content><w3m-walletconnect-qr></w3m-walletconnect-qr></w3m-modal-content>`}};Xb.styles=[Ge.globalCss],Xb=E1e([ut("w3m-qrcode-view")],Xb);const S1e=gt`.w3m-grid{display:grid;grid-template-columns:repeat(4,80px);margin:-5px -10px;justify-content:space-between}`;var A1e=Object.defineProperty,C1e=Object.getOwnPropertyDescriptor,I1e=(t,e,r,n)=>{for(var i=n>1?void 0:n?C1e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&A1e(e,r,i),i};let ey=class extends nt{async onSelectChain(t){const{isConnected:e,selectedChain:r}=Te.state;e?(r==null?void 0:r.id)===t.id?It.replace("Account"):Wt.client().walletConnectVersion===2?(await Wt.client().switchNetwork({chainId:t.id}),It.replace("Account")):It.push("SwitchNetwork",{SwitchNetwork:t}):(It.push("ConnectWallet"),Te.setSelectedChain(t))}render(){const{chains:t}=Te.state;return ve`<w3m-modal-header title="Select network"></w3m-modal-header><w3m-modal-content><div class="w3m-grid">${t==null?void 0:t.map(e=>ve`<w3m-network-button name="${e.name}" chainId="${e.id}" .onClick="${async()=>this.onSelectChain(e)}">${e.name}</w3m-network-button>`)}</div></w3m-modal-content>`}};ey.styles=[Ge.globalCss,S1e],ey=I1e([ut("w3m-select-network-view")],ey);const M1e=gt`.w3m-wrapper{display:flex;align-items:center;justify-content:center;width:100%;aspect-ratio:1/1;flex-direction:column}.w3m-connecting-title{display:flex;align-items:center;justify-content:center;margin-bottom:16px}w3m-spinner{margin-right:10px}w3m-network-image{width:96px;height:96px;margin-bottom:20px}w3m-button{opacity:0}.w3m-error w3m-button{opacity:1}`;var T1e=Object.defineProperty,k1e=Object.getOwnPropertyDescriptor,B8=(t,e,r,n)=>{for(var i=n>1?void 0:n?k1e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&T1e(e,r,i),i};let ed=class extends nt{constructor(){super(),this.error=!1,this.onSwitchNetwork()}getRouterData(){var t;const e=(t=It.state.data)==null?void 0:t.SwitchNetwork;if(!e)throw new Error("Missing router data");return e}async onSwitchNetwork(){try{this.error=!1;const t=this.getRouterData();await Wt.client().switchNetwork({chainId:t.id}),Te.setSelectedChain(t),It.replace("Account")}catch{this.error=!0}}render(){const{id:t,name:e}=this.getRouterData(),r={"w3m-wrapper":!0,"w3m-error":this.error};return ve`<w3m-modal-header title="${`Connect to ${e}`}"></w3m-modal-header><w3m-modal-content><div class="${Nn(r)}"><w3m-network-image chainId="${t}"></w3m-network-image><div class="w3m-connecting-title">${this.error?null:ve`<w3m-spinner></w3m-spinner>`}<w3m-text variant="large-bold" color="${this.error?"error":"secondary"}">${this.error?"Connection declined":"Approve in your wallet"}</w3m-text></div><w3m-button .onClick="${this.onSwitchNetwork.bind(this)}" .disabled="${!this.error}" .iconRight="${ct.RETRY_ICON}">Try Again</w3m-button></div></w3m-modal-content>`}};ed.styles=[Ge.globalCss,M1e],B8([Ft()],ed.prototype,"error",2),ed=B8([ut("w3m-switch-network-view")],ed);const O1e=gt`w3m-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.w3m-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}w3m-modal-content::after,w3m-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}w3m-modal-content::before{box-shadow:0 -1px 0 0 var(--w3m-color-bg-1);background:linear-gradient(var(--w3m-color-bg-1),rgba(255,255,255,0))}w3m-modal-content::after{box-shadow:0 1px 0 0 var(--w3m-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--w3m-color-bg-1));top:calc(100% - 20px)}w3m-modal-content::-webkit-scrollbar{display:none}.w3m-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.w3m-empty,.w3m-loading{display:flex}.w3m-loading .w3m-placeholder-block{height:100%}.w3m-end-reached .w3m-placeholder-block{height:0;opacity:0}.w3m-empty .w3m-placeholder-block{opacity:1;height:100%}w3m-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var R1e=Object.defineProperty,P1e=Object.getOwnPropertyDescriptor,ef=(t,e,r,n)=>{for(var i=n>1?void 0:n?P1e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&R1e(e,r,i),i};const ty=40;let ba=class extends nt{constructor(){super(...arguments),this.loading=!Rr.state.wallets.listings.length,this.firstFetch=!Rr.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=Ne.debounce(t=>{t.length>=3?(this.firstFetch=!0,this.endReached=!1,this.search=t,Rr.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),Rr.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var t;(t=this.intersectionObserver)==null||t.disconnect()}get placeholderEl(){return Ne.getShadowRootElement(this,".w3m-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([t])=>{t.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:t,search:e}=Rr.state,{listings:r,total:n}=this.search?e:t;return n<=ty||r.length>=n}async fetchWallets(){var t;const{wallets:e,search:r}=Rr.state,n=Ne.getExtensionWallets(),{listings:i,total:s,page:o}=this.search?r:e;if(!this.endReached&&(this.firstFetch||s>ty&&i.length<s))try{this.loading=!0;const a=(t=Te.state.standaloneChains)==null?void 0:t.join(","),{listings:c}=await Rr.getPaginatedWallets({page:this.firstFetch?1:o+1,entries:ty,device:At.isMobile()?"mobile":"desktop",search:this.search,version:At.getWalletConnectVersion(),chains:a}),l=c.map(({image_url:h})=>h.lg),u=n.map(({id:h})=>Ne.getWalletIcon(h));await Promise.all([...l.map(async h=>Ne.preloadImage(h)),...u.map(async h=>Ne.preloadImage(h)),At.wait(300)]),this.endReached=this.isLastPage()}catch(a){console.error(a),kn.openToast(Ne.getErrorMessage(a),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnectCustom({name:t,id:e,links:r}){At.isMobile()?Ne.handleMobileLinking({links:r,name:t,id:e}):It.push("DesktopConnector",{DesktopConnector:{name:t,walletId:e,universal:r.universal,native:r.native}})}onConnectListing(t){if(At.isMobile()){const{id:e,image_url:r}=t,{native:n,universal:i}=t.mobile;Ne.handleMobileLinking({links:{native:n,universal:i},name:t.name,id:e,image:r.lg})}else It.push("DesktopConnector",{DesktopConnector:{name:t.name,icon:t.image_url.lg,universal:t.desktop.universal||t.homepage,native:t.desktop.native}})}onConnectExtension(t){Ne.getWalletId("")===t.id?It.push("InjectedConnector"):It.push("InstallConnector",{InstallConnector:t})}onSearchChange(t){const{value:e}=t.target;this.searchDebounce(e)}coinbaseConnectorTemplate(){try{const t=Wt.client().getConnectorById(vs.coinbaseWallet);return ve`<w3m-wallet-button name="${t.name}" walletId="${t.id}" .onClick="${async()=>Ne.handleConnectorConnection(vs.coinbaseWallet)}"></w3m-wallet-button>`}catch{return null}}render(){const{wallets:t,search:e}=Rr.state,{isStandalone:r}=Te.state;let{listings:n}=this.search?e:t;n=Ni.allowedExplorerListings(n);const i=this.loading&&!n.length,s=this.search.length>=3,o=!i&&(!s||Ne.caseSafeIncludes(vs.coinbaseWallet,this.search));let a=!r&&!At.isMobile()?Ne.getExtensionWallets():[],c=Ne.getCustomWallets();s&&(a=a.filter(({name:b})=>Ne.caseSafeIncludes(b,this.search)),c=c.filter(({name:b})=>Ne.caseSafeIncludes(b,this.search)));const l=!this.loading&&!n.length&&!a.length&&!o,u=Math.max(a.length,n.length),h={"w3m-loading":i,"w3m-end-reached":this.endReached||!this.loading,"w3m-empty":l};return ve`<w3m-modal-header><w3m-search-input .onChange="${this.onSearchChange.bind(this)}"></w3m-search-input></w3m-modal-header><w3m-modal-content class="${Nn(h)}"><div class="w3m-grid">${i?null:[...Array(u)].map((b,v)=>ve`${c[v]?ve`<w3m-wallet-button name="${c[v].name}" walletId="${c[v].id}" .onClick="${()=>this.onConnectCustom(c[v])}"></w3m-wallet-button>`:null} ${a[v]?ve`<w3m-wallet-button name="${a[v].name}" walletId="${a[v].id}" .onClick="${()=>this.onConnectExtension(a[v])}"></w3m-wallet-button>`:null} ${n[v]?ve`<w3m-wallet-button src="${n[v].image_url.lg}" name="${n[v].name}" walletId="${n[v].id}" .onClick="${()=>this.onConnectListing(n[v])}"></w3m-wallet-button>`:null}`)} ${o?this.coinbaseConnectorTemplate():null}</div><div class="w3m-placeholder-block">${l?ve`<w3m-text variant="large-bold" color="secondary">No results found</w3m-text>`:null} ${!l&&this.loading?ve`<w3m-spinner></w3m-spinner>`:null}</div></w3m-modal-content>`}};ba.styles=[Ge.globalCss,O1e],ef([Ft()],ba.prototype,"loading",2),ef([Ft()],ba.prototype,"firstFetch",2),ef([Ft()],ba.prototype,"search",2),ef([Ft()],ba.prototype,"endReached",2),ba=ef([ut("w3m-wallet-explorer-view")],ba);const XT=Object.freeze(Object.defineProperty({__proto__:null,get W3mAccountButton(){return lf},get W3mConnectButton(){return ya},get W3mCoreButton(){return va},get W3mModal(){return wa},get W3mNetworkSwitch(){return xa}},Symbol.toStringTag,{value:"Module"}))});export default N1e();
